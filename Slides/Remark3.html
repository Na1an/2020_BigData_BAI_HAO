<!DOCTYPE html>
<!-- saved from url=(0081)https://stephanegaiffas.github.io/big_data_course/slides/slides03_sparkrdd.html#1 -->
<html class="remark-container" data-blockbyte-bs-uid="69061"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style type="text/css" title="remark">html.remark-container,body.remark-container{height:100%;width:100%;-webkit-print-color-adjust:exact}.remark-container{background:#d7d8d2;margin:0;overflow:hidden}.remark-container:focus{outline-style:solid;outline-width:1px}.remark-container:-webkit-full-screen{width:100%;height:100%}body:-webkit-full-screen{background:#000000}body:-moz-full-screen{background:#000000}body:fullscreen{background:#000000}.remark-slides-area{position:relative;height:100%;width:100%}.remark-slide-container{display:none;position:absolute;height:100%;width:100%;page-break-after:always}.remark-slide-scaler{background-color:transparent;overflow:hidden;position:absolute;-webkit-transform-origin:top left;-moz-transform-origin:top left;transform-origin:top-left;-moz-box-shadow:0 0 30px #888;-webkit-box-shadow:0 0 30px #888;box-shadow:0 0 30px #888}.remark-slide{height:100%;width:100%;display:table;table-layout:fixed}.remark-slide>.left{text-align:left}.remark-slide>.center{text-align:center}.remark-slide>.right{text-align:right}.remark-slide>.top{vertical-align:top}.remark-slide>.middle{vertical-align:middle}.remark-slide>.bottom{vertical-align:bottom}.remark-slide-content{background-color:#fff;background-position:center;background-repeat:no-repeat;display:table-cell;font-size:20px;padding:1em 4em 1em 4em}.remark-slide-content h1{font-size:55px}.remark-slide-content h2{font-size:45px}.remark-slide-content h3{font-size:35px}.remark-slide-content .left{display:block;text-align:left}.remark-slide-content .center{display:block;text-align:center}.remark-slide-content .right{display:block;text-align:right}.remark-slide-number{bottom:12px;opacity:.5;position:absolute;right:20px}.remark-slide-notes{border-top:3px solid black;position:absolute;display:none}.remark-code{font-size:18px}.remark-code-line{min-height:1em}.remark-code-line-highlighted{background-color:rgba(255,255,0,0.5)}.remark-code-span-highlighted{background-color:rgba(255,255,0,0.5);padding:1px 2px 2px 2px}.remark-visible{display:block;z-index:2}.remark-fading{display:block;z-index:1}.remark-fading .remark-slide-scaler{-moz-box-shadow:none;-webkit-box-shadow:none;box-shadow:none}.remark-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;display:none;background:#000;z-index:2}.remark-pause{bottom:0;top:0;right:0;left:0;display:none;position:absolute;z-index:1000}.remark-pause .remark-pause-lozenge{margin-top:30%;text-align:center}.remark-pause .remark-pause-lozenge span{color:white;background:black;border:2px solid black;border-radius:20px;padding:20px 30px;font-family:Helvetica,arial,freesans,clean,sans-serif;font-size:42pt;font-weight:bold}.remark-container.remark-presenter-mode.remark-pause-mode .remark-pause{display:block}.remark-container.remark-presenter-mode.remark-pause-mode .remark-backdrop{display:block;opacity:.5}.remark-help{bottom:0;top:0;right:0;left:0;display:none;position:absolute;z-index:1000;-webkit-transform-origin:top left;-moz-transform-origin:top left;transform-origin:top-left}.remark-help .remark-help-content{color:white;font-family:Helvetica,arial,freesans,clean,sans-serif;font-size:12pt;position:absolute;top:5%;bottom:10%;height:10%;left:5%;width:90%}.remark-help .remark-help-content h1{font-size:36px}.remark-help .remark-help-content td{color:white;font-size:12pt;padding:10px}.remark-help .remark-help-content td:first-child{padding-left:0}.remark-help .remark-help-content .key{background:white;color:black;min-width:1em;display:inline-block;padding:3px 6px;text-align:center;border-radius:4px;font-size:14px}.remark-help .dismiss{top:85%}.remark-container.remark-help-mode .remark-help{display:block}.remark-container.remark-help-mode .remark-backdrop{display:block;opacity:.95}.remark-preview-area{bottom:2%;left:2%;display:none;opacity:.5;position:absolute;height:47.25%;width:48%}.remark-preview-area .remark-slide-container{display:block}.remark-notes-area{background:#fff;bottom:0;color:black;display:none;left:52%;overflow:hidden;position:absolute;right:0;top:0}.remark-notes-area .remark-top-area{height:50px;left:20px;position:absolute;right:10px;top:10px}.remark-notes-area .remark-bottom-area{position:absolute;top:75px;bottom:10px;left:20px;right:10px}.remark-notes-area .remark-bottom-area .remark-toggle{display:block;text-decoration:none;font-family:Helvetica,arial,freesans,clean,sans-serif;height:21px;font-size:.75em;text-transform:uppercase;color:#ccc}.remark-notes-area .remark-bottom-area .remark-notes-current-area{height:70%;position:relative}.remark-notes-area .remark-bottom-area .remark-notes-current-area .remark-notes{clear:both;border-top:1px solid #f5f5f5;position:absolute;top:22px;bottom:0;left:0;right:0;overflow-y:auto;margin-bottom:20px;padding-top:10px}.remark-notes-area .remark-bottom-area .remark-notes-preview-area{height:30%;position:relative}.remark-notes-area .remark-bottom-area .remark-notes-preview-area .remark-notes-preview{border-top:1px solid #f5f5f5;position:absolute;top:22px;bottom:0;left:0;right:0;overflow-y:auto}.remark-notes-area .remark-bottom-area .remark-notes>*:first-child,.remark-notes-area .remark-bottom-area .remark-notes-preview>*:first-child{margin-top:5px}.remark-notes-area .remark-bottom-area .remark-notes>*:last-child,.remark-notes-area .remark-bottom-area .remark-notes-preview>*:last-child{margin-bottom:0}.remark-toolbar{color:#979892;vertical-align:middle}.remark-toolbar .remark-toolbar-link{border:2px solid #d7d8d2;color:#979892;display:inline-block;padding:2px 2px;text-decoration:none;text-align:center;min-width:20px}.remark-toolbar .remark-toolbar-link:hover{border-color:#979892;color:#676862}.remark-toolbar .remark-toolbar-timer{border:2px solid black;border-radius:10px;background:black;color:white;display:inline-block;float:right;padding:5px 10px;font-family:sans-serif;font-weight:bold;font-size:175%;text-decoration:none;text-align:center}.remark-container.remark-presenter-mode .remark-slides-area{top:2%;left:2%;height:47.25%;width:48%}.remark-container.remark-presenter-mode .remark-preview-area{display:block}.remark-container.remark-presenter-mode .remark-notes-area{display:block}.remark-container.remark-blackout-mode:not(.remark-presenter-mode) .remark-backdrop{display:block;opacity:.99}.remark-container.remark-mirrored-mode:not(.remark-presenter-mode) .remark-slides-area{-webkit-transform:scaleX(-1);-moz-transform:scaleX(-1);-ms-transform:scaleX(-1);-o-transform:scaleX(-1)}@media print{.remark-container{overflow:visible;background-color:#fff}.remark-container.remark-presenter-mode .remark-slides-area{top:0;left:0;height:100%;width:681px}.remark-container.remark-presenter-mode .remark-preview-area,.remark-container.remark-presenter-mode .remark-notes-area{display:none}.remark-container.remark-presenter-mode .remark-slide-notes{display:block;margin-left:30px;width:621px}.remark-slide-container{display:block;position:relative}.remark-slide-scaler{-moz-box-shadow:none;-webkit-box-shadow:none;-webkit-transform-origin:initial;box-shadow:none}}@page{margin:0}.hljs-agate{/*! * Agate by Taufik Nurrohman <https://github.com/tovic> * ---------------------------------------------------- * * #ade5fc * #a2fca2 * #c6b4f0 * #d36363 * #fcc28c * #fc9b9b * #ffa * #fff * #333 * #62c8f3 * #888 * */}.hljs-agate .hljs{display:block;overflow-x:auto;padding:.5em;background:#333;color:white}.hljs-agate .hljs-name,.hljs-agate .hljs-strong{font-weight:bold}.hljs-agate .hljs-code,.hljs-agate .hljs-emphasis{font-style:italic}.hljs-agate .hljs-tag{color:#62c8f3}.hljs-agate .hljs-variable,.hljs-agate .hljs-template-variable,.hljs-agate .hljs-selector-id,.hljs-agate .hljs-selector-class{color:#ade5fc}.hljs-agate .hljs-string,.hljs-agate .hljs-bullet{color:#a2fca2}.hljs-agate .hljs-type,.hljs-agate .hljs-title,.hljs-agate .hljs-section,.hljs-agate .hljs-attribute,.hljs-agate .hljs-quote,.hljs-agate .hljs-built_in,.hljs-agate .hljs-builtin-name{color:#ffa}.hljs-agate .hljs-number,.hljs-agate .hljs-symbol,.hljs-agate .hljs-bullet{color:#d36363}.hljs-agate .hljs-keyword,.hljs-agate .hljs-selector-tag,.hljs-agate .hljs-literal{color:#fcc28c}.hljs-agate .hljs-comment,.hljs-agate .hljs-deletion,.hljs-agate .hljs-code{color:#888}.hljs-agate .hljs-regexp,.hljs-agate .hljs-link{color:#c6b4f0}.hljs-agate .hljs-meta{color:#fc9b9b}.hljs-agate .hljs-deletion{background-color:#fc9b9b;color:#333}.hljs-agate .hljs-addition{background-color:#a2fca2;color:#333}.hljs-agate .hljs a{color:inherit}.hljs-agate .hljs a:focus,.hljs-agate .hljs a:hover{color:inherit;text-decoration:underline}.hljs-androidstudio .hljs{color:#a9b7c6;background:#282b2e;display:block;overflow-x:auto;padding:.5em}.hljs-androidstudio .hljs-number,.hljs-androidstudio .hljs-literal,.hljs-androidstudio .hljs-symbol,.hljs-androidstudio .hljs-bullet{color:#6897BB}.hljs-androidstudio .hljs-keyword,.hljs-androidstudio .hljs-selector-tag,.hljs-androidstudio .hljs-deletion{color:#cc7832}.hljs-androidstudio .hljs-variable,.hljs-androidstudio .hljs-template-variable,.hljs-androidstudio .hljs-link{color:#629755}.hljs-androidstudio .hljs-comment,.hljs-androidstudio .hljs-quote{color:#808080}.hljs-androidstudio .hljs-meta{color:#bbb529}.hljs-androidstudio .hljs-string,.hljs-androidstudio .hljs-attribute,.hljs-androidstudio .hljs-addition{color:#6A8759}.hljs-androidstudio .hljs-section,.hljs-androidstudio .hljs-title,.hljs-androidstudio .hljs-type{color:#ffc66d}.hljs-androidstudio .hljs-name,.hljs-androidstudio .hljs-selector-id,.hljs-androidstudio .hljs-selector-class{color:#e8bf6a}.hljs-androidstudio .hljs-emphasis{font-style:italic}.hljs-androidstudio .hljs-strong{font-weight:bold}.hljs-arduino-light .hljs{display:block;overflow-x:auto;padding:.5em;background:#FFFFFF}.hljs-arduino-light .hljs,.hljs-arduino-light .hljs-subst{color:#434f54}.hljs-arduino-light .hljs-keyword,.hljs-arduino-light .hljs-attribute,.hljs-arduino-light .hljs-selector-tag,.hljs-arduino-light .hljs-doctag,.hljs-arduino-light .hljs-name{color:#00979D}.hljs-arduino-light .hljs-built_in,.hljs-arduino-light .hljs-literal,.hljs-arduino-light .hljs-bullet,.hljs-arduino-light .hljs-code,.hljs-arduino-light .hljs-addition{color:#D35400}.hljs-arduino-light .hljs-regexp,.hljs-arduino-light .hljs-symbol,.hljs-arduino-light .hljs-variable,.hljs-arduino-light .hljs-template-variable,.hljs-arduino-light .hljs-link,.hljs-arduino-light .hljs-selector-attr,.hljs-arduino-light .hljs-selector-pseudo{color:#00979D}.hljs-arduino-light .hljs-type,.hljs-arduino-light .hljs-string,.hljs-arduino-light .hljs-selector-id,.hljs-arduino-light .hljs-selector-class,.hljs-arduino-light .hljs-quote,.hljs-arduino-light .hljs-template-tag,.hljs-arduino-light .hljs-deletion{color:#005C5F}.hljs-arduino-light .hljs-title,.hljs-arduino-light .hljs-section{color:#880000;font-weight:bold}.hljs-arduino-light .hljs-comment{color:rgba(149,165,166,0.8)}.hljs-arduino-light .hljs-meta-keyword{color:#728E00}.hljs-arduino-light .hljs-meta{color:#728E00;color:#434f54}.hljs-arduino-light .hljs-emphasis{font-style:italic}.hljs-arduino-light .hljs-strong{font-weight:bold}.hljs-arduino-light .hljs-function{color:#728E00}.hljs-arduino-light .hljs-number{color:#8A7B52}.hljs-arta .hljs{display:block;overflow-x:auto;padding:.5em;background:#222}.hljs-arta .hljs,.hljs-arta .hljs-subst{color:#aaa}.hljs-arta .hljs-section{color:#fff}.hljs-arta .hljs-comment,.hljs-arta .hljs-quote,.hljs-arta .hljs-meta{color:#444}.hljs-arta .hljs-string,.hljs-arta .hljs-symbol,.hljs-arta .hljs-bullet,.hljs-arta .hljs-regexp{color:#ffcc33}.hljs-arta .hljs-number,.hljs-arta .hljs-addition{color:#00cc66}.hljs-arta .hljs-built_in,.hljs-arta .hljs-builtin-name,.hljs-arta .hljs-literal,.hljs-arta .hljs-type,.hljs-arta .hljs-template-variable,.hljs-arta .hljs-attribute,.hljs-arta .hljs-link{color:#32aaee}.hljs-arta .hljs-keyword,.hljs-arta .hljs-selector-tag,.hljs-arta .hljs-name,.hljs-arta .hljs-selector-id,.hljs-arta .hljs-selector-class{color:#6644aa}.hljs-arta .hljs-title,.hljs-arta .hljs-variable,.hljs-arta .hljs-deletion,.hljs-arta .hljs-template-tag{color:#bb1166}.hljs-arta .hljs-section,.hljs-arta .hljs-doctag,.hljs-arta .hljs-strong{font-weight:bold}.hljs-arta .hljs-emphasis{font-style:italic}.hljs-ascetic .hljs{display:block;overflow-x:auto;padding:.5em;background:white;color:black}.hljs-ascetic .hljs-string,.hljs-ascetic .hljs-variable,.hljs-ascetic .hljs-template-variable,.hljs-ascetic .hljs-symbol,.hljs-ascetic .hljs-bullet,.hljs-ascetic .hljs-section,.hljs-ascetic .hljs-addition,.hljs-ascetic .hljs-attribute,.hljs-ascetic .hljs-link{color:#888}.hljs-ascetic .hljs-comment,.hljs-ascetic .hljs-quote,.hljs-ascetic .hljs-meta,.hljs-ascetic .hljs-deletion{color:#ccc}.hljs-ascetic .hljs-keyword,.hljs-ascetic .hljs-selector-tag,.hljs-ascetic .hljs-section,.hljs-ascetic .hljs-name,.hljs-ascetic .hljs-type,.hljs-ascetic .hljs-strong{font-weight:bold}.hljs-ascetic .hljs-emphasis{font-style:italic}.hljs-atelier-cave-dark .hljs-comment,.hljs-atelier-cave-dark .hljs-quote{color:#7e7887}.hljs-atelier-cave-dark .hljs-variable,.hljs-atelier-cave-dark .hljs-template-variable,.hljs-atelier-cave-dark .hljs-attribute,.hljs-atelier-cave-dark .hljs-regexp,.hljs-atelier-cave-dark .hljs-link,.hljs-atelier-cave-dark .hljs-tag,.hljs-atelier-cave-dark .hljs-name,.hljs-atelier-cave-dark .hljs-selector-id,.hljs-atelier-cave-dark .hljs-selector-class{color:#be4678}.hljs-atelier-cave-dark .hljs-number,.hljs-atelier-cave-dark .hljs-meta,.hljs-atelier-cave-dark .hljs-built_in,.hljs-atelier-cave-dark .hljs-builtin-name,.hljs-atelier-cave-dark .hljs-literal,.hljs-atelier-cave-dark .hljs-type,.hljs-atelier-cave-dark .hljs-params{color:#aa573c}.hljs-atelier-cave-dark .hljs-string,.hljs-atelier-cave-dark .hljs-symbol,.hljs-atelier-cave-dark .hljs-bullet{color:#2a9292}.hljs-atelier-cave-dark .hljs-title,.hljs-atelier-cave-dark .hljs-section{color:#576ddb}.hljs-atelier-cave-dark .hljs-keyword,.hljs-atelier-cave-dark .hljs-selector-tag{color:#955ae7}.hljs-atelier-cave-dark .hljs-deletion,.hljs-atelier-cave-dark .hljs-addition{color:#19171c;display:inline-block;width:100%}.hljs-atelier-cave-dark .hljs-deletion{background-color:#be4678}.hljs-atelier-cave-dark .hljs-addition{background-color:#2a9292}.hljs-atelier-cave-dark .hljs{display:block;overflow-x:auto;background:#19171c;color:#8b8792;padding:.5em}.hljs-atelier-cave-dark .hljs-emphasis{font-style:italic}.hljs-atelier-cave-dark .hljs-strong{font-weight:bold}.hljs-atelier-cave-light .hljs-comment,.hljs-atelier-cave-light .hljs-quote{color:#655f6d}.hljs-atelier-cave-light .hljs-variable,.hljs-atelier-cave-light .hljs-template-variable,.hljs-atelier-cave-light .hljs-attribute,.hljs-atelier-cave-light .hljs-tag,.hljs-atelier-cave-light .hljs-name,.hljs-atelier-cave-light .hljs-regexp,.hljs-atelier-cave-light .hljs-link,.hljs-atelier-cave-light .hljs-name,.hljs-atelier-cave-light .hljs-name,.hljs-atelier-cave-light .hljs-selector-id,.hljs-atelier-cave-light .hljs-selector-class{color:#be4678}.hljs-atelier-cave-light .hljs-number,.hljs-atelier-cave-light .hljs-meta,.hljs-atelier-cave-light .hljs-built_in,.hljs-atelier-cave-light .hljs-builtin-name,.hljs-atelier-cave-light .hljs-literal,.hljs-atelier-cave-light .hljs-type,.hljs-atelier-cave-light .hljs-params{color:#aa573c}.hljs-atelier-cave-light .hljs-string,.hljs-atelier-cave-light .hljs-symbol,.hljs-atelier-cave-light .hljs-bullet{color:#2a9292}.hljs-atelier-cave-light .hljs-title,.hljs-atelier-cave-light .hljs-section{color:#576ddb}.hljs-atelier-cave-light .hljs-keyword,.hljs-atelier-cave-light .hljs-selector-tag{color:#955ae7}.hljs-atelier-cave-light .hljs-deletion,.hljs-atelier-cave-light .hljs-addition{color:#19171c;display:inline-block;width:100%}.hljs-atelier-cave-light .hljs-deletion{background-color:#be4678}.hljs-atelier-cave-light .hljs-addition{background-color:#2a9292}.hljs-atelier-cave-light .hljs{display:block;overflow-x:auto;background:#efecf4;color:#585260;padding:.5em}.hljs-atelier-cave-light .hljs-emphasis{font-style:italic}.hljs-atelier-cave-light .hljs-strong{font-weight:bold}.hljs-atelier-dune-dark .hljs-comment,.hljs-atelier-dune-dark .hljs-quote{color:#999580}.hljs-atelier-dune-dark .hljs-variable,.hljs-atelier-dune-dark .hljs-template-variable,.hljs-atelier-dune-dark .hljs-attribute,.hljs-atelier-dune-dark .hljs-tag,.hljs-atelier-dune-dark .hljs-name,.hljs-atelier-dune-dark .hljs-regexp,.hljs-atelier-dune-dark .hljs-link,.hljs-atelier-dune-dark .hljs-name,.hljs-atelier-dune-dark .hljs-selector-id,.hljs-atelier-dune-dark .hljs-selector-class{color:#d73737}.hljs-atelier-dune-dark .hljs-number,.hljs-atelier-dune-dark .hljs-meta,.hljs-atelier-dune-dark .hljs-built_in,.hljs-atelier-dune-dark .hljs-builtin-name,.hljs-atelier-dune-dark .hljs-literal,.hljs-atelier-dune-dark .hljs-type,.hljs-atelier-dune-dark .hljs-params{color:#b65611}.hljs-atelier-dune-dark .hljs-string,.hljs-atelier-dune-dark .hljs-symbol,.hljs-atelier-dune-dark .hljs-bullet{color:#60ac39}.hljs-atelier-dune-dark .hljs-title,.hljs-atelier-dune-dark .hljs-section{color:#6684e1}.hljs-atelier-dune-dark .hljs-keyword,.hljs-atelier-dune-dark .hljs-selector-tag{color:#b854d4}.hljs-atelier-dune-dark .hljs{display:block;overflow-x:auto;background:#20201d;color:#a6a28c;padding:.5em}.hljs-atelier-dune-dark .hljs-emphasis{font-style:italic}.hljs-atelier-dune-dark .hljs-strong{font-weight:bold}.hljs-atelier-dune-light .hljs-comment,.hljs-atelier-dune-light .hljs-quote{color:#7d7a68}.hljs-atelier-dune-light .hljs-variable,.hljs-atelier-dune-light .hljs-template-variable,.hljs-atelier-dune-light .hljs-attribute,.hljs-atelier-dune-light .hljs-tag,.hljs-atelier-dune-light .hljs-name,.hljs-atelier-dune-light .hljs-regexp,.hljs-atelier-dune-light .hljs-link,.hljs-atelier-dune-light .hljs-name,.hljs-atelier-dune-light .hljs-selector-id,.hljs-atelier-dune-light .hljs-selector-class{color:#d73737}.hljs-atelier-dune-light .hljs-number,.hljs-atelier-dune-light .hljs-meta,.hljs-atelier-dune-light .hljs-built_in,.hljs-atelier-dune-light .hljs-builtin-name,.hljs-atelier-dune-light .hljs-literal,.hljs-atelier-dune-light .hljs-type,.hljs-atelier-dune-light .hljs-params{color:#b65611}.hljs-atelier-dune-light .hljs-string,.hljs-atelier-dune-light .hljs-symbol,.hljs-atelier-dune-light .hljs-bullet{color:#60ac39}.hljs-atelier-dune-light .hljs-title,.hljs-atelier-dune-light .hljs-section{color:#6684e1}.hljs-atelier-dune-light .hljs-keyword,.hljs-atelier-dune-light .hljs-selector-tag{color:#b854d4}.hljs-atelier-dune-light .hljs{display:block;overflow-x:auto;background:#fefbec;color:#6e6b5e;padding:.5em}.hljs-atelier-dune-light .hljs-emphasis{font-style:italic}.hljs-atelier-dune-light .hljs-strong{font-weight:bold}.hljs-atelier-estuary-dark .hljs-comment,.hljs-atelier-estuary-dark .hljs-quote{color:#878573}.hljs-atelier-estuary-dark .hljs-variable,.hljs-atelier-estuary-dark .hljs-template-variable,.hljs-atelier-estuary-dark .hljs-attribute,.hljs-atelier-estuary-dark .hljs-tag,.hljs-atelier-estuary-dark .hljs-name,.hljs-atelier-estuary-dark .hljs-regexp,.hljs-atelier-estuary-dark .hljs-link,.hljs-atelier-estuary-dark .hljs-name,.hljs-atelier-estuary-dark .hljs-selector-id,.hljs-atelier-estuary-dark .hljs-selector-class{color:#ba6236}.hljs-atelier-estuary-dark .hljs-number,.hljs-atelier-estuary-dark .hljs-meta,.hljs-atelier-estuary-dark .hljs-built_in,.hljs-atelier-estuary-dark .hljs-builtin-name,.hljs-atelier-estuary-dark .hljs-literal,.hljs-atelier-estuary-dark .hljs-type,.hljs-atelier-estuary-dark .hljs-params{color:#ae7313}.hljs-atelier-estuary-dark .hljs-string,.hljs-atelier-estuary-dark .hljs-symbol,.hljs-atelier-estuary-dark .hljs-bullet{color:#7d9726}.hljs-atelier-estuary-dark .hljs-title,.hljs-atelier-estuary-dark .hljs-section{color:#36a166}.hljs-atelier-estuary-dark .hljs-keyword,.hljs-atelier-estuary-dark .hljs-selector-tag{color:#5f9182}.hljs-atelier-estuary-dark .hljs-deletion,.hljs-atelier-estuary-dark .hljs-addition{color:#22221b;display:inline-block;width:100%}.hljs-atelier-estuary-dark .hljs-deletion{background-color:#ba6236}.hljs-atelier-estuary-dark .hljs-addition{background-color:#7d9726}.hljs-atelier-estuary-dark .hljs{display:block;overflow-x:auto;background:#22221b;color:#929181;padding:.5em}.hljs-atelier-estuary-dark .hljs-emphasis{font-style:italic}.hljs-atelier-estuary-dark .hljs-strong{font-weight:bold}.hljs-atelier-estuary-light .hljs-comment,.hljs-atelier-estuary-light .hljs-quote{color:#6c6b5a}.hljs-atelier-estuary-light .hljs-variable,.hljs-atelier-estuary-light .hljs-template-variable,.hljs-atelier-estuary-light .hljs-attribute,.hljs-atelier-estuary-light .hljs-tag,.hljs-atelier-estuary-light .hljs-name,.hljs-atelier-estuary-light .hljs-regexp,.hljs-atelier-estuary-light .hljs-link,.hljs-atelier-estuary-light .hljs-name,.hljs-atelier-estuary-light .hljs-selector-id,.hljs-atelier-estuary-light .hljs-selector-class{color:#ba6236}.hljs-atelier-estuary-light .hljs-number,.hljs-atelier-estuary-light .hljs-meta,.hljs-atelier-estuary-light .hljs-built_in,.hljs-atelier-estuary-light .hljs-builtin-name,.hljs-atelier-estuary-light .hljs-literal,.hljs-atelier-estuary-light .hljs-type,.hljs-atelier-estuary-light .hljs-params{color:#ae7313}.hljs-atelier-estuary-light .hljs-string,.hljs-atelier-estuary-light .hljs-symbol,.hljs-atelier-estuary-light .hljs-bullet{color:#7d9726}.hljs-atelier-estuary-light .hljs-title,.hljs-atelier-estuary-light .hljs-section{color:#36a166}.hljs-atelier-estuary-light .hljs-keyword,.hljs-atelier-estuary-light .hljs-selector-tag{color:#5f9182}.hljs-atelier-estuary-light .hljs-deletion,.hljs-atelier-estuary-light .hljs-addition{color:#22221b;display:inline-block;width:100%}.hljs-atelier-estuary-light .hljs-deletion{background-color:#ba6236}.hljs-atelier-estuary-light .hljs-addition{background-color:#7d9726}.hljs-atelier-estuary-light .hljs{display:block;overflow-x:auto;background:#f4f3ec;color:#5f5e4e;padding:.5em}.hljs-atelier-estuary-light .hljs-emphasis{font-style:italic}.hljs-atelier-estuary-light .hljs-strong{font-weight:bold}.hljs-atelier-forest-dark .hljs-comment,.hljs-atelier-forest-dark .hljs-quote{color:#9c9491}.hljs-atelier-forest-dark .hljs-variable,.hljs-atelier-forest-dark .hljs-template-variable,.hljs-atelier-forest-dark .hljs-attribute,.hljs-atelier-forest-dark .hljs-tag,.hljs-atelier-forest-dark .hljs-name,.hljs-atelier-forest-dark .hljs-regexp,.hljs-atelier-forest-dark .hljs-link,.hljs-atelier-forest-dark .hljs-name,.hljs-atelier-forest-dark .hljs-selector-id,.hljs-atelier-forest-dark .hljs-selector-class{color:#f22c40}.hljs-atelier-forest-dark .hljs-number,.hljs-atelier-forest-dark .hljs-meta,.hljs-atelier-forest-dark .hljs-built_in,.hljs-atelier-forest-dark .hljs-builtin-name,.hljs-atelier-forest-dark .hljs-literal,.hljs-atelier-forest-dark .hljs-type,.hljs-atelier-forest-dark .hljs-params{color:#df5320}.hljs-atelier-forest-dark .hljs-string,.hljs-atelier-forest-dark .hljs-symbol,.hljs-atelier-forest-dark .hljs-bullet{color:#7b9726}.hljs-atelier-forest-dark .hljs-title,.hljs-atelier-forest-dark .hljs-section{color:#407ee7}.hljs-atelier-forest-dark .hljs-keyword,.hljs-atelier-forest-dark .hljs-selector-tag{color:#6666ea}.hljs-atelier-forest-dark .hljs{display:block;overflow-x:auto;background:#1b1918;color:#a8a19f;padding:.5em}.hljs-atelier-forest-dark .hljs-emphasis{font-style:italic}.hljs-atelier-forest-dark .hljs-strong{font-weight:bold}.hljs-atelier-forest-light .hljs-comment,.hljs-atelier-forest-light .hljs-quote{color:#766e6b}.hljs-atelier-forest-light .hljs-variable,.hljs-atelier-forest-light .hljs-template-variable,.hljs-atelier-forest-light .hljs-attribute,.hljs-atelier-forest-light .hljs-tag,.hljs-atelier-forest-light .hljs-name,.hljs-atelier-forest-light .hljs-regexp,.hljs-atelier-forest-light .hljs-link,.hljs-atelier-forest-light .hljs-name,.hljs-atelier-forest-light .hljs-selector-id,.hljs-atelier-forest-light .hljs-selector-class{color:#f22c40}.hljs-atelier-forest-light .hljs-number,.hljs-atelier-forest-light .hljs-meta,.hljs-atelier-forest-light .hljs-built_in,.hljs-atelier-forest-light .hljs-builtin-name,.hljs-atelier-forest-light .hljs-literal,.hljs-atelier-forest-light .hljs-type,.hljs-atelier-forest-light .hljs-params{color:#df5320}.hljs-atelier-forest-light .hljs-string,.hljs-atelier-forest-light .hljs-symbol,.hljs-atelier-forest-light .hljs-bullet{color:#7b9726}.hljs-atelier-forest-light .hljs-title,.hljs-atelier-forest-light .hljs-section{color:#407ee7}.hljs-atelier-forest-light .hljs-keyword,.hljs-atelier-forest-light .hljs-selector-tag{color:#6666ea}.hljs-atelier-forest-light .hljs{display:block;overflow-x:auto;background:#f1efee;color:#68615e;padding:.5em}.hljs-atelier-forest-light .hljs-emphasis{font-style:italic}.hljs-atelier-forest-light .hljs-strong{font-weight:bold}.hljs-atelier-heath-dark .hljs-comment,.hljs-atelier-heath-dark .hljs-quote{color:#9e8f9e}.hljs-atelier-heath-dark .hljs-variable,.hljs-atelier-heath-dark .hljs-template-variable,.hljs-atelier-heath-dark .hljs-attribute,.hljs-atelier-heath-dark .hljs-tag,.hljs-atelier-heath-dark .hljs-name,.hljs-atelier-heath-dark .hljs-regexp,.hljs-atelier-heath-dark .hljs-link,.hljs-atelier-heath-dark .hljs-name,.hljs-atelier-heath-dark .hljs-selector-id,.hljs-atelier-heath-dark .hljs-selector-class{color:#ca402b}.hljs-atelier-heath-dark .hljs-number,.hljs-atelier-heath-dark .hljs-meta,.hljs-atelier-heath-dark .hljs-built_in,.hljs-atelier-heath-dark .hljs-builtin-name,.hljs-atelier-heath-dark .hljs-literal,.hljs-atelier-heath-dark .hljs-type,.hljs-atelier-heath-dark .hljs-params{color:#a65926}.hljs-atelier-heath-dark .hljs-string,.hljs-atelier-heath-dark .hljs-symbol,.hljs-atelier-heath-dark .hljs-bullet{color:#918b3b}.hljs-atelier-heath-dark .hljs-title,.hljs-atelier-heath-dark .hljs-section{color:#516aec}.hljs-atelier-heath-dark .hljs-keyword,.hljs-atelier-heath-dark .hljs-selector-tag{color:#7b59c0}.hljs-atelier-heath-dark .hljs{display:block;overflow-x:auto;background:#1b181b;color:#ab9bab;padding:.5em}.hljs-atelier-heath-dark .hljs-emphasis{font-style:italic}.hljs-atelier-heath-dark .hljs-strong{font-weight:bold}.hljs-atelier-heath-light .hljs-comment,.hljs-atelier-heath-light .hljs-quote{color:#776977}.hljs-atelier-heath-light .hljs-variable,.hljs-atelier-heath-light .hljs-template-variable,.hljs-atelier-heath-light .hljs-attribute,.hljs-atelier-heath-light .hljs-tag,.hljs-atelier-heath-light .hljs-name,.hljs-atelier-heath-light .hljs-regexp,.hljs-atelier-heath-light .hljs-link,.hljs-atelier-heath-light .hljs-name,.hljs-atelier-heath-light .hljs-selector-id,.hljs-atelier-heath-light .hljs-selector-class{color:#ca402b}.hljs-atelier-heath-light .hljs-number,.hljs-atelier-heath-light .hljs-meta,.hljs-atelier-heath-light .hljs-built_in,.hljs-atelier-heath-light .hljs-builtin-name,.hljs-atelier-heath-light .hljs-literal,.hljs-atelier-heath-light .hljs-type,.hljs-atelier-heath-light .hljs-params{color:#a65926}.hljs-atelier-heath-light .hljs-string,.hljs-atelier-heath-light .hljs-symbol,.hljs-atelier-heath-light .hljs-bullet{color:#918b3b}.hljs-atelier-heath-light .hljs-title,.hljs-atelier-heath-light .hljs-section{color:#516aec}.hljs-atelier-heath-light .hljs-keyword,.hljs-atelier-heath-light .hljs-selector-tag{color:#7b59c0}.hljs-atelier-heath-light .hljs{display:block;overflow-x:auto;background:#f7f3f7;color:#695d69;padding:.5em}.hljs-atelier-heath-light .hljs-emphasis{font-style:italic}.hljs-atelier-heath-light .hljs-strong{font-weight:bold}.hljs-atelier-lakeside-dark .hljs-comment,.hljs-atelier-lakeside-dark .hljs-quote{color:#7195a8}.hljs-atelier-lakeside-dark .hljs-variable,.hljs-atelier-lakeside-dark .hljs-template-variable,.hljs-atelier-lakeside-dark .hljs-attribute,.hljs-atelier-lakeside-dark .hljs-tag,.hljs-atelier-lakeside-dark .hljs-name,.hljs-atelier-lakeside-dark .hljs-regexp,.hljs-atelier-lakeside-dark .hljs-link,.hljs-atelier-lakeside-dark .hljs-name,.hljs-atelier-lakeside-dark .hljs-selector-id,.hljs-atelier-lakeside-dark .hljs-selector-class{color:#d22d72}.hljs-atelier-lakeside-dark .hljs-number,.hljs-atelier-lakeside-dark .hljs-meta,.hljs-atelier-lakeside-dark .hljs-built_in,.hljs-atelier-lakeside-dark .hljs-builtin-name,.hljs-atelier-lakeside-dark .hljs-literal,.hljs-atelier-lakeside-dark .hljs-type,.hljs-atelier-lakeside-dark .hljs-params{color:#935c25}.hljs-atelier-lakeside-dark .hljs-string,.hljs-atelier-lakeside-dark .hljs-symbol,.hljs-atelier-lakeside-dark .hljs-bullet{color:#568c3b}.hljs-atelier-lakeside-dark .hljs-title,.hljs-atelier-lakeside-dark .hljs-section{color:#257fad}.hljs-atelier-lakeside-dark .hljs-keyword,.hljs-atelier-lakeside-dark .hljs-selector-tag{color:#6b6bb8}.hljs-atelier-lakeside-dark .hljs{display:block;overflow-x:auto;background:#161b1d;color:#7ea2b4;padding:.5em}.hljs-atelier-lakeside-dark .hljs-emphasis{font-style:italic}.hljs-atelier-lakeside-dark .hljs-strong{font-weight:bold}.hljs-atelier-lakeside-light .hljs-comment,.hljs-atelier-lakeside-light .hljs-quote{color:#5a7b8c}.hljs-atelier-lakeside-light .hljs-variable,.hljs-atelier-lakeside-light .hljs-template-variable,.hljs-atelier-lakeside-light .hljs-attribute,.hljs-atelier-lakeside-light .hljs-tag,.hljs-atelier-lakeside-light .hljs-name,.hljs-atelier-lakeside-light .hljs-regexp,.hljs-atelier-lakeside-light .hljs-link,.hljs-atelier-lakeside-light .hljs-name,.hljs-atelier-lakeside-light .hljs-selector-id,.hljs-atelier-lakeside-light .hljs-selector-class{color:#d22d72}.hljs-atelier-lakeside-light .hljs-number,.hljs-atelier-lakeside-light .hljs-meta,.hljs-atelier-lakeside-light .hljs-built_in,.hljs-atelier-lakeside-light .hljs-builtin-name,.hljs-atelier-lakeside-light .hljs-literal,.hljs-atelier-lakeside-light .hljs-type,.hljs-atelier-lakeside-light .hljs-params{color:#935c25}.hljs-atelier-lakeside-light .hljs-string,.hljs-atelier-lakeside-light .hljs-symbol,.hljs-atelier-lakeside-light .hljs-bullet{color:#568c3b}.hljs-atelier-lakeside-light .hljs-title,.hljs-atelier-lakeside-light .hljs-section{color:#257fad}.hljs-atelier-lakeside-light .hljs-keyword,.hljs-atelier-lakeside-light .hljs-selector-tag{color:#6b6bb8}.hljs-atelier-lakeside-light .hljs{display:block;overflow-x:auto;background:#ebf8ff;color:#516d7b;padding:.5em}.hljs-atelier-lakeside-light .hljs-emphasis{font-style:italic}.hljs-atelier-lakeside-light .hljs-strong{font-weight:bold}.hljs-atelier-plateau-dark .hljs-comment,.hljs-atelier-plateau-dark .hljs-quote{color:#7e7777}.hljs-atelier-plateau-dark .hljs-variable,.hljs-atelier-plateau-dark .hljs-template-variable,.hljs-atelier-plateau-dark .hljs-attribute,.hljs-atelier-plateau-dark .hljs-tag,.hljs-atelier-plateau-dark .hljs-name,.hljs-atelier-plateau-dark .hljs-regexp,.hljs-atelier-plateau-dark .hljs-link,.hljs-atelier-plateau-dark .hljs-name,.hljs-atelier-plateau-dark .hljs-selector-id,.hljs-atelier-plateau-dark .hljs-selector-class{color:#ca4949}.hljs-atelier-plateau-dark .hljs-number,.hljs-atelier-plateau-dark .hljs-meta,.hljs-atelier-plateau-dark .hljs-built_in,.hljs-atelier-plateau-dark .hljs-builtin-name,.hljs-atelier-plateau-dark .hljs-literal,.hljs-atelier-plateau-dark .hljs-type,.hljs-atelier-plateau-dark .hljs-params{color:#b45a3c}.hljs-atelier-plateau-dark .hljs-string,.hljs-atelier-plateau-dark .hljs-symbol,.hljs-atelier-plateau-dark .hljs-bullet{color:#4b8b8b}.hljs-atelier-plateau-dark .hljs-title,.hljs-atelier-plateau-dark .hljs-section{color:#7272ca}.hljs-atelier-plateau-dark .hljs-keyword,.hljs-atelier-plateau-dark .hljs-selector-tag{color:#8464c4}.hljs-atelier-plateau-dark .hljs-deletion,.hljs-atelier-plateau-dark .hljs-addition{color:#1b1818;display:inline-block;width:100%}.hljs-atelier-plateau-dark .hljs-deletion{background-color:#ca4949}.hljs-atelier-plateau-dark .hljs-addition{background-color:#4b8b8b}.hljs-atelier-plateau-dark .hljs{display:block;overflow-x:auto;background:#1b1818;color:#8a8585;padding:.5em}.hljs-atelier-plateau-dark .hljs-emphasis{font-style:italic}.hljs-atelier-plateau-dark .hljs-strong{font-weight:bold}.hljs-atelier-plateau-light .hljs-comment,.hljs-atelier-plateau-light .hljs-quote{color:#655d5d}.hljs-atelier-plateau-light .hljs-variable,.hljs-atelier-plateau-light .hljs-template-variable,.hljs-atelier-plateau-light .hljs-attribute,.hljs-atelier-plateau-light .hljs-tag,.hljs-atelier-plateau-light .hljs-name,.hljs-atelier-plateau-light .hljs-regexp,.hljs-atelier-plateau-light .hljs-link,.hljs-atelier-plateau-light .hljs-name,.hljs-atelier-plateau-light .hljs-selector-id,.hljs-atelier-plateau-light .hljs-selector-class{color:#ca4949}.hljs-atelier-plateau-light .hljs-number,.hljs-atelier-plateau-light .hljs-meta,.hljs-atelier-plateau-light .hljs-built_in,.hljs-atelier-plateau-light .hljs-builtin-name,.hljs-atelier-plateau-light .hljs-literal,.hljs-atelier-plateau-light .hljs-type,.hljs-atelier-plateau-light .hljs-params{color:#b45a3c}.hljs-atelier-plateau-light .hljs-string,.hljs-atelier-plateau-light .hljs-symbol,.hljs-atelier-plateau-light .hljs-bullet{color:#4b8b8b}.hljs-atelier-plateau-light .hljs-title,.hljs-atelier-plateau-light .hljs-section{color:#7272ca}.hljs-atelier-plateau-light .hljs-keyword,.hljs-atelier-plateau-light .hljs-selector-tag{color:#8464c4}.hljs-atelier-plateau-light .hljs-deletion,.hljs-atelier-plateau-light .hljs-addition{color:#1b1818;display:inline-block;width:100%}.hljs-atelier-plateau-light .hljs-deletion{background-color:#ca4949}.hljs-atelier-plateau-light .hljs-addition{background-color:#4b8b8b}.hljs-atelier-plateau-light .hljs{display:block;overflow-x:auto;background:#f4ecec;color:#585050;padding:.5em}.hljs-atelier-plateau-light .hljs-emphasis{font-style:italic}.hljs-atelier-plateau-light .hljs-strong{font-weight:bold}.hljs-atelier-savanna-dark .hljs-comment,.hljs-atelier-savanna-dark .hljs-quote{color:#78877d}.hljs-atelier-savanna-dark .hljs-variable,.hljs-atelier-savanna-dark .hljs-template-variable,.hljs-atelier-savanna-dark .hljs-attribute,.hljs-atelier-savanna-dark .hljs-tag,.hljs-atelier-savanna-dark .hljs-name,.hljs-atelier-savanna-dark .hljs-regexp,.hljs-atelier-savanna-dark .hljs-link,.hljs-atelier-savanna-dark .hljs-name,.hljs-atelier-savanna-dark .hljs-selector-id,.hljs-atelier-savanna-dark .hljs-selector-class{color:#b16139}.hljs-atelier-savanna-dark .hljs-number,.hljs-atelier-savanna-dark .hljs-meta,.hljs-atelier-savanna-dark .hljs-built_in,.hljs-atelier-savanna-dark .hljs-builtin-name,.hljs-atelier-savanna-dark .hljs-literal,.hljs-atelier-savanna-dark .hljs-type,.hljs-atelier-savanna-dark .hljs-params{color:#9f713c}.hljs-atelier-savanna-dark .hljs-string,.hljs-atelier-savanna-dark .hljs-symbol,.hljs-atelier-savanna-dark .hljs-bullet{color:#489963}.hljs-atelier-savanna-dark .hljs-title,.hljs-atelier-savanna-dark .hljs-section{color:#478c90}.hljs-atelier-savanna-dark .hljs-keyword,.hljs-atelier-savanna-dark .hljs-selector-tag{color:#55859b}.hljs-atelier-savanna-dark .hljs-deletion,.hljs-atelier-savanna-dark .hljs-addition{color:#171c19;display:inline-block;width:100%}.hljs-atelier-savanna-dark .hljs-deletion{background-color:#b16139}.hljs-atelier-savanna-dark .hljs-addition{background-color:#489963}.hljs-atelier-savanna-dark .hljs{display:block;overflow-x:auto;background:#171c19;color:#87928a;padding:.5em}.hljs-atelier-savanna-dark .hljs-emphasis{font-style:italic}.hljs-atelier-savanna-dark .hljs-strong{font-weight:bold}.hljs-atelier-savanna-light .hljs-comment,.hljs-atelier-savanna-light .hljs-quote{color:#5f6d64}.hljs-atelier-savanna-light .hljs-variable,.hljs-atelier-savanna-light .hljs-template-variable,.hljs-atelier-savanna-light .hljs-attribute,.hljs-atelier-savanna-light .hljs-tag,.hljs-atelier-savanna-light .hljs-name,.hljs-atelier-savanna-light .hljs-regexp,.hljs-atelier-savanna-light .hljs-link,.hljs-atelier-savanna-light .hljs-name,.hljs-atelier-savanna-light .hljs-selector-id,.hljs-atelier-savanna-light .hljs-selector-class{color:#b16139}.hljs-atelier-savanna-light .hljs-number,.hljs-atelier-savanna-light .hljs-meta,.hljs-atelier-savanna-light .hljs-built_in,.hljs-atelier-savanna-light .hljs-builtin-name,.hljs-atelier-savanna-light .hljs-literal,.hljs-atelier-savanna-light .hljs-type,.hljs-atelier-savanna-light .hljs-params{color:#9f713c}.hljs-atelier-savanna-light .hljs-string,.hljs-atelier-savanna-light .hljs-symbol,.hljs-atelier-savanna-light .hljs-bullet{color:#489963}.hljs-atelier-savanna-light .hljs-title,.hljs-atelier-savanna-light .hljs-section{color:#478c90}.hljs-atelier-savanna-light .hljs-keyword,.hljs-atelier-savanna-light .hljs-selector-tag{color:#55859b}.hljs-atelier-savanna-light .hljs-deletion,.hljs-atelier-savanna-light .hljs-addition{color:#171c19;display:inline-block;width:100%}.hljs-atelier-savanna-light .hljs-deletion{background-color:#b16139}.hljs-atelier-savanna-light .hljs-addition{background-color:#489963}.hljs-atelier-savanna-light .hljs{display:block;overflow-x:auto;background:#ecf4ee;color:#526057;padding:.5em}.hljs-atelier-savanna-light .hljs-emphasis{font-style:italic}.hljs-atelier-savanna-light .hljs-strong{font-weight:bold}.hljs-atelier-seaside-dark .hljs-comment,.hljs-atelier-seaside-dark .hljs-quote{color:#809980}.hljs-atelier-seaside-dark .hljs-variable,.hljs-atelier-seaside-dark .hljs-template-variable,.hljs-atelier-seaside-dark .hljs-attribute,.hljs-atelier-seaside-dark .hljs-tag,.hljs-atelier-seaside-dark .hljs-name,.hljs-atelier-seaside-dark .hljs-regexp,.hljs-atelier-seaside-dark .hljs-link,.hljs-atelier-seaside-dark .hljs-name,.hljs-atelier-seaside-dark .hljs-selector-id,.hljs-atelier-seaside-dark .hljs-selector-class{color:#e6193c}.hljs-atelier-seaside-dark .hljs-number,.hljs-atelier-seaside-dark .hljs-meta,.hljs-atelier-seaside-dark .hljs-built_in,.hljs-atelier-seaside-dark .hljs-builtin-name,.hljs-atelier-seaside-dark .hljs-literal,.hljs-atelier-seaside-dark .hljs-type,.hljs-atelier-seaside-dark .hljs-params{color:#87711d}.hljs-atelier-seaside-dark .hljs-string,.hljs-atelier-seaside-dark .hljs-symbol,.hljs-atelier-seaside-dark .hljs-bullet{color:#29a329}.hljs-atelier-seaside-dark .hljs-title,.hljs-atelier-seaside-dark .hljs-section{color:#3d62f5}.hljs-atelier-seaside-dark .hljs-keyword,.hljs-atelier-seaside-dark .hljs-selector-tag{color:#ad2bee}.hljs-atelier-seaside-dark .hljs{display:block;overflow-x:auto;background:#131513;color:#8ca68c;padding:.5em}.hljs-atelier-seaside-dark .hljs-emphasis{font-style:italic}.hljs-atelier-seaside-dark .hljs-strong{font-weight:bold}.hljs-atelier-seaside-light .hljs-comment,.hljs-atelier-seaside-light .hljs-quote{color:#687d68}.hljs-atelier-seaside-light .hljs-variable,.hljs-atelier-seaside-light .hljs-template-variable,.hljs-atelier-seaside-light .hljs-attribute,.hljs-atelier-seaside-light .hljs-tag,.hljs-atelier-seaside-light .hljs-name,.hljs-atelier-seaside-light .hljs-regexp,.hljs-atelier-seaside-light .hljs-link,.hljs-atelier-seaside-light .hljs-name,.hljs-atelier-seaside-light .hljs-selector-id,.hljs-atelier-seaside-light .hljs-selector-class{color:#e6193c}.hljs-atelier-seaside-light .hljs-number,.hljs-atelier-seaside-light .hljs-meta,.hljs-atelier-seaside-light .hljs-built_in,.hljs-atelier-seaside-light .hljs-builtin-name,.hljs-atelier-seaside-light .hljs-literal,.hljs-atelier-seaside-light .hljs-type,.hljs-atelier-seaside-light .hljs-params{color:#87711d}.hljs-atelier-seaside-light .hljs-string,.hljs-atelier-seaside-light .hljs-symbol,.hljs-atelier-seaside-light .hljs-bullet{color:#29a329}.hljs-atelier-seaside-light .hljs-title,.hljs-atelier-seaside-light .hljs-section{color:#3d62f5}.hljs-atelier-seaside-light .hljs-keyword,.hljs-atelier-seaside-light .hljs-selector-tag{color:#ad2bee}.hljs-atelier-seaside-light .hljs{display:block;overflow-x:auto;background:#f4fbf4;color:#5e6e5e;padding:.5em}.hljs-atelier-seaside-light .hljs-emphasis{font-style:italic}.hljs-atelier-seaside-light .hljs-strong{font-weight:bold}.hljs-atelier-sulphurpool-dark .hljs-comment,.hljs-atelier-sulphurpool-dark .hljs-quote{color:#898ea4}.hljs-atelier-sulphurpool-dark .hljs-variable,.hljs-atelier-sulphurpool-dark .hljs-template-variable,.hljs-atelier-sulphurpool-dark .hljs-attribute,.hljs-atelier-sulphurpool-dark .hljs-tag,.hljs-atelier-sulphurpool-dark .hljs-name,.hljs-atelier-sulphurpool-dark .hljs-regexp,.hljs-atelier-sulphurpool-dark .hljs-link,.hljs-atelier-sulphurpool-dark .hljs-name,.hljs-atelier-sulphurpool-dark .hljs-selector-id,.hljs-atelier-sulphurpool-dark .hljs-selector-class{color:#c94922}.hljs-atelier-sulphurpool-dark .hljs-number,.hljs-atelier-sulphurpool-dark .hljs-meta,.hljs-atelier-sulphurpool-dark .hljs-built_in,.hljs-atelier-sulphurpool-dark .hljs-builtin-name,.hljs-atelier-sulphurpool-dark .hljs-literal,.hljs-atelier-sulphurpool-dark .hljs-type,.hljs-atelier-sulphurpool-dark .hljs-params{color:#c76b29}.hljs-atelier-sulphurpool-dark .hljs-string,.hljs-atelier-sulphurpool-dark .hljs-symbol,.hljs-atelier-sulphurpool-dark .hljs-bullet{color:#ac9739}.hljs-atelier-sulphurpool-dark .hljs-title,.hljs-atelier-sulphurpool-dark .hljs-section{color:#3d8fd1}.hljs-atelier-sulphurpool-dark .hljs-keyword,.hljs-atelier-sulphurpool-dark .hljs-selector-tag{color:#6679cc}.hljs-atelier-sulphurpool-dark .hljs{display:block;overflow-x:auto;background:#202746;color:#979db4;padding:.5em}.hljs-atelier-sulphurpool-dark .hljs-emphasis{font-style:italic}.hljs-atelier-sulphurpool-dark .hljs-strong{font-weight:bold}.hljs-atelier-sulphurpool-light .hljs-comment,.hljs-atelier-sulphurpool-light .hljs-quote{color:#6b7394}.hljs-atelier-sulphurpool-light .hljs-variable,.hljs-atelier-sulphurpool-light .hljs-template-variable,.hljs-atelier-sulphurpool-light .hljs-attribute,.hljs-atelier-sulphurpool-light .hljs-tag,.hljs-atelier-sulphurpool-light .hljs-name,.hljs-atelier-sulphurpool-light .hljs-regexp,.hljs-atelier-sulphurpool-light .hljs-link,.hljs-atelier-sulphurpool-light .hljs-name,.hljs-atelier-sulphurpool-light .hljs-selector-id,.hljs-atelier-sulphurpool-light .hljs-selector-class{color:#c94922}.hljs-atelier-sulphurpool-light .hljs-number,.hljs-atelier-sulphurpool-light .hljs-meta,.hljs-atelier-sulphurpool-light .hljs-built_in,.hljs-atelier-sulphurpool-light .hljs-builtin-name,.hljs-atelier-sulphurpool-light .hljs-literal,.hljs-atelier-sulphurpool-light .hljs-type,.hljs-atelier-sulphurpool-light .hljs-params{color:#c76b29}.hljs-atelier-sulphurpool-light .hljs-string,.hljs-atelier-sulphurpool-light .hljs-symbol,.hljs-atelier-sulphurpool-light .hljs-bullet{color:#ac9739}.hljs-atelier-sulphurpool-light .hljs-title,.hljs-atelier-sulphurpool-light .hljs-section{color:#3d8fd1}.hljs-atelier-sulphurpool-light .hljs-keyword,.hljs-atelier-sulphurpool-light .hljs-selector-tag{color:#6679cc}.hljs-atelier-sulphurpool-light .hljs{display:block;overflow-x:auto;background:#f5f7ff;color:#5e6687;padding:.5em}.hljs-atelier-sulphurpool-light .hljs-emphasis{font-style:italic}.hljs-atelier-sulphurpool-light .hljs-strong{font-weight:bold}.hljs-atom-one-dark .hljs{display:block;overflow-x:auto;padding:.5em;color:#abb2bf;background:#282c34}.hljs-atom-one-dark .hljs-comment,.hljs-atom-one-dark .hljs-quote{color:#5c6370;font-style:italic}.hljs-atom-one-dark .hljs-doctag,.hljs-atom-one-dark .hljs-keyword,.hljs-atom-one-dark .hljs-formula{color:#c678dd}.hljs-atom-one-dark .hljs-section,.hljs-atom-one-dark .hljs-name,.hljs-atom-one-dark .hljs-selector-tag,.hljs-atom-one-dark .hljs-deletion,.hljs-atom-one-dark .hljs-subst{color:#e06c75}.hljs-atom-one-dark .hljs-literal{color:#56b6c2}.hljs-atom-one-dark .hljs-string,.hljs-atom-one-dark .hljs-regexp,.hljs-atom-one-dark .hljs-addition,.hljs-atom-one-dark .hljs-attribute,.hljs-atom-one-dark .hljs-meta-string{color:#98c379}.hljs-atom-one-dark .hljs-built_in,.hljs-atom-one-dark .hljs-class .hljs-title{color:#e6c07b}.hljs-atom-one-dark .hljs-variable,.hljs-atom-one-dark .hljs-template-variable,.hljs-atom-one-dark .hljs-type,.hljs-atom-one-dark .hljs-selector-class,.hljs-atom-one-dark .hljs-selector-attr,.hljs-atom-one-dark .hljs-selector-pseudo,.hljs-atom-one-dark .hljs-number{color:#d19a66}.hljs-atom-one-dark .hljs-symbol,.hljs-atom-one-dark .hljs-bullet,.hljs-atom-one-dark .hljs-link,.hljs-atom-one-dark .hljs-meta,.hljs-atom-one-dark .hljs-selector-id,.hljs-atom-one-dark .hljs-title{color:#61aeee}.hljs-atom-one-dark .hljs-emphasis{font-style:italic}.hljs-atom-one-dark .hljs-strong{font-weight:bold}.hljs-atom-one-dark .hljs-link{text-decoration:underline}.hljs-atom-one-light .hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;background:#fafafa}.hljs-atom-one-light .hljs-comment,.hljs-atom-one-light .hljs-quote{color:#a0a1a7;font-style:italic}.hljs-atom-one-light .hljs-doctag,.hljs-atom-one-light .hljs-keyword,.hljs-atom-one-light .hljs-formula{color:#a626a4}.hljs-atom-one-light .hljs-section,.hljs-atom-one-light .hljs-name,.hljs-atom-one-light .hljs-selector-tag,.hljs-atom-one-light .hljs-deletion,.hljs-atom-one-light .hljs-subst{color:#e45649}.hljs-atom-one-light .hljs-literal{color:#0184bb}.hljs-atom-one-light .hljs-string,.hljs-atom-one-light .hljs-regexp,.hljs-atom-one-light .hljs-addition,.hljs-atom-one-light .hljs-attribute,.hljs-atom-one-light .hljs-meta-string{color:#50a14f}.hljs-atom-one-light .hljs-built_in,.hljs-atom-one-light .hljs-class .hljs-title{color:#c18401}.hljs-atom-one-light .hljs-variable,.hljs-atom-one-light .hljs-template-variable,.hljs-atom-one-light .hljs-type,.hljs-atom-one-light .hljs-selector-class,.hljs-atom-one-light .hljs-selector-attr,.hljs-atom-one-light .hljs-selector-pseudo,.hljs-atom-one-light .hljs-number{color:#986801}.hljs-atom-one-light .hljs-symbol,.hljs-atom-one-light .hljs-bullet,.hljs-atom-one-light .hljs-link,.hljs-atom-one-light .hljs-meta,.hljs-atom-one-light .hljs-selector-id,.hljs-atom-one-light .hljs-title{color:#4078f2}.hljs-atom-one-light .hljs-emphasis{font-style:italic}.hljs-atom-one-light .hljs-strong{font-weight:bold}.hljs-atom-one-light .hljs-link{text-decoration:underline}.hljs-brown-paper .hljs{display:block;overflow-x:auto;padding:.5em;background:#b7a68e url(brown-papersq.png)}.hljs-brown-paper .hljs-keyword,.hljs-brown-paper .hljs-selector-tag,.hljs-brown-paper .hljs-literal{color:#005599;font-weight:bold}.hljs-brown-paper .hljs,.hljs-brown-paper .hljs-subst{color:#363c69}.hljs-brown-paper .hljs-string,.hljs-brown-paper .hljs-title,.hljs-brown-paper .hljs-section,.hljs-brown-paper .hljs-type,.hljs-brown-paper .hljs-attribute,.hljs-brown-paper .hljs-symbol,.hljs-brown-paper .hljs-bullet,.hljs-brown-paper .hljs-built_in,.hljs-brown-paper .hljs-addition,.hljs-brown-paper .hljs-variable,.hljs-brown-paper .hljs-template-tag,.hljs-brown-paper .hljs-template-variable,.hljs-brown-paper .hljs-link,.hljs-brown-paper .hljs-name{color:#2c009f}.hljs-brown-paper .hljs-comment,.hljs-brown-paper .hljs-quote,.hljs-brown-paper .hljs-meta,.hljs-brown-paper .hljs-deletion{color:#802022}.hljs-brown-paper .hljs-keyword,.hljs-brown-paper .hljs-selector-tag,.hljs-brown-paper .hljs-literal,.hljs-brown-paper .hljs-doctag,.hljs-brown-paper .hljs-title,.hljs-brown-paper .hljs-section,.hljs-brown-paper .hljs-type,.hljs-brown-paper .hljs-name,.hljs-brown-paper .hljs-strong{font-weight:bold}.hljs-brown-paper .hljs-emphasis{font-style:italic}.hljs-codepen-embed .hljs{display:block;overflow-x:auto;padding:.5em;background:#222;color:#fff}.hljs-codepen-embed .hljs-comment,.hljs-codepen-embed .hljs-quote{color:#777}.hljs-codepen-embed .hljs-variable,.hljs-codepen-embed .hljs-template-variable,.hljs-codepen-embed .hljs-tag,.hljs-codepen-embed .hljs-regexp,.hljs-codepen-embed .hljs-meta,.hljs-codepen-embed .hljs-number,.hljs-codepen-embed .hljs-built_in,.hljs-codepen-embed .hljs-builtin-name,.hljs-codepen-embed .hljs-literal,.hljs-codepen-embed .hljs-params,.hljs-codepen-embed .hljs-symbol,.hljs-codepen-embed .hljs-bullet,.hljs-codepen-embed .hljs-link,.hljs-codepen-embed .hljs-deletion{color:#ab875d}.hljs-codepen-embed .hljs-section,.hljs-codepen-embed .hljs-title,.hljs-codepen-embed .hljs-name,.hljs-codepen-embed .hljs-selector-id,.hljs-codepen-embed .hljs-selector-class,.hljs-codepen-embed .hljs-type,.hljs-codepen-embed .hljs-attribute{color:#9b869b}.hljs-codepen-embed .hljs-string,.hljs-codepen-embed .hljs-keyword,.hljs-codepen-embed .hljs-selector-tag,.hljs-codepen-embed .hljs-addition{color:#8f9c6c}.hljs-codepen-embed .hljs-emphasis{font-style:italic}.hljs-codepen-embed .hljs-strong{font-weight:bold}.hljs-color-brewer .hljs{display:block;overflow-x:auto;padding:.5em;background:#fff}.hljs-color-brewer .hljs,.hljs-color-brewer .hljs-subst{color:#000}.hljs-color-brewer .hljs-string,.hljs-color-brewer .hljs-meta,.hljs-color-brewer .hljs-symbol,.hljs-color-brewer .hljs-template-tag,.hljs-color-brewer .hljs-template-variable,.hljs-color-brewer .hljs-addition{color:#756bb1}.hljs-color-brewer .hljs-comment,.hljs-color-brewer .hljs-quote{color:#636363}.hljs-color-brewer .hljs-number,.hljs-color-brewer .hljs-regexp,.hljs-color-brewer .hljs-literal,.hljs-color-brewer .hljs-bullet,.hljs-color-brewer .hljs-link{color:#31a354}.hljs-color-brewer .hljs-deletion,.hljs-color-brewer .hljs-variable{color:#88f}.hljs-color-brewer .hljs-keyword,.hljs-color-brewer .hljs-selector-tag,.hljs-color-brewer .hljs-title,.hljs-color-brewer .hljs-section,.hljs-color-brewer .hljs-built_in,.hljs-color-brewer .hljs-doctag,.hljs-color-brewer .hljs-type,.hljs-color-brewer .hljs-tag,.hljs-color-brewer .hljs-name,.hljs-color-brewer .hljs-selector-id,.hljs-color-brewer .hljs-selector-class,.hljs-color-brewer .hljs-strong{color:#3182bd}.hljs-color-brewer .hljs-emphasis{font-style:italic}.hljs-color-brewer .hljs-attribute{color:#e6550d}.hljs-darcula .hljs{display:block;overflow-x:auto;padding:.5em;background:#2b2b2b}.hljs-darcula .hljs{color:#bababa}.hljs-darcula .hljs-strong,.hljs-darcula .hljs-emphasis{color:#a8a8a2}.hljs-darcula .hljs-bullet,.hljs-darcula .hljs-quote,.hljs-darcula .hljs-link,.hljs-darcula .hljs-number,.hljs-darcula .hljs-regexp,.hljs-darcula .hljs-literal{color:#6896ba}.hljs-darcula .hljs-code,.hljs-darcula .hljs-selector-class{color:#a6e22e}.hljs-darcula .hljs-emphasis{font-style:italic}.hljs-darcula .hljs-keyword,.hljs-darcula .hljs-selector-tag,.hljs-darcula .hljs-section,.hljs-darcula .hljs-attribute,.hljs-darcula .hljs-name,.hljs-darcula .hljs-variable{color:#cb7832}.hljs-darcula .hljs-params{color:#b9b9b9}.hljs-darcula .hljs-string{color:#6a8759}.hljs-darcula .hljs-subst,.hljs-darcula .hljs-type,.hljs-darcula .hljs-built_in,.hljs-darcula .hljs-builtin-name,.hljs-darcula .hljs-symbol,.hljs-darcula .hljs-selector-id,.hljs-darcula .hljs-selector-attr,.hljs-darcula .hljs-selector-pseudo,.hljs-darcula .hljs-template-tag,.hljs-darcula .hljs-template-variable,.hljs-darcula .hljs-addition{color:#e0c46c}.hljs-darcula .hljs-comment,.hljs-darcula .hljs-deletion,.hljs-darcula .hljs-meta{color:#7f7f7f}.hljs-dark .hljs{display:block;overflow-x:auto;padding:.5em;background:#444}.hljs-dark .hljs-keyword,.hljs-dark .hljs-selector-tag,.hljs-dark .hljs-literal,.hljs-dark .hljs-section,.hljs-dark .hljs-link{color:white}.hljs-dark .hljs,.hljs-dark .hljs-subst{color:#ddd}.hljs-dark .hljs-string,.hljs-dark .hljs-title,.hljs-dark .hljs-name,.hljs-dark .hljs-type,.hljs-dark .hljs-attribute,.hljs-dark .hljs-symbol,.hljs-dark .hljs-bullet,.hljs-dark .hljs-built_in,.hljs-dark .hljs-addition,.hljs-dark .hljs-variable,.hljs-dark .hljs-template-tag,.hljs-dark .hljs-template-variable{color:#d88}.hljs-dark .hljs-comment,.hljs-dark .hljs-quote,.hljs-dark .hljs-deletion,.hljs-dark .hljs-meta{color:#777}.hljs-dark .hljs-keyword,.hljs-dark .hljs-selector-tag,.hljs-dark .hljs-literal,.hljs-dark .hljs-title,.hljs-dark .hljs-section,.hljs-dark .hljs-doctag,.hljs-dark .hljs-type,.hljs-dark .hljs-name,.hljs-dark .hljs-strong{font-weight:bold}.hljs-dark .hljs-emphasis{font-style:italic}.hljs-darkula{@import url('darcula.css');}.hljs-default .hljs{display:block;overflow-x:auto;padding:.5em;background:#F0F0F0}.hljs-default .hljs,.hljs-default .hljs-subst{color:#444}.hljs-default .hljs-comment{color:#888888}.hljs-default .hljs-keyword,.hljs-default .hljs-attribute,.hljs-default .hljs-selector-tag,.hljs-default .hljs-meta-keyword,.hljs-default .hljs-doctag,.hljs-default .hljs-name{font-weight:bold}.hljs-default .hljs-type,.hljs-default .hljs-string,.hljs-default .hljs-number,.hljs-default .hljs-selector-id,.hljs-default .hljs-selector-class,.hljs-default .hljs-quote,.hljs-default .hljs-template-tag,.hljs-default .hljs-deletion{color:#880000}.hljs-default .hljs-title,.hljs-default .hljs-section{color:#880000;font-weight:bold}.hljs-default .hljs-regexp,.hljs-default .hljs-symbol,.hljs-default .hljs-variable,.hljs-default .hljs-template-variable,.hljs-default .hljs-link,.hljs-default .hljs-selector-attr,.hljs-default .hljs-selector-pseudo{color:#BC6060}.hljs-default .hljs-literal{color:#78A960}.hljs-default .hljs-built_in,.hljs-default .hljs-bullet,.hljs-default .hljs-code,.hljs-default .hljs-addition{color:#397300}.hljs-default .hljs-meta{color:#1f7199}.hljs-default .hljs-meta-string{color:#4d99bf}.hljs-default .hljs-emphasis{font-style:italic}.hljs-default .hljs-strong{font-weight:bold}.hljs-docco .hljs{display:block;overflow-x:auto;padding:.5em;color:#000;background:#f8f8ff}.hljs-docco .hljs-comment,.hljs-docco .hljs-quote{color:#408080;font-style:italic}.hljs-docco .hljs-keyword,.hljs-docco .hljs-selector-tag,.hljs-docco .hljs-literal,.hljs-docco .hljs-subst{color:#954121}.hljs-docco .hljs-number{color:#40a070}.hljs-docco .hljs-string,.hljs-docco .hljs-doctag{color:#219161}.hljs-docco .hljs-selector-id,.hljs-docco .hljs-selector-class,.hljs-docco .hljs-section,.hljs-docco .hljs-type{color:#19469d}.hljs-docco .hljs-params{color:#00f}.hljs-docco .hljs-title{color:#458;font-weight:bold}.hljs-docco .hljs-tag,.hljs-docco .hljs-name,.hljs-docco .hljs-attribute{color:#000080;font-weight:normal}.hljs-docco .hljs-variable,.hljs-docco .hljs-template-variable{color:#008080}.hljs-docco .hljs-regexp,.hljs-docco .hljs-link{color:#b68}.hljs-docco .hljs-symbol,.hljs-docco .hljs-bullet{color:#990073}.hljs-docco .hljs-built_in,.hljs-docco .hljs-builtin-name{color:#0086b3}.hljs-docco .hljs-meta{color:#999;font-weight:bold}.hljs-docco .hljs-deletion{background:#fdd}.hljs-docco .hljs-addition{background:#dfd}.hljs-docco .hljs-emphasis{font-style:italic}.hljs-docco .hljs-strong{font-weight:bold}.hljs-dracula .hljs{display:block;overflow-x:auto;padding:.5em;background:#282a36}.hljs-dracula .hljs-keyword,.hljs-dracula .hljs-selector-tag,.hljs-dracula .hljs-literal,.hljs-dracula .hljs-section,.hljs-dracula .hljs-link{color:#8be9fd}.hljs-dracula .hljs-function .hljs-keyword{color:#ff79c6}.hljs-dracula .hljs,.hljs-dracula .hljs-subst{color:#f8f8f2}.hljs-dracula .hljs-string,.hljs-dracula .hljs-title,.hljs-dracula .hljs-name,.hljs-dracula .hljs-type,.hljs-dracula .hljs-attribute,.hljs-dracula .hljs-symbol,.hljs-dracula .hljs-bullet,.hljs-dracula .hljs-addition,.hljs-dracula .hljs-variable,.hljs-dracula .hljs-template-tag,.hljs-dracula .hljs-template-variable{color:#f1fa8c}.hljs-dracula .hljs-comment,.hljs-dracula .hljs-quote,.hljs-dracula .hljs-deletion,.hljs-dracula .hljs-meta{color:#6272a4}.hljs-dracula .hljs-keyword,.hljs-dracula .hljs-selector-tag,.hljs-dracula .hljs-literal,.hljs-dracula .hljs-title,.hljs-dracula .hljs-section,.hljs-dracula .hljs-doctag,.hljs-dracula .hljs-type,.hljs-dracula .hljs-name,.hljs-dracula .hljs-strong{font-weight:bold}.hljs-dracula .hljs-emphasis{font-style:italic}.hljs-far .hljs{display:block;overflow-x:auto;padding:.5em;background:#000080}.hljs-far .hljs,.hljs-far .hljs-subst{color:#0ff}.hljs-far .hljs-string,.hljs-far .hljs-attribute,.hljs-far .hljs-symbol,.hljs-far .hljs-bullet,.hljs-far .hljs-built_in,.hljs-far .hljs-builtin-name,.hljs-far .hljs-template-tag,.hljs-far .hljs-template-variable,.hljs-far .hljs-addition{color:#ff0}.hljs-far .hljs-keyword,.hljs-far .hljs-selector-tag,.hljs-far .hljs-section,.hljs-far .hljs-type,.hljs-far .hljs-name,.hljs-far .hljs-selector-id,.hljs-far .hljs-selector-class,.hljs-far .hljs-variable{color:#fff}.hljs-far .hljs-comment,.hljs-far .hljs-quote,.hljs-far .hljs-doctag,.hljs-far .hljs-deletion{color:#888}.hljs-far .hljs-number,.hljs-far .hljs-regexp,.hljs-far .hljs-literal,.hljs-far .hljs-link{color:#0f0}.hljs-far .hljs-meta{color:#008080}.hljs-far .hljs-keyword,.hljs-far .hljs-selector-tag,.hljs-far .hljs-title,.hljs-far .hljs-section,.hljs-far .hljs-name,.hljs-far .hljs-strong{font-weight:bold}.hljs-far .hljs-emphasis{font-style:italic}.hljs-foundation .hljs{display:block;overflow-x:auto;padding:.5em;background:#eee;color:black}.hljs-foundation .hljs-link,.hljs-foundation .hljs-emphasis,.hljs-foundation .hljs-attribute,.hljs-foundation .hljs-addition{color:#070}.hljs-foundation .hljs-emphasis{font-style:italic}.hljs-foundation .hljs-strong,.hljs-foundation .hljs-string,.hljs-foundation .hljs-deletion{color:#d14}.hljs-foundation .hljs-strong{font-weight:bold}.hljs-foundation .hljs-quote,.hljs-foundation .hljs-comment{color:#998;font-style:italic}.hljs-foundation .hljs-section,.hljs-foundation .hljs-title{color:#900}.hljs-foundation .hljs-class .hljs-title,.hljs-foundation .hljs-type{color:#458}.hljs-foundation .hljs-variable,.hljs-foundation .hljs-template-variable{color:#336699}.hljs-foundation .hljs-bullet{color:#997700}.hljs-foundation .hljs-meta{color:#3344bb}.hljs-foundation .hljs-code,.hljs-foundation .hljs-number,.hljs-foundation .hljs-literal,.hljs-foundation .hljs-keyword,.hljs-foundation .hljs-selector-tag{color:#099}.hljs-foundation .hljs-regexp{background-color:#fff0ff;color:#880088}.hljs-foundation .hljs-symbol{color:#990073}.hljs-foundation .hljs-tag,.hljs-foundation .hljs-name,.hljs-foundation .hljs-selector-id,.hljs-foundation .hljs-selector-class{color:#007700}.hljs-github-gist .hljs{display:block;background:white;padding:.5em;color:#333333;overflow-x:auto}.hljs-github-gist .hljs-comment,.hljs-github-gist .hljs-meta{color:#969896}.hljs-github-gist .hljs-string,.hljs-github-gist .hljs-variable,.hljs-github-gist .hljs-template-variable,.hljs-github-gist .hljs-strong,.hljs-github-gist .hljs-emphasis,.hljs-github-gist .hljs-quote{color:#df5000}.hljs-github-gist .hljs-keyword,.hljs-github-gist .hljs-selector-tag,.hljs-github-gist .hljs-type{color:#a71d5d}.hljs-github-gist .hljs-literal,.hljs-github-gist .hljs-symbol,.hljs-github-gist .hljs-bullet,.hljs-github-gist .hljs-attribute{color:#0086b3}.hljs-github-gist .hljs-section,.hljs-github-gist .hljs-name{color:#63a35c}.hljs-github-gist .hljs-tag{color:#333333}.hljs-github-gist .hljs-title,.hljs-github-gist .hljs-attr,.hljs-github-gist .hljs-selector-id,.hljs-github-gist .hljs-selector-class,.hljs-github-gist .hljs-selector-attr,.hljs-github-gist .hljs-selector-pseudo{color:#795da3}.hljs-github-gist .hljs-addition{color:#55a532;background-color:#eaffea}.hljs-github-gist .hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-github-gist .hljs-link{text-decoration:underline}.hljs-github .hljs{display:block;overflow-x:auto;padding:.5em;color:#333;background:#f8f8f8}.hljs-github .hljs-comment,.hljs-github .hljs-quote{color:#998;font-style:italic}.hljs-github .hljs-keyword,.hljs-github .hljs-selector-tag,.hljs-github .hljs-subst{color:#333;font-weight:bold}.hljs-github .hljs-number,.hljs-github .hljs-literal,.hljs-github .hljs-variable,.hljs-github .hljs-template-variable,.hljs-github .hljs-tag .hljs-attr{color:#008080}.hljs-github .hljs-string,.hljs-github .hljs-doctag{color:#d14}.hljs-github .hljs-title,.hljs-github .hljs-section,.hljs-github .hljs-selector-id{color:#900;font-weight:bold}.hljs-github .hljs-subst{font-weight:normal}.hljs-github .hljs-type,.hljs-github .hljs-class .hljs-title{color:#458;font-weight:bold}.hljs-github .hljs-tag,.hljs-github .hljs-name,.hljs-github .hljs-attribute{color:#000080;font-weight:normal}.hljs-github .hljs-regexp,.hljs-github .hljs-link{color:#009926}.hljs-github .hljs-symbol,.hljs-github .hljs-bullet{color:#990073}.hljs-github .hljs-built_in,.hljs-github .hljs-builtin-name{color:#0086b3}.hljs-github .hljs-meta{color:#999;font-weight:bold}.hljs-github .hljs-deletion{background:#fdd}.hljs-github .hljs-addition{background:#dfd}.hljs-github .hljs-emphasis{font-style:italic}.hljs-github .hljs-strong{font-weight:bold}.hljs-googlecode .hljs{display:block;overflow-x:auto;padding:.5em;background:white;color:black}.hljs-googlecode .hljs-comment,.hljs-googlecode .hljs-quote{color:#800}.hljs-googlecode .hljs-keyword,.hljs-googlecode .hljs-selector-tag,.hljs-googlecode .hljs-section,.hljs-googlecode .hljs-title,.hljs-googlecode .hljs-name{color:#008}.hljs-googlecode .hljs-variable,.hljs-googlecode .hljs-template-variable{color:#660}.hljs-googlecode .hljs-string,.hljs-googlecode .hljs-selector-attr,.hljs-googlecode .hljs-selector-pseudo,.hljs-googlecode .hljs-regexp{color:#080}.hljs-googlecode .hljs-literal,.hljs-googlecode .hljs-symbol,.hljs-googlecode .hljs-bullet,.hljs-googlecode .hljs-meta,.hljs-googlecode .hljs-number,.hljs-googlecode .hljs-link{color:#066}.hljs-googlecode .hljs-title,.hljs-googlecode .hljs-doctag,.hljs-googlecode .hljs-type,.hljs-googlecode .hljs-attr,.hljs-googlecode .hljs-built_in,.hljs-googlecode .hljs-builtin-name,.hljs-googlecode .hljs-params{color:#606}.hljs-googlecode .hljs-attribute,.hljs-googlecode .hljs-subst{color:#000}.hljs-googlecode .hljs-formula{background-color:#eee;font-style:italic}.hljs-googlecode .hljs-selector-id,.hljs-googlecode .hljs-selector-class{color:#9B703F}.hljs-googlecode .hljs-addition{background-color:#baeeba}.hljs-googlecode .hljs-deletion{background-color:#ffc8bd}.hljs-googlecode .hljs-doctag,.hljs-googlecode .hljs-strong{font-weight:bold}.hljs-googlecode .hljs-emphasis{font-style:italic}.hljs-grayscale .hljs{display:block;overflow-x:auto;padding:.5em;color:#333;background:#fff}.hljs-grayscale .hljs-comment,.hljs-grayscale .hljs-quote{color:#777;font-style:italic}.hljs-grayscale .hljs-keyword,.hljs-grayscale .hljs-selector-tag,.hljs-grayscale .hljs-subst{color:#333;font-weight:bold}.hljs-grayscale .hljs-number,.hljs-grayscale .hljs-literal{color:#777}.hljs-grayscale .hljs-string,.hljs-grayscale .hljs-doctag,.hljs-grayscale .hljs-formula{color:#333;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAJ0lEQVQIW2O8e/fufwYGBgZBQUEQxcCIIfDu3Tuwivfv30NUoAsAALHpFMMLqZlPAAAAAElFTkSuQmCC) repeat}.hljs-grayscale .hljs-title,.hljs-grayscale .hljs-section,.hljs-grayscale .hljs-selector-id{color:#000;font-weight:bold}.hljs-grayscale .hljs-subst{font-weight:normal}.hljs-grayscale .hljs-class .hljs-title,.hljs-grayscale .hljs-type,.hljs-grayscale .hljs-name{color:#333;font-weight:bold}.hljs-grayscale .hljs-tag{color:#333}.hljs-grayscale .hljs-regexp{color:#333;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAAPUlEQVQYV2NkQAN37979r6yszIgujiIAU4RNMVwhuiQ6H6wQl3XI4oy4FMHcCJPHcDS6J2A2EqUQpJhohQDexSef15DBCwAAAABJRU5ErkJggg==) repeat}.hljs-grayscale .hljs-symbol,.hljs-grayscale .hljs-bullet,.hljs-grayscale .hljs-link{color:#000;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAKElEQVQIW2NkQAO7d+/+z4gsBhJwdXVlhAvCBECKwIIwAbhKZBUwBQA6hBpm5efZsgAAAABJRU5ErkJggg==) repeat}.hljs-grayscale .hljs-built_in,.hljs-grayscale .hljs-builtin-name{color:#000;text-decoration:underline}.hljs-grayscale .hljs-meta{color:#999;font-weight:bold}.hljs-grayscale .hljs-deletion{color:#fff;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAADCAYAAABS3WWCAAAAE0lEQVQIW2MMDQ39zzhz5kwIAQAyxweWgUHd1AAAAABJRU5ErkJggg==) repeat}.hljs-grayscale .hljs-addition{color:#000;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAALUlEQVQYV2N89+7dfwYk8P79ewZBQUFkIQZGOiu6e/cuiptQHAPl0NtNxAQBAM97Oejj3Dg7AAAAAElFTkSuQmCC) repeat}.hljs-grayscale .hljs-emphasis{font-style:italic}.hljs-grayscale .hljs-strong{font-weight:bold}.hljs-gruvbox-dark .hljs{display:block;overflow-x:auto;padding:.5em;background:#282828}.hljs-gruvbox-dark .hljs,.hljs-gruvbox-dark .hljs-subst{color:#ebdbb2}.hljs-gruvbox-dark .hljs-deletion,.hljs-gruvbox-dark .hljs-formula,.hljs-gruvbox-dark .hljs-keyword,.hljs-gruvbox-dark .hljs-link,.hljs-gruvbox-dark .hljs-selector-tag{color:#fb4934}.hljs-gruvbox-dark .hljs-built_in,.hljs-gruvbox-dark .hljs-emphasis,.hljs-gruvbox-dark .hljs-name,.hljs-gruvbox-dark .hljs-quote,.hljs-gruvbox-dark .hljs-strong,.hljs-gruvbox-dark .hljs-title,.hljs-gruvbox-dark .hljs-variable{color:#83a598}.hljs-gruvbox-dark .hljs-attr,.hljs-gruvbox-dark .hljs-params,.hljs-gruvbox-dark .hljs-template-tag,.hljs-gruvbox-dark .hljs-type{color:#fabd2f}.hljs-gruvbox-dark .hljs-builtin-name,.hljs-gruvbox-dark .hljs-doctag,.hljs-gruvbox-dark .hljs-literal,.hljs-gruvbox-dark .hljs-number{color:#8f3f71}.hljs-gruvbox-dark .hljs-code,.hljs-gruvbox-dark .hljs-meta,.hljs-gruvbox-dark .hljs-regexp,.hljs-gruvbox-dark .hljs-selector-id,.hljs-gruvbox-dark .hljs-template-variable{color:#fe8019}.hljs-gruvbox-dark .hljs-addition,.hljs-gruvbox-dark .hljs-meta-string,.hljs-gruvbox-dark .hljs-section,.hljs-gruvbox-dark .hljs-selector-attr,.hljs-gruvbox-dark .hljs-selector-class,.hljs-gruvbox-dark .hljs-string,.hljs-gruvbox-dark .hljs-symbol{color:#b8bb26}.hljs-gruvbox-dark .hljs-attribute,.hljs-gruvbox-dark .hljs-bullet,.hljs-gruvbox-dark .hljs-class,.hljs-gruvbox-dark .hljs-function,.hljs-gruvbox-dark .hljs-function .hljs-keyword,.hljs-gruvbox-dark .hljs-meta-keyword,.hljs-gruvbox-dark .hljs-selector-pseudo,.hljs-gruvbox-dark .hljs-tag{color:#8ec07c}.hljs-gruvbox-dark .hljs-comment{color:#928374}.hljs-gruvbox-dark .hljs-link_label,.hljs-gruvbox-dark .hljs-literal,.hljs-gruvbox-dark .hljs-number{color:#d3869b}.hljs-gruvbox-dark .hljs-comment,.hljs-gruvbox-dark .hljs-emphasis{font-style:italic}.hljs-gruvbox-dark .hljs-section,.hljs-gruvbox-dark .hljs-strong,.hljs-gruvbox-dark .hljs-tag{font-weight:bold}.hljs-gruvbox-light .hljs{display:block;overflow-x:auto;padding:.5em;background:#fbf1c7}.hljs-gruvbox-light .hljs,.hljs-gruvbox-light .hljs-subst{color:#3c3836}.hljs-gruvbox-light .hljs-deletion,.hljs-gruvbox-light .hljs-formula,.hljs-gruvbox-light .hljs-keyword,.hljs-gruvbox-light .hljs-link,.hljs-gruvbox-light .hljs-selector-tag{color:#9d0006}.hljs-gruvbox-light .hljs-built_in,.hljs-gruvbox-light .hljs-emphasis,.hljs-gruvbox-light .hljs-name,.hljs-gruvbox-light .hljs-quote,.hljs-gruvbox-light .hljs-strong,.hljs-gruvbox-light .hljs-title,.hljs-gruvbox-light .hljs-variable{color:#076678}.hljs-gruvbox-light .hljs-attr,.hljs-gruvbox-light .hljs-params,.hljs-gruvbox-light .hljs-template-tag,.hljs-gruvbox-light .hljs-type{color:#b57614}.hljs-gruvbox-light .hljs-builtin-name,.hljs-gruvbox-light .hljs-doctag,.hljs-gruvbox-light .hljs-literal,.hljs-gruvbox-light .hljs-number{color:#8f3f71}.hljs-gruvbox-light .hljs-code,.hljs-gruvbox-light .hljs-meta,.hljs-gruvbox-light .hljs-regexp,.hljs-gruvbox-light .hljs-selector-id,.hljs-gruvbox-light .hljs-template-variable{color:#af3a03}.hljs-gruvbox-light .hljs-addition,.hljs-gruvbox-light .hljs-meta-string,.hljs-gruvbox-light .hljs-section,.hljs-gruvbox-light .hljs-selector-attr,.hljs-gruvbox-light .hljs-selector-class,.hljs-gruvbox-light .hljs-string,.hljs-gruvbox-light .hljs-symbol{color:#79740e}.hljs-gruvbox-light .hljs-attribute,.hljs-gruvbox-light .hljs-bullet,.hljs-gruvbox-light .hljs-class,.hljs-gruvbox-light .hljs-function,.hljs-gruvbox-light .hljs-function .hljs-keyword,.hljs-gruvbox-light .hljs-meta-keyword,.hljs-gruvbox-light .hljs-selector-pseudo,.hljs-gruvbox-light .hljs-tag{color:#427b58}.hljs-gruvbox-light .hljs-comment{color:#928374}.hljs-gruvbox-light .hljs-link_label,.hljs-gruvbox-light .hljs-literal,.hljs-gruvbox-light .hljs-number{color:#8f3f71}.hljs-gruvbox-light .hljs-comment,.hljs-gruvbox-light .hljs-emphasis{font-style:italic}.hljs-gruvbox-light .hljs-section,.hljs-gruvbox-light .hljs-strong,.hljs-gruvbox-light .hljs-tag{font-weight:bold}.hljs-hopscotch .hljs-comment,.hljs-hopscotch .hljs-quote{color:#989498}.hljs-hopscotch .hljs-variable,.hljs-hopscotch .hljs-template-variable,.hljs-hopscotch .hljs-attribute,.hljs-hopscotch .hljs-tag,.hljs-hopscotch .hljs-name,.hljs-hopscotch .hljs-selector-id,.hljs-hopscotch .hljs-selector-class,.hljs-hopscotch .hljs-regexp,.hljs-hopscotch .hljs-link,.hljs-hopscotch .hljs-deletion{color:#dd464c}.hljs-hopscotch .hljs-number,.hljs-hopscotch .hljs-built_in,.hljs-hopscotch .hljs-builtin-name,.hljs-hopscotch .hljs-literal,.hljs-hopscotch .hljs-type,.hljs-hopscotch .hljs-params{color:#fd8b19}.hljs-hopscotch .hljs-class .hljs-title{color:#fdcc59}.hljs-hopscotch .hljs-string,.hljs-hopscotch .hljs-symbol,.hljs-hopscotch .hljs-bullet,.hljs-hopscotch .hljs-addition{color:#8fc13e}.hljs-hopscotch .hljs-meta{color:#149b93}.hljs-hopscotch .hljs-function,.hljs-hopscotch .hljs-section,.hljs-hopscotch .hljs-title{color:#1290bf}.hljs-hopscotch .hljs-keyword,.hljs-hopscotch .hljs-selector-tag{color:#c85e7c}.hljs-hopscotch .hljs{display:block;background:#322931;color:#b9b5b8;padding:.5em}.hljs-hopscotch .hljs-emphasis{font-style:italic}.hljs-hopscotch .hljs-strong{font-weight:bold}.hljs-hybrid .hljs{display:block;overflow-x:auto;padding:.5em;background:#1d1f21}.hljs-hybrid .hljs::selection,.hljs-hybrid .hljs span::selection{background:#373b41}.hljs-hybrid .hljs::-moz-selection,.hljs-hybrid .hljs span::-moz-selection{background:#373b41}.hljs-hybrid .hljs{color:#c5c8c6}.hljs-hybrid .hljs-title,.hljs-hybrid .hljs-name{color:#f0c674}.hljs-hybrid .hljs-comment,.hljs-hybrid .hljs-meta,.hljs-hybrid .hljs-meta .hljs-keyword{color:#707880}.hljs-hybrid .hljs-number,.hljs-hybrid .hljs-symbol,.hljs-hybrid .hljs-literal,.hljs-hybrid .hljs-deletion,.hljs-hybrid .hljs-link{color:#cc6666}.hljs-hybrid .hljs-string,.hljs-hybrid .hljs-doctag,.hljs-hybrid .hljs-addition,.hljs-hybrid .hljs-regexp,.hljs-hybrid .hljs-selector-attr,.hljs-hybrid .hljs-selector-pseudo{color:#b5bd68}.hljs-hybrid .hljs-attribute,.hljs-hybrid .hljs-code,.hljs-hybrid .hljs-selector-id{color:#b294bb}.hljs-hybrid .hljs-keyword,.hljs-hybrid .hljs-selector-tag,.hljs-hybrid .hljs-bullet,.hljs-hybrid .hljs-tag{color:#81a2be}.hljs-hybrid .hljs-subst,.hljs-hybrid .hljs-variable,.hljs-hybrid .hljs-template-tag,.hljs-hybrid .hljs-template-variable{color:#8abeb7}.hljs-hybrid .hljs-type,.hljs-hybrid .hljs-built_in,.hljs-hybrid .hljs-builtin-name,.hljs-hybrid .hljs-quote,.hljs-hybrid .hljs-section,.hljs-hybrid .hljs-selector-class{color:#de935f}.hljs-hybrid .hljs-emphasis{font-style:italic}.hljs-hybrid .hljs-strong{font-weight:bold}.hljs-idea .hljs{display:block;overflow-x:auto;padding:.5em;color:#000;background:#fff}.hljs-idea .hljs-subst,.hljs-idea .hljs-title{font-weight:normal;color:#000}.hljs-idea .hljs-comment,.hljs-idea .hljs-quote{color:#808080;font-style:italic}.hljs-idea .hljs-meta{color:#808000}.hljs-idea .hljs-tag{background:#efefef}.hljs-idea .hljs-section,.hljs-idea .hljs-name,.hljs-idea .hljs-literal,.hljs-idea .hljs-keyword,.hljs-idea .hljs-selector-tag,.hljs-idea .hljs-type,.hljs-idea .hljs-selector-id,.hljs-idea .hljs-selector-class{font-weight:bold;color:#000080}.hljs-idea .hljs-attribute,.hljs-idea .hljs-number,.hljs-idea .hljs-regexp,.hljs-idea .hljs-link{font-weight:bold;color:#0000ff}.hljs-idea .hljs-number,.hljs-idea .hljs-regexp,.hljs-idea .hljs-link{font-weight:normal}.hljs-idea .hljs-string{color:#008000;font-weight:bold}.hljs-idea .hljs-symbol,.hljs-idea .hljs-bullet,.hljs-idea .hljs-formula{color:#000;background:#d0eded;font-style:italic}.hljs-idea .hljs-doctag{text-decoration:underline}.hljs-idea .hljs-variable,.hljs-idea .hljs-template-variable{color:#660e7a}.hljs-idea .hljs-addition{background:#baeeba}.hljs-idea .hljs-deletion{background:#ffc8bd}.hljs-idea .hljs-emphasis{font-style:italic}.hljs-idea .hljs-strong{font-weight:bold}.hljs-ir-black .hljs{display:block;overflow-x:auto;padding:.5em;background:#000;color:#f8f8f8}.hljs-ir-black .hljs-comment,.hljs-ir-black .hljs-quote,.hljs-ir-black .hljs-meta{color:#7c7c7c}.hljs-ir-black .hljs-keyword,.hljs-ir-black .hljs-selector-tag,.hljs-ir-black .hljs-tag,.hljs-ir-black .hljs-name{color:#96cbfe}.hljs-ir-black .hljs-attribute,.hljs-ir-black .hljs-selector-id{color:#ffffb6}.hljs-ir-black .hljs-string,.hljs-ir-black .hljs-selector-attr,.hljs-ir-black .hljs-selector-pseudo,.hljs-ir-black .hljs-addition{color:#a8ff60}.hljs-ir-black .hljs-subst{color:#daefa3}.hljs-ir-black .hljs-regexp,.hljs-ir-black .hljs-link{color:#e9c062}.hljs-ir-black .hljs-title,.hljs-ir-black .hljs-section,.hljs-ir-black .hljs-type,.hljs-ir-black .hljs-doctag{color:#ffffb6}.hljs-ir-black .hljs-symbol,.hljs-ir-black .hljs-bullet,.hljs-ir-black .hljs-variable,.hljs-ir-black .hljs-template-variable,.hljs-ir-black .hljs-literal{color:#c6c5fe}.hljs-ir-black .hljs-number,.hljs-ir-black .hljs-deletion{color:#ff73fd}.hljs-ir-black .hljs-emphasis{font-style:italic}.hljs-ir-black .hljs-strong{font-weight:bold}.hljs-kimbie.dark .hljs-comment,.hljs-kimbie.dark .hljs-quote{color:#d6baad}.hljs-kimbie.dark .hljs-variable,.hljs-kimbie.dark .hljs-template-variable,.hljs-kimbie.dark .hljs-tag,.hljs-kimbie.dark .hljs-name,.hljs-kimbie.dark .hljs-selector-id,.hljs-kimbie.dark .hljs-selector-class,.hljs-kimbie.dark .hljs-regexp,.hljs-kimbie.dark .hljs-meta{color:#dc3958}.hljs-kimbie.dark .hljs-number,.hljs-kimbie.dark .hljs-built_in,.hljs-kimbie.dark .hljs-builtin-name,.hljs-kimbie.dark .hljs-literal,.hljs-kimbie.dark .hljs-type,.hljs-kimbie.dark .hljs-params,.hljs-kimbie.dark .hljs-deletion,.hljs-kimbie.dark .hljs-link{color:#f79a32}.hljs-kimbie.dark .hljs-title,.hljs-kimbie.dark .hljs-section,.hljs-kimbie.dark .hljs-attribute{color:#f06431}.hljs-kimbie.dark .hljs-string,.hljs-kimbie.dark .hljs-symbol,.hljs-kimbie.dark .hljs-bullet,.hljs-kimbie.dark .hljs-addition{color:#889b4a}.hljs-kimbie.dark .hljs-keyword,.hljs-kimbie.dark .hljs-selector-tag,.hljs-kimbie.dark .hljs-function{color:#98676a}.hljs-kimbie.dark .hljs{display:block;overflow-x:auto;background:#221a0f;color:#d3af86;padding:.5em}.hljs-kimbie.dark .hljs-emphasis{font-style:italic}.hljs-kimbie.dark .hljs-strong{font-weight:bold}.hljs-kimbie.light .hljs-comment,.hljs-kimbie.light .hljs-quote{color:#a57a4c}.hljs-kimbie.light .hljs-variable,.hljs-kimbie.light .hljs-template-variable,.hljs-kimbie.light .hljs-tag,.hljs-kimbie.light .hljs-name,.hljs-kimbie.light .hljs-selector-id,.hljs-kimbie.light .hljs-selector-class,.hljs-kimbie.light .hljs-regexp,.hljs-kimbie.light .hljs-meta{color:#dc3958}.hljs-kimbie.light .hljs-number,.hljs-kimbie.light .hljs-built_in,.hljs-kimbie.light .hljs-builtin-name,.hljs-kimbie.light .hljs-literal,.hljs-kimbie.light .hljs-type,.hljs-kimbie.light .hljs-params,.hljs-kimbie.light .hljs-deletion,.hljs-kimbie.light .hljs-link{color:#f79a32}.hljs-kimbie.light .hljs-title,.hljs-kimbie.light .hljs-section,.hljs-kimbie.light .hljs-attribute{color:#f06431}.hljs-kimbie.light .hljs-string,.hljs-kimbie.light .hljs-symbol,.hljs-kimbie.light .hljs-bullet,.hljs-kimbie.light .hljs-addition{color:#889b4a}.hljs-kimbie.light .hljs-keyword,.hljs-kimbie.light .hljs-selector-tag,.hljs-kimbie.light .hljs-function{color:#98676a}.hljs-kimbie.light .hljs{display:block;overflow-x:auto;background:#fbebd4;color:#84613d;padding:.5em}.hljs-kimbie.light .hljs-emphasis{font-style:italic}.hljs-kimbie.light .hljs-strong{font-weight:bold}.hljs-magula .hljs{display:block;overflow-x:auto;padding:.5em;background-color:#f4f4f4}.hljs-magula .hljs,.hljs-magula .hljs-subst{color:black}.hljs-magula .hljs-string,.hljs-magula .hljs-title,.hljs-magula .hljs-symbol,.hljs-magula .hljs-bullet,.hljs-magula .hljs-attribute,.hljs-magula .hljs-addition,.hljs-magula .hljs-variable,.hljs-magula .hljs-template-tag,.hljs-magula .hljs-template-variable{color:#050}.hljs-magula .hljs-comment,.hljs-magula .hljs-quote{color:#777}.hljs-magula .hljs-number,.hljs-magula .hljs-regexp,.hljs-magula .hljs-literal,.hljs-magula .hljs-type,.hljs-magula .hljs-link{color:#800}.hljs-magula .hljs-deletion,.hljs-magula .hljs-meta{color:#00e}.hljs-magula .hljs-keyword,.hljs-magula .hljs-selector-tag,.hljs-magula .hljs-doctag,.hljs-magula .hljs-title,.hljs-magula .hljs-section,.hljs-magula .hljs-built_in,.hljs-magula .hljs-tag,.hljs-magula .hljs-name{font-weight:bold;color:navy}.hljs-magula .hljs-emphasis{font-style:italic}.hljs-magula .hljs-strong{font-weight:bold}.hljs-mono-blue .hljs{display:block;overflow-x:auto;padding:.5em;background:#eaeef3}.hljs-mono-blue .hljs{color:#00193a}.hljs-mono-blue .hljs-keyword,.hljs-mono-blue .hljs-selector-tag,.hljs-mono-blue .hljs-title,.hljs-mono-blue .hljs-section,.hljs-mono-blue .hljs-doctag,.hljs-mono-blue .hljs-name,.hljs-mono-blue .hljs-strong{font-weight:bold}.hljs-mono-blue .hljs-comment{color:#738191}.hljs-mono-blue .hljs-string,.hljs-mono-blue .hljs-title,.hljs-mono-blue .hljs-section,.hljs-mono-blue .hljs-built_in,.hljs-mono-blue .hljs-literal,.hljs-mono-blue .hljs-type,.hljs-mono-blue .hljs-addition,.hljs-mono-blue .hljs-tag,.hljs-mono-blue .hljs-quote,.hljs-mono-blue .hljs-name,.hljs-mono-blue .hljs-selector-id,.hljs-mono-blue .hljs-selector-class{color:#0048ab}.hljs-mono-blue .hljs-meta,.hljs-mono-blue .hljs-subst,.hljs-mono-blue .hljs-symbol,.hljs-mono-blue .hljs-regexp,.hljs-mono-blue .hljs-attribute,.hljs-mono-blue .hljs-deletion,.hljs-mono-blue .hljs-variable,.hljs-mono-blue .hljs-template-variable,.hljs-mono-blue .hljs-link,.hljs-mono-blue .hljs-bullet{color:#4c81c9}.hljs-mono-blue .hljs-emphasis{font-style:italic}.hljs-monokai-sublime .hljs{display:block;overflow-x:auto;padding:.5em;background:#23241f}.hljs-monokai-sublime .hljs,.hljs-monokai-sublime .hljs-tag,.hljs-monokai-sublime .hljs-subst{color:#f8f8f2}.hljs-monokai-sublime .hljs-strong,.hljs-monokai-sublime .hljs-emphasis{color:#a8a8a2}.hljs-monokai-sublime .hljs-bullet,.hljs-monokai-sublime .hljs-quote,.hljs-monokai-sublime .hljs-number,.hljs-monokai-sublime .hljs-regexp,.hljs-monokai-sublime .hljs-literal,.hljs-monokai-sublime .hljs-link{color:#ae81ff}.hljs-monokai-sublime .hljs-code,.hljs-monokai-sublime .hljs-title,.hljs-monokai-sublime .hljs-section,.hljs-monokai-sublime .hljs-selector-class{color:#a6e22e}.hljs-monokai-sublime .hljs-strong{font-weight:bold}.hljs-monokai-sublime .hljs-emphasis{font-style:italic}.hljs-monokai-sublime .hljs-keyword,.hljs-monokai-sublime .hljs-selector-tag,.hljs-monokai-sublime .hljs-name,.hljs-monokai-sublime .hljs-attr{color:#f92672}.hljs-monokai-sublime .hljs-symbol,.hljs-monokai-sublime .hljs-attribute{color:#66d9ef}.hljs-monokai-sublime .hljs-params,.hljs-monokai-sublime .hljs-class .hljs-title{color:#f8f8f2}.hljs-monokai-sublime .hljs-string,.hljs-monokai-sublime .hljs-type,.hljs-monokai-sublime .hljs-built_in,.hljs-monokai-sublime .hljs-builtin-name,.hljs-monokai-sublime .hljs-selector-id,.hljs-monokai-sublime .hljs-selector-attr,.hljs-monokai-sublime .hljs-selector-pseudo,.hljs-monokai-sublime .hljs-addition,.hljs-monokai-sublime .hljs-variable,.hljs-monokai-sublime .hljs-template-variable{color:#e6db74}.hljs-monokai-sublime .hljs-comment,.hljs-monokai-sublime .hljs-deletion,.hljs-monokai-sublime .hljs-meta{color:#75715e}.hljs-monokai .hljs{display:block;overflow-x:auto;padding:.5em;background:#272822;color:#ddd}.hljs-monokai .hljs-tag,.hljs-monokai .hljs-keyword,.hljs-monokai .hljs-selector-tag,.hljs-monokai .hljs-literal,.hljs-monokai .hljs-strong,.hljs-monokai .hljs-name{color:#f92672}.hljs-monokai .hljs-code{color:#66d9ef}.hljs-monokai .hljs-class .hljs-title{color:white}.hljs-monokai .hljs-attribute,.hljs-monokai .hljs-symbol,.hljs-monokai .hljs-regexp,.hljs-monokai .hljs-link{color:#bf79db}.hljs-monokai .hljs-string,.hljs-monokai .hljs-bullet,.hljs-monokai .hljs-subst,.hljs-monokai .hljs-title,.hljs-monokai .hljs-section,.hljs-monokai .hljs-emphasis,.hljs-monokai .hljs-type,.hljs-monokai .hljs-built_in,.hljs-monokai .hljs-builtin-name,.hljs-monokai .hljs-selector-attr,.hljs-monokai .hljs-selector-pseudo,.hljs-monokai .hljs-addition,.hljs-monokai .hljs-variable,.hljs-monokai .hljs-template-tag,.hljs-monokai .hljs-template-variable{color:#a6e22e}.hljs-monokai .hljs-comment,.hljs-monokai .hljs-quote,.hljs-monokai .hljs-deletion,.hljs-monokai .hljs-meta{color:#75715e}.hljs-monokai .hljs-keyword,.hljs-monokai .hljs-selector-tag,.hljs-monokai .hljs-literal,.hljs-monokai .hljs-doctag,.hljs-monokai .hljs-title,.hljs-monokai .hljs-section,.hljs-monokai .hljs-type,.hljs-monokai .hljs-selector-id{font-weight:bold}.hljs-obsidian .hljs{display:block;overflow-x:auto;padding:.5em;background:#282b2e}.hljs-obsidian .hljs-keyword,.hljs-obsidian .hljs-selector-tag,.hljs-obsidian .hljs-literal,.hljs-obsidian .hljs-selector-id{color:#93c763}.hljs-obsidian .hljs-number{color:#ffcd22}.hljs-obsidian .hljs{color:#e0e2e4}.hljs-obsidian .hljs-attribute{color:#668bb0}.hljs-obsidian .hljs-code,.hljs-obsidian .hljs-class .hljs-title,.hljs-obsidian .hljs-section{color:white}.hljs-obsidian .hljs-regexp,.hljs-obsidian .hljs-link{color:#d39745}.hljs-obsidian .hljs-meta{color:#557182}.hljs-obsidian .hljs-tag,.hljs-obsidian .hljs-name,.hljs-obsidian .hljs-bullet,.hljs-obsidian .hljs-subst,.hljs-obsidian .hljs-emphasis,.hljs-obsidian .hljs-type,.hljs-obsidian .hljs-built_in,.hljs-obsidian .hljs-selector-attr,.hljs-obsidian .hljs-selector-pseudo,.hljs-obsidian .hljs-addition,.hljs-obsidian .hljs-variable,.hljs-obsidian .hljs-template-tag,.hljs-obsidian .hljs-template-variable{color:#8cbbad}.hljs-obsidian .hljs-string,.hljs-obsidian .hljs-symbol{color:#ec7600}.hljs-obsidian .hljs-comment,.hljs-obsidian .hljs-quote,.hljs-obsidian .hljs-deletion{color:#818e96}.hljs-obsidian .hljs-selector-class{color:#A082BD}.hljs-obsidian .hljs-keyword,.hljs-obsidian .hljs-selector-tag,.hljs-obsidian .hljs-literal,.hljs-obsidian .hljs-doctag,.hljs-obsidian .hljs-title,.hljs-obsidian .hljs-section,.hljs-obsidian .hljs-type,.hljs-obsidian .hljs-name,.hljs-obsidian .hljs-strong{font-weight:bold}.hljs-ocean .hljs-comment,.hljs-ocean .hljs-quote{color:#65737e}.hljs-ocean .hljs-variable,.hljs-ocean .hljs-template-variable,.hljs-ocean .hljs-tag,.hljs-ocean .hljs-name,.hljs-ocean .hljs-selector-id,.hljs-ocean .hljs-selector-class,.hljs-ocean .hljs-regexp,.hljs-ocean .hljs-deletion{color:#bf616a}.hljs-ocean .hljs-number,.hljs-ocean .hljs-built_in,.hljs-ocean .hljs-builtin-name,.hljs-ocean .hljs-literal,.hljs-ocean .hljs-type,.hljs-ocean .hljs-params,.hljs-ocean .hljs-meta,.hljs-ocean .hljs-link{color:#d08770}.hljs-ocean .hljs-attribute{color:#ebcb8b}.hljs-ocean .hljs-string,.hljs-ocean .hljs-symbol,.hljs-ocean .hljs-bullet,.hljs-ocean .hljs-addition{color:#a3be8c}.hljs-ocean .hljs-title,.hljs-ocean .hljs-section{color:#8fa1b3}.hljs-ocean .hljs-keyword,.hljs-ocean .hljs-selector-tag{color:#b48ead}.hljs-ocean .hljs{display:block;overflow-x:auto;background:#2b303b;color:#c0c5ce;padding:.5em}.hljs-ocean .hljs-emphasis{font-style:italic}.hljs-ocean .hljs-strong{font-weight:bold}.hljs-paraiso-dark .hljs-comment,.hljs-paraiso-dark .hljs-quote{color:#8d8687}.hljs-paraiso-dark .hljs-variable,.hljs-paraiso-dark .hljs-template-variable,.hljs-paraiso-dark .hljs-tag,.hljs-paraiso-dark .hljs-name,.hljs-paraiso-dark .hljs-selector-id,.hljs-paraiso-dark .hljs-selector-class,.hljs-paraiso-dark .hljs-regexp,.hljs-paraiso-dark .hljs-link,.hljs-paraiso-dark .hljs-meta{color:#ef6155}.hljs-paraiso-dark .hljs-number,.hljs-paraiso-dark .hljs-built_in,.hljs-paraiso-dark .hljs-builtin-name,.hljs-paraiso-dark .hljs-literal,.hljs-paraiso-dark .hljs-type,.hljs-paraiso-dark .hljs-params,.hljs-paraiso-dark .hljs-deletion{color:#f99b15}.hljs-paraiso-dark .hljs-title,.hljs-paraiso-dark .hljs-section,.hljs-paraiso-dark .hljs-attribute{color:#fec418}.hljs-paraiso-dark .hljs-string,.hljs-paraiso-dark .hljs-symbol,.hljs-paraiso-dark .hljs-bullet,.hljs-paraiso-dark .hljs-addition{color:#48b685}.hljs-paraiso-dark .hljs-keyword,.hljs-paraiso-dark .hljs-selector-tag{color:#815ba4}.hljs-paraiso-dark .hljs{display:block;overflow-x:auto;background:#2f1e2e;color:#a39e9b;padding:.5em}.hljs-paraiso-dark .hljs-emphasis{font-style:italic}.hljs-paraiso-dark .hljs-strong{font-weight:bold}.hljs-paraiso-light .hljs-comment,.hljs-paraiso-light .hljs-quote{color:#776e71}.hljs-paraiso-light .hljs-variable,.hljs-paraiso-light .hljs-template-variable,.hljs-paraiso-light .hljs-tag,.hljs-paraiso-light .hljs-name,.hljs-paraiso-light .hljs-selector-id,.hljs-paraiso-light .hljs-selector-class,.hljs-paraiso-light .hljs-regexp,.hljs-paraiso-light .hljs-link,.hljs-paraiso-light .hljs-meta{color:#ef6155}.hljs-paraiso-light .hljs-number,.hljs-paraiso-light .hljs-built_in,.hljs-paraiso-light .hljs-builtin-name,.hljs-paraiso-light .hljs-literal,.hljs-paraiso-light .hljs-type,.hljs-paraiso-light .hljs-params,.hljs-paraiso-light .hljs-deletion{color:#f99b15}.hljs-paraiso-light .hljs-title,.hljs-paraiso-light .hljs-section,.hljs-paraiso-light .hljs-attribute{color:#fec418}.hljs-paraiso-light .hljs-string,.hljs-paraiso-light .hljs-symbol,.hljs-paraiso-light .hljs-bullet,.hljs-paraiso-light .hljs-addition{color:#48b685}.hljs-paraiso-light .hljs-keyword,.hljs-paraiso-light .hljs-selector-tag{color:#815ba4}.hljs-paraiso-light .hljs{display:block;overflow-x:auto;background:#e7e9db;color:#4f424c;padding:.5em}.hljs-paraiso-light .hljs-emphasis{font-style:italic}.hljs-paraiso-light .hljs-strong{font-weight:bold}.hljs-purebasic .hljs{display:block;overflow-x:auto;padding:.5em;background:#FFFFDF}.hljs-purebasic .hljs,.hljs-purebasic .hljs-type,.hljs-purebasic .hljs-function,.hljs-purebasic .hljs-name,.hljs-purebasic .hljs-number,.hljs-purebasic .hljs-attr,.hljs-purebasic .hljs-params,.hljs-purebasic .hljs-subst{color:#000000}.hljs-purebasic .hljs-comment,.hljs-purebasic .hljs-regexp,.hljs-purebasic .hljs-section,.hljs-purebasic .hljs-selector-pseudo,.hljs-purebasic .hljs-addition{color:#00AAAA}.hljs-purebasic .hljs-title,.hljs-purebasic .hljs-tag,.hljs-purebasic .hljs-variable,.hljs-purebasic .hljs-code{color:#006666}.hljs-purebasic .hljs-keyword,.hljs-purebasic .hljs-class,.hljs-purebasic .hljs-meta-keyword,.hljs-purebasic .hljs-selector-class,.hljs-purebasic .hljs-built_in,.hljs-purebasic .hljs-builtin-name{color:#006666;font-weight:bold}.hljs-purebasic .hljs-string,.hljs-purebasic .hljs-selector-attr{color:#0080FF}.hljs-purebasic .hljs-symbol,.hljs-purebasic .hljs-link,.hljs-purebasic .hljs-deletion,.hljs-purebasic .hljs-attribute{color:#924B72}.hljs-purebasic .hljs-meta,.hljs-purebasic .hljs-literal,.hljs-purebasic .hljs-selector-id{color:#924B72;font-weight:bold}.hljs-purebasic .hljs-strong,.hljs-purebasic .hljs-name{font-weight:bold}.hljs-purebasic .hljs-emphasis{font-style:italic}.hljs-qtcreator_dark .hljs{display:block;overflow-x:auto;padding:.5em;background:#000000}.hljs-qtcreator_dark .hljs,.hljs-qtcreator_dark .hljs-subst,.hljs-qtcreator_dark .hljs-tag,.hljs-qtcreator_dark .hljs-title{color:#aaaaaa}.hljs-qtcreator_dark .hljs-strong,.hljs-qtcreator_dark .hljs-emphasis{color:#a8a8a2}.hljs-qtcreator_dark .hljs-bullet,.hljs-qtcreator_dark .hljs-quote,.hljs-qtcreator_dark .hljs-number,.hljs-qtcreator_dark .hljs-regexp,.hljs-qtcreator_dark .hljs-literal{color:#ff55ff}.hljs-qtcreator_dark .hljs-code .hljs-selector-class{color:#aaaaff}.hljs-qtcreator_dark .hljs-emphasis,.hljs-qtcreator_dark .hljs-stronge,.hljs-qtcreator_dark .hljs-type{font-style:italic}.hljs-qtcreator_dark .hljs-keyword,.hljs-qtcreator_dark .hljs-selector-tag,.hljs-qtcreator_dark .hljs-function,.hljs-qtcreator_dark .hljs-section,.hljs-qtcreator_dark .hljs-symbol,.hljs-qtcreator_dark .hljs-name{color:#ffff55}.hljs-qtcreator_dark .hljs-attribute{color:#ff5555}.hljs-qtcreator_dark .hljs-variable,.hljs-qtcreator_dark .hljs-params,.hljs-qtcreator_dark .hljs-class .hljs-title{color:#8888ff}.hljs-qtcreator_dark .hljs-string,.hljs-qtcreator_dark .hljs-selector-id,.hljs-qtcreator_dark .hljs-selector-attr,.hljs-qtcreator_dark .hljs-selector-pseudo,.hljs-qtcreator_dark .hljs-type,.hljs-qtcreator_dark .hljs-built_in,.hljs-qtcreator_dark .hljs-builtin-name,.hljs-qtcreator_dark .hljs-template-tag,.hljs-qtcreator_dark .hljs-template-variable,.hljs-qtcreator_dark .hljs-addition,.hljs-qtcreator_dark .hljs-link{color:#ff55ff}.hljs-qtcreator_dark .hljs-comment,.hljs-qtcreator_dark .hljs-meta,.hljs-qtcreator_dark .hljs-deletion{color:#55ffff}.hljs-qtcreator_light .hljs{display:block;overflow-x:auto;padding:.5em;background:#ffffff}.hljs-qtcreator_light .hljs,.hljs-qtcreator_light .hljs-subst,.hljs-qtcreator_light .hljs-tag,.hljs-qtcreator_light .hljs-title{color:#000000}.hljs-qtcreator_light .hljs-strong,.hljs-qtcreator_light .hljs-emphasis{color:#000000}.hljs-qtcreator_light .hljs-bullet,.hljs-qtcreator_light .hljs-quote,.hljs-qtcreator_light .hljs-number,.hljs-qtcreator_light .hljs-regexp,.hljs-qtcreator_light .hljs-literal{color:#000080}.hljs-qtcreator_light .hljs-code .hljs-selector-class{color:#800080}.hljs-qtcreator_light .hljs-emphasis,.hljs-qtcreator_light .hljs-stronge,.hljs-qtcreator_light .hljs-type{font-style:italic}.hljs-qtcreator_light .hljs-keyword,.hljs-qtcreator_light .hljs-selector-tag,.hljs-qtcreator_light .hljs-function,.hljs-qtcreator_light .hljs-section,.hljs-qtcreator_light .hljs-symbol,.hljs-qtcreator_light .hljs-name{color:#808000}.hljs-qtcreator_light .hljs-attribute{color:#800000}.hljs-qtcreator_light .hljs-variable,.hljs-qtcreator_light .hljs-params,.hljs-qtcreator_light .hljs-class .hljs-title{color:#0055AF}.hljs-qtcreator_light .hljs-string,.hljs-qtcreator_light .hljs-selector-id,.hljs-qtcreator_light .hljs-selector-attr,.hljs-qtcreator_light .hljs-selector-pseudo,.hljs-qtcreator_light .hljs-type,.hljs-qtcreator_light .hljs-built_in,.hljs-qtcreator_light .hljs-builtin-name,.hljs-qtcreator_light .hljs-template-tag,.hljs-qtcreator_light .hljs-template-variable,.hljs-qtcreator_light .hljs-addition,.hljs-qtcreator_light .hljs-link{color:#008000}.hljs-qtcreator_light .hljs-comment,.hljs-qtcreator_light .hljs-meta,.hljs-qtcreator_light .hljs-deletion{color:#008000}.hljs-railscasts .hljs{display:block;overflow-x:auto;padding:.5em;background:#232323;color:#e6e1dc}.hljs-railscasts .hljs-comment,.hljs-railscasts .hljs-quote{color:#bc9458;font-style:italic}.hljs-railscasts .hljs-keyword,.hljs-railscasts .hljs-selector-tag{color:#c26230}.hljs-railscasts .hljs-string,.hljs-railscasts .hljs-number,.hljs-railscasts .hljs-regexp,.hljs-railscasts .hljs-variable,.hljs-railscasts .hljs-template-variable{color:#a5c261}.hljs-railscasts .hljs-subst{color:#519f50}.hljs-railscasts .hljs-tag,.hljs-railscasts .hljs-name{color:#e8bf6a}.hljs-railscasts .hljs-type{color:#da4939}.hljs-railscasts .hljs-symbol,.hljs-railscasts .hljs-bullet,.hljs-railscasts .hljs-built_in,.hljs-railscasts .hljs-builtin-name,.hljs-railscasts .hljs-attr,.hljs-railscasts .hljs-link{color:#6d9cbe}.hljs-railscasts .hljs-params{color:#d0d0ff}.hljs-railscasts .hljs-attribute{color:#cda869}.hljs-railscasts .hljs-meta{color:#9b859d}.hljs-railscasts .hljs-title,.hljs-railscasts .hljs-section{color:#ffc66d}.hljs-railscasts .hljs-addition{background-color:#144212;color:#e6e1dc;display:inline-block;width:100%}.hljs-railscasts .hljs-deletion{background-color:#600;color:#e6e1dc;display:inline-block;width:100%}.hljs-railscasts .hljs-selector-class{color:#9b703f}.hljs-railscasts .hljs-selector-id{color:#8b98ab}.hljs-railscasts .hljs-emphasis{font-style:italic}.hljs-railscasts .hljs-strong{font-weight:bold}.hljs-railscasts .hljs-link{text-decoration:underline}.hljs-rainbow .hljs{display:block;overflow-x:auto;padding:.5em;background:#474949;color:#d1d9e1}.hljs-rainbow .hljs-comment,.hljs-rainbow .hljs-quote{color:#969896;font-style:italic}.hljs-rainbow .hljs-keyword,.hljs-rainbow .hljs-selector-tag,.hljs-rainbow .hljs-literal,.hljs-rainbow .hljs-type,.hljs-rainbow .hljs-addition{color:#cc99cc}.hljs-rainbow .hljs-number,.hljs-rainbow .hljs-selector-attr,.hljs-rainbow .hljs-selector-pseudo{color:#f99157}.hljs-rainbow .hljs-string,.hljs-rainbow .hljs-doctag,.hljs-rainbow .hljs-regexp{color:#8abeb7}.hljs-rainbow .hljs-title,.hljs-rainbow .hljs-name,.hljs-rainbow .hljs-section,.hljs-rainbow .hljs-built_in{color:#b5bd68}.hljs-rainbow .hljs-variable,.hljs-rainbow .hljs-template-variable,.hljs-rainbow .hljs-selector-id,.hljs-rainbow .hljs-class .hljs-title{color:#ffcc66}.hljs-rainbow .hljs-section,.hljs-rainbow .hljs-name,.hljs-rainbow .hljs-strong{font-weight:bold}.hljs-rainbow .hljs-symbol,.hljs-rainbow .hljs-bullet,.hljs-rainbow .hljs-subst,.hljs-rainbow .hljs-meta,.hljs-rainbow .hljs-link{color:#f99157}.hljs-rainbow .hljs-deletion{color:#dc322f}.hljs-rainbow .hljs-formula{background:#eee8d5}.hljs-rainbow .hljs-attr,.hljs-rainbow .hljs-attribute{color:#81a2be}.hljs-rainbow .hljs-emphasis{font-style:italic}.hljs-school-book .hljs{display:block;overflow-x:auto;padding:15px .5em .5em 30px;font-size:11px;line-height:16px}.hljs-school-book pre{background:#f6f6ae url(school-book.png);border-top:solid 2px #d2e8b9;border-bottom:solid 1px #d2e8b9}.hljs-school-book .hljs-keyword,.hljs-school-book .hljs-selector-tag,.hljs-school-book .hljs-literal{color:#005599;font-weight:bold}.hljs-school-book .hljs,.hljs-school-book .hljs-subst{color:#3e5915}.hljs-school-book .hljs-string,.hljs-school-book .hljs-title,.hljs-school-book .hljs-section,.hljs-school-book .hljs-type,.hljs-school-book .hljs-symbol,.hljs-school-book .hljs-bullet,.hljs-school-book .hljs-attribute,.hljs-school-book .hljs-built_in,.hljs-school-book .hljs-builtin-name,.hljs-school-book .hljs-addition,.hljs-school-book .hljs-variable,.hljs-school-book .hljs-template-tag,.hljs-school-book .hljs-template-variable,.hljs-school-book .hljs-link{color:#2c009f}.hljs-school-book .hljs-comment,.hljs-school-book .hljs-quote,.hljs-school-book .hljs-deletion,.hljs-school-book .hljs-meta{color:#e60415}.hljs-school-book .hljs-keyword,.hljs-school-book .hljs-selector-tag,.hljs-school-book .hljs-literal,.hljs-school-book .hljs-doctag,.hljs-school-book .hljs-title,.hljs-school-book .hljs-section,.hljs-school-book .hljs-type,.hljs-school-book .hljs-name,.hljs-school-book .hljs-selector-id,.hljs-school-book .hljs-strong{font-weight:bold}.hljs-school-book .hljs-emphasis{font-style:italic}.hljs-solarized-dark .hljs{display:block;overflow-x:auto;padding:.5em;background:#002b36;color:#839496}.hljs-solarized-dark .hljs-comment,.hljs-solarized-dark .hljs-quote{color:#586e75}.hljs-solarized-dark .hljs-keyword,.hljs-solarized-dark .hljs-selector-tag,.hljs-solarized-dark .hljs-addition{color:#859900}.hljs-solarized-dark .hljs-number,.hljs-solarized-dark .hljs-string,.hljs-solarized-dark .hljs-meta .hljs-meta-string,.hljs-solarized-dark .hljs-literal,.hljs-solarized-dark .hljs-doctag,.hljs-solarized-dark .hljs-regexp{color:#2aa198}.hljs-solarized-dark .hljs-title,.hljs-solarized-dark .hljs-section,.hljs-solarized-dark .hljs-name,.hljs-solarized-dark .hljs-selector-id,.hljs-solarized-dark .hljs-selector-class{color:#268bd2}.hljs-solarized-dark .hljs-attribute,.hljs-solarized-dark .hljs-attr,.hljs-solarized-dark .hljs-variable,.hljs-solarized-dark .hljs-template-variable,.hljs-solarized-dark .hljs-class .hljs-title,.hljs-solarized-dark .hljs-type{color:#b58900}.hljs-solarized-dark .hljs-symbol,.hljs-solarized-dark .hljs-bullet,.hljs-solarized-dark .hljs-subst,.hljs-solarized-dark .hljs-meta,.hljs-solarized-dark .hljs-meta .hljs-keyword,.hljs-solarized-dark .hljs-selector-attr,.hljs-solarized-dark .hljs-selector-pseudo,.hljs-solarized-dark .hljs-link{color:#cb4b16}.hljs-solarized-dark .hljs-built_in,.hljs-solarized-dark .hljs-deletion{color:#dc322f}.hljs-solarized-dark .hljs-formula{background:#073642}.hljs-solarized-dark .hljs-emphasis{font-style:italic}.hljs-solarized-dark .hljs-strong{font-weight:bold}.hljs-solarized-light .hljs{display:block;overflow-x:auto;padding:.5em;background:#fdf6e3;color:#657b83}.hljs-solarized-light .hljs-comment,.hljs-solarized-light .hljs-quote{color:#93a1a1}.hljs-solarized-light .hljs-keyword,.hljs-solarized-light .hljs-selector-tag,.hljs-solarized-light .hljs-addition{color:#859900}.hljs-solarized-light .hljs-number,.hljs-solarized-light .hljs-string,.hljs-solarized-light .hljs-meta .hljs-meta-string,.hljs-solarized-light .hljs-literal,.hljs-solarized-light .hljs-doctag,.hljs-solarized-light .hljs-regexp{color:#2aa198}.hljs-solarized-light .hljs-title,.hljs-solarized-light .hljs-section,.hljs-solarized-light .hljs-name,.hljs-solarized-light .hljs-selector-id,.hljs-solarized-light .hljs-selector-class{color:#268bd2}.hljs-solarized-light .hljs-attribute,.hljs-solarized-light .hljs-attr,.hljs-solarized-light .hljs-variable,.hljs-solarized-light .hljs-template-variable,.hljs-solarized-light .hljs-class .hljs-title,.hljs-solarized-light .hljs-type{color:#b58900}.hljs-solarized-light .hljs-symbol,.hljs-solarized-light .hljs-bullet,.hljs-solarized-light .hljs-subst,.hljs-solarized-light .hljs-meta,.hljs-solarized-light .hljs-meta .hljs-keyword,.hljs-solarized-light .hljs-selector-attr,.hljs-solarized-light .hljs-selector-pseudo,.hljs-solarized-light .hljs-link{color:#cb4b16}.hljs-solarized-light .hljs-built_in,.hljs-solarized-light .hljs-deletion{color:#dc322f}.hljs-solarized-light .hljs-formula{background:#eee8d5}.hljs-solarized-light .hljs-emphasis{font-style:italic}.hljs-solarized-light .hljs-strong{font-weight:bold}.hljs-sunburst .hljs{display:block;overflow-x:auto;padding:.5em;background:#000;color:#f8f8f8}.hljs-sunburst .hljs-comment,.hljs-sunburst .hljs-quote{color:#aeaeae;font-style:italic}.hljs-sunburst .hljs-keyword,.hljs-sunburst .hljs-selector-tag,.hljs-sunburst .hljs-type{color:#e28964}.hljs-sunburst .hljs-string{color:#65b042}.hljs-sunburst .hljs-subst{color:#daefa3}.hljs-sunburst .hljs-regexp,.hljs-sunburst .hljs-link{color:#e9c062}.hljs-sunburst .hljs-title,.hljs-sunburst .hljs-section,.hljs-sunburst .hljs-tag,.hljs-sunburst .hljs-name{color:#89bdff}.hljs-sunburst .hljs-class .hljs-title,.hljs-sunburst .hljs-doctag{text-decoration:underline}.hljs-sunburst .hljs-symbol,.hljs-sunburst .hljs-bullet,.hljs-sunburst .hljs-number{color:#3387cc}.hljs-sunburst .hljs-params,.hljs-sunburst .hljs-variable,.hljs-sunburst .hljs-template-variable{color:#3e87e3}.hljs-sunburst .hljs-attribute{color:#cda869}.hljs-sunburst .hljs-meta{color:#8996a8}.hljs-sunburst .hljs-formula{background-color:#0e2231;color:#f8f8f8;font-style:italic}.hljs-sunburst .hljs-addition{background-color:#253b22;color:#f8f8f8}.hljs-sunburst .hljs-deletion{background-color:#420e09;color:#f8f8f8}.hljs-sunburst .hljs-selector-class{color:#9b703f}.hljs-sunburst .hljs-selector-id{color:#8b98ab}.hljs-sunburst .hljs-emphasis{font-style:italic}.hljs-sunburst .hljs-strong{font-weight:bold}.hljs-tomorrow-night-blue .hljs-comment,.hljs-tomorrow-night-blue .hljs-quote{color:#7285b7}.hljs-tomorrow-night-blue .hljs-variable,.hljs-tomorrow-night-blue .hljs-template-variable,.hljs-tomorrow-night-blue .hljs-tag,.hljs-tomorrow-night-blue .hljs-name,.hljs-tomorrow-night-blue .hljs-selector-id,.hljs-tomorrow-night-blue .hljs-selector-class,.hljs-tomorrow-night-blue .hljs-regexp,.hljs-tomorrow-night-blue .hljs-deletion{color:#ff9da4}.hljs-tomorrow-night-blue .hljs-number,.hljs-tomorrow-night-blue .hljs-built_in,.hljs-tomorrow-night-blue .hljs-builtin-name,.hljs-tomorrow-night-blue .hljs-literal,.hljs-tomorrow-night-blue .hljs-type,.hljs-tomorrow-night-blue .hljs-params,.hljs-tomorrow-night-blue .hljs-meta,.hljs-tomorrow-night-blue .hljs-link{color:#ffc58f}.hljs-tomorrow-night-blue .hljs-attribute{color:#ffeead}.hljs-tomorrow-night-blue .hljs-string,.hljs-tomorrow-night-blue .hljs-symbol,.hljs-tomorrow-night-blue .hljs-bullet,.hljs-tomorrow-night-blue .hljs-addition{color:#d1f1a9}.hljs-tomorrow-night-blue .hljs-title,.hljs-tomorrow-night-blue .hljs-section{color:#bbdaff}.hljs-tomorrow-night-blue .hljs-keyword,.hljs-tomorrow-night-blue .hljs-selector-tag{color:#ebbbff}.hljs-tomorrow-night-blue .hljs{display:block;overflow-x:auto;background:#002451;color:white;padding:.5em}.hljs-tomorrow-night-blue .hljs-emphasis{font-style:italic}.hljs-tomorrow-night-blue .hljs-strong{font-weight:bold}.hljs-tomorrow-night-bright .hljs-comment,.hljs-tomorrow-night-bright .hljs-quote{color:#969896}.hljs-tomorrow-night-bright .hljs-variable,.hljs-tomorrow-night-bright .hljs-template-variable,.hljs-tomorrow-night-bright .hljs-tag,.hljs-tomorrow-night-bright .hljs-name,.hljs-tomorrow-night-bright .hljs-selector-id,.hljs-tomorrow-night-bright .hljs-selector-class,.hljs-tomorrow-night-bright .hljs-regexp,.hljs-tomorrow-night-bright .hljs-deletion{color:#d54e53}.hljs-tomorrow-night-bright .hljs-number,.hljs-tomorrow-night-bright .hljs-built_in,.hljs-tomorrow-night-bright .hljs-builtin-name,.hljs-tomorrow-night-bright .hljs-literal,.hljs-tomorrow-night-bright .hljs-type,.hljs-tomorrow-night-bright .hljs-params,.hljs-tomorrow-night-bright .hljs-meta,.hljs-tomorrow-night-bright .hljs-link{color:#e78c45}.hljs-tomorrow-night-bright .hljs-attribute{color:#e7c547}.hljs-tomorrow-night-bright .hljs-string,.hljs-tomorrow-night-bright .hljs-symbol,.hljs-tomorrow-night-bright .hljs-bullet,.hljs-tomorrow-night-bright .hljs-addition{color:#b9ca4a}.hljs-tomorrow-night-bright .hljs-title,.hljs-tomorrow-night-bright .hljs-section{color:#7aa6da}.hljs-tomorrow-night-bright .hljs-keyword,.hljs-tomorrow-night-bright .hljs-selector-tag{color:#c397d8}.hljs-tomorrow-night-bright .hljs{display:block;overflow-x:auto;background:black;color:#eaeaea;padding:.5em}.hljs-tomorrow-night-bright .hljs-emphasis{font-style:italic}.hljs-tomorrow-night-bright .hljs-strong{font-weight:bold}.hljs-tomorrow-night-eighties .hljs-comment,.hljs-tomorrow-night-eighties .hljs-quote{color:#999999}.hljs-tomorrow-night-eighties .hljs-variable,.hljs-tomorrow-night-eighties .hljs-template-variable,.hljs-tomorrow-night-eighties .hljs-tag,.hljs-tomorrow-night-eighties .hljs-name,.hljs-tomorrow-night-eighties .hljs-selector-id,.hljs-tomorrow-night-eighties .hljs-selector-class,.hljs-tomorrow-night-eighties .hljs-regexp,.hljs-tomorrow-night-eighties .hljs-deletion{color:#f2777a}.hljs-tomorrow-night-eighties .hljs-number,.hljs-tomorrow-night-eighties .hljs-built_in,.hljs-tomorrow-night-eighties .hljs-builtin-name,.hljs-tomorrow-night-eighties .hljs-literal,.hljs-tomorrow-night-eighties .hljs-type,.hljs-tomorrow-night-eighties .hljs-params,.hljs-tomorrow-night-eighties .hljs-meta,.hljs-tomorrow-night-eighties .hljs-link{color:#f99157}.hljs-tomorrow-night-eighties .hljs-attribute{color:#ffcc66}.hljs-tomorrow-night-eighties .hljs-string,.hljs-tomorrow-night-eighties .hljs-symbol,.hljs-tomorrow-night-eighties .hljs-bullet,.hljs-tomorrow-night-eighties .hljs-addition{color:#99cc99}.hljs-tomorrow-night-eighties .hljs-title,.hljs-tomorrow-night-eighties .hljs-section{color:#6699cc}.hljs-tomorrow-night-eighties .hljs-keyword,.hljs-tomorrow-night-eighties .hljs-selector-tag{color:#cc99cc}.hljs-tomorrow-night-eighties .hljs{display:block;overflow-x:auto;background:#2d2d2d;color:#cccccc;padding:.5em}.hljs-tomorrow-night-eighties .hljs-emphasis{font-style:italic}.hljs-tomorrow-night-eighties .hljs-strong{font-weight:bold}.hljs-tomorrow-night .hljs-comment,.hljs-tomorrow-night .hljs-quote{color:#969896}.hljs-tomorrow-night .hljs-variable,.hljs-tomorrow-night .hljs-template-variable,.hljs-tomorrow-night .hljs-tag,.hljs-tomorrow-night .hljs-name,.hljs-tomorrow-night .hljs-selector-id,.hljs-tomorrow-night .hljs-selector-class,.hljs-tomorrow-night .hljs-regexp,.hljs-tomorrow-night .hljs-deletion{color:#cc6666}.hljs-tomorrow-night .hljs-number,.hljs-tomorrow-night .hljs-built_in,.hljs-tomorrow-night .hljs-builtin-name,.hljs-tomorrow-night .hljs-literal,.hljs-tomorrow-night .hljs-type,.hljs-tomorrow-night .hljs-params,.hljs-tomorrow-night .hljs-meta,.hljs-tomorrow-night .hljs-link{color:#de935f}.hljs-tomorrow-night .hljs-attribute{color:#f0c674}.hljs-tomorrow-night .hljs-string,.hljs-tomorrow-night .hljs-symbol,.hljs-tomorrow-night .hljs-bullet,.hljs-tomorrow-night .hljs-addition{color:#b5bd68}.hljs-tomorrow-night .hljs-title,.hljs-tomorrow-night .hljs-section{color:#81a2be}.hljs-tomorrow-night .hljs-keyword,.hljs-tomorrow-night .hljs-selector-tag{color:#b294bb}.hljs-tomorrow-night .hljs{display:block;overflow-x:auto;background:#1d1f21;color:#c5c8c6;padding:.5em}.hljs-tomorrow-night .hljs-emphasis{font-style:italic}.hljs-tomorrow-night .hljs-strong{font-weight:bold}.hljs-tomorrow .hljs-comment,.hljs-tomorrow .hljs-quote{color:#8e908c}.hljs-tomorrow .hljs-variable,.hljs-tomorrow .hljs-template-variable,.hljs-tomorrow .hljs-tag,.hljs-tomorrow .hljs-name,.hljs-tomorrow .hljs-selector-id,.hljs-tomorrow .hljs-selector-class,.hljs-tomorrow .hljs-regexp,.hljs-tomorrow .hljs-deletion{color:#c82829}.hljs-tomorrow .hljs-number,.hljs-tomorrow .hljs-built_in,.hljs-tomorrow .hljs-builtin-name,.hljs-tomorrow .hljs-literal,.hljs-tomorrow .hljs-type,.hljs-tomorrow .hljs-params,.hljs-tomorrow .hljs-meta,.hljs-tomorrow .hljs-link{color:#f5871f}.hljs-tomorrow .hljs-attribute{color:#eab700}.hljs-tomorrow .hljs-string,.hljs-tomorrow .hljs-symbol,.hljs-tomorrow .hljs-bullet,.hljs-tomorrow .hljs-addition{color:#718c00}.hljs-tomorrow .hljs-title,.hljs-tomorrow .hljs-section{color:#4271ae}.hljs-tomorrow .hljs-keyword,.hljs-tomorrow .hljs-selector-tag{color:#8959a8}.hljs-tomorrow .hljs{display:block;overflow-x:auto;background:white;color:#4d4d4c;padding:.5em}.hljs-tomorrow .hljs-emphasis{font-style:italic}.hljs-tomorrow .hljs-strong{font-weight:bold}.hljs-vs .hljs{display:block;overflow-x:auto;padding:.5em;background:white;color:black}.hljs-vs .hljs-comment,.hljs-vs .hljs-quote,.hljs-vs .hljs-variable{color:#008000}.hljs-vs .hljs-keyword,.hljs-vs .hljs-selector-tag,.hljs-vs .hljs-built_in,.hljs-vs .hljs-name,.hljs-vs .hljs-tag{color:#00f}.hljs-vs .hljs-string,.hljs-vs .hljs-title,.hljs-vs .hljs-section,.hljs-vs .hljs-attribute,.hljs-vs .hljs-literal,.hljs-vs .hljs-template-tag,.hljs-vs .hljs-template-variable,.hljs-vs .hljs-type,.hljs-vs .hljs-addition{color:#a31515}.hljs-vs .hljs-deletion,.hljs-vs .hljs-selector-attr,.hljs-vs .hljs-selector-pseudo,.hljs-vs .hljs-meta{color:#2b91af}.hljs-vs .hljs-doctag{color:#808080}.hljs-vs .hljs-attr{color:#f00}.hljs-vs .hljs-symbol,.hljs-vs .hljs-bullet,.hljs-vs .hljs-link{color:#00b0e8}.hljs-vs .hljs-emphasis{font-style:italic}.hljs-vs .hljs-strong{font-weight:bold}.hljs-xcode .hljs{display:block;overflow-x:auto;padding:.5em;background:#fff;color:black}.hljs-xcode .hljs-comment,.hljs-xcode .hljs-quote{color:#006a00}.hljs-xcode .hljs-keyword,.hljs-xcode .hljs-selector-tag,.hljs-xcode .hljs-literal{color:#aa0d91}.hljs-xcode .hljs-name{color:#008}.hljs-xcode .hljs-variable,.hljs-xcode .hljs-template-variable{color:#660}.hljs-xcode .hljs-string{color:#c41a16}.hljs-xcode .hljs-regexp,.hljs-xcode .hljs-link{color:#080}.hljs-xcode .hljs-title,.hljs-xcode .hljs-tag,.hljs-xcode .hljs-symbol,.hljs-xcode .hljs-bullet,.hljs-xcode .hljs-number,.hljs-xcode .hljs-meta{color:#1c00cf}.hljs-xcode .hljs-section,.hljs-xcode .hljs-class .hljs-title,.hljs-xcode .hljs-type,.hljs-xcode .hljs-attr,.hljs-xcode .hljs-built_in,.hljs-xcode .hljs-builtin-name,.hljs-xcode .hljs-params{color:#5c2699}.hljs-xcode .hljs-attribute,.hljs-xcode .hljs-subst{color:#000}.hljs-xcode .hljs-formula{background-color:#eee;font-style:italic}.hljs-xcode .hljs-addition{background-color:#baeeba}.hljs-xcode .hljs-deletion{background-color:#ffc8bd}.hljs-xcode .hljs-selector-id,.hljs-xcode .hljs-selector-class{color:#9b703f}.hljs-xcode .hljs-doctag,.hljs-xcode .hljs-strong{font-weight:bold}.hljs-xcode .hljs-emphasis{font-style:italic}.hljs-xt256 .hljs{display:block;overflow-x:auto;color:#eaeaea;background:#000;padding:.5}.hljs-xt256 .hljs-subst{color:#eaeaea}.hljs-xt256 .hljs-emphasis{font-style:italic}.hljs-xt256 .hljs-strong{font-weight:bold}.hljs-xt256 .hljs-builtin-name,.hljs-xt256 .hljs-type{color:#eaeaea}.hljs-xt256 .hljs-params{color:#da0000}.hljs-xt256 .hljs-literal,.hljs-xt256 .hljs-number,.hljs-xt256 .hljs-name{color:#ff0000;font-weight:bolder}.hljs-xt256 .hljs-comment{color:#969896}.hljs-xt256 .hljs-selector-id,.hljs-xt256 .hljs-quote{color:#00ffff}.hljs-xt256 .hljs-template-variable,.hljs-xt256 .hljs-variable,.hljs-xt256 .hljs-title{color:#00ffff;font-weight:bold}.hljs-xt256 .hljs-selector-class,.hljs-xt256 .hljs-keyword,.hljs-xt256 .hljs-symbol{color:#fff000}.hljs-xt256 .hljs-string,.hljs-xt256 .hljs-bullet{color:#00ff00}.hljs-xt256 .hljs-tag,.hljs-xt256 .hljs-section{color:#000fff}.hljs-xt256 .hljs-selector-tag{color:#000fff;font-weight:bold}.hljs-xt256 .hljs-attribute,.hljs-xt256 .hljs-built_in,.hljs-xt256 .hljs-regexp,.hljs-xt256 .hljs-link{color:#ff00ff}.hljs-xt256 .hljs-meta{color:#fff;font-weight:bolder}.hljs-zenburn .hljs{display:block;overflow-x:auto;padding:.5em;background:#3f3f3f;color:#dcdcdc}.hljs-zenburn .hljs-keyword,.hljs-zenburn .hljs-selector-tag,.hljs-zenburn .hljs-tag{color:#e3ceab}.hljs-zenburn .hljs-template-tag{color:#dcdcdc}.hljs-zenburn .hljs-number{color:#8cd0d3}.hljs-zenburn .hljs-variable,.hljs-zenburn .hljs-template-variable,.hljs-zenburn .hljs-attribute{color:#efdcbc}.hljs-zenburn .hljs-literal{color:#efefaf}.hljs-zenburn .hljs-subst{color:#8f8f8f}.hljs-zenburn .hljs-title,.hljs-zenburn .hljs-name,.hljs-zenburn .hljs-selector-id,.hljs-zenburn .hljs-selector-class,.hljs-zenburn .hljs-section,.hljs-zenburn .hljs-type{color:#efef8f}.hljs-zenburn .hljs-symbol,.hljs-zenburn .hljs-bullet,.hljs-zenburn .hljs-link{color:#dca3a3}.hljs-zenburn .hljs-deletion,.hljs-zenburn .hljs-string,.hljs-zenburn .hljs-built_in,.hljs-zenburn .hljs-builtin-name{color:#cc9393}.hljs-zenburn .hljs-addition,.hljs-zenburn .hljs-comment,.hljs-zenburn .hljs-quote,.hljs-zenburn .hljs-meta{color:#7f9f7f}.hljs-zenburn .hljs-emphasis{font-style:italic}.hljs-zenburn .hljs-strong{font-weight:bold}</style>
    
    <meta name="keywords" content="remark,remarkjs,markdown,slideshow,presentation">
    <meta name="description" content="A simple, in-browser, markdown-driven slideshow tool.">
    <title>Remark</title>
    <style>
      /* modified to point to our local separate files */
      @import url("common/fonts.css");
      @import url("common/style.css"); 
    </style>
  <style class="blockbyte-bs-style" data-name="content">body>div#blockbyte-bs-indicator>div{opacity:0;pointer-events:none}body>iframe#blockbyte-bs-sidebar.blockbyte-bs-visible,body>iframe#blockbyte-bs-overlay.blockbyte-bs-visible{opacity:1;pointer-events:auto}body.blockbyte-bs-noscroll{overflow:hidden !important}body>div#blockbyte-bs-indicator>div{position:absolute;transform:translate3d(-40px, 0, 0);top:0;left:0;width:40px !important;height:100%;background:rgba(0,0,0,0.5);border-radius:0 10px 10px 0;transition:opacity 0.3s, transform 0.3s;z-index:2}body>div#blockbyte-bs-indicator>div>span{-webkit-mask:no-repeat center/32px;-webkit-mask-image:url(chrome-extension://jdbnofccmhefkmjbkkdkfiicjkgofkdh/img/icon-bookmark.svg);background-color:#ffffff;position:absolute;display:block;top:0;left:0;width:100%;height:100%}body>div#blockbyte-bs-indicator[data-pos='right']{left:auto;right:0}body>div#blockbyte-bs-indicator[data-pos='right']>div{transform:translate3d(40px, 0, 0);left:auto;right:0;border-radius:10px 0 0 10px}body>div#blockbyte-bs-indicator.blockbyte-bs-fullHeight>div{border-radius:0}body>div#blockbyte-bs-indicator.blockbyte-bs-hover>div{transform:translate3d(0, 0, 0);opacity:1}body>div#blockbyte-bs-indicator[data-pos='left'].blockbyte-bs-has-lsb{height:100% !important;top:0 !important}body>div#blockbyte-bs-indicator[data-pos='left'].blockbyte-bs-has-lsb>div{background:transparent}body>div#blockbyte-bs-indicator[data-pos='left'].blockbyte-bs-has-lsb>div>span{-webkit-mask-position-y:20px}body>iframe#blockbyte-bs-sidebar{width:350px;max-width:none;height:0;z-index:2147483646;background-color:rgba(255,255,255,0.8) !important;border:none;display:block !important;transform:translate3d(-350px, 0, 0);will-change:width, height, opacity, transform;transition:width 0s 0.3s, height 0s 0.3s, opacity 0.3s, transform 0.3s}body>iframe#blockbyte-bs-sidebar[data-pos='right']{left:auto;right:0;transform:translate3d(350px, 0, 0)}body>iframe#blockbyte-bs-sidebar.blockbyte-bs-visible{width:calc(100% + 350px);height:100%;transform:translate3d(0, 0, 0);transition:opacity 0.3s, transform 0.3s}body>iframe#blockbyte-bs-sidebar.blockbyte-bs-hideMask{background:none !important}body>iframe#blockbyte-bs-sidebar.blockbyte-bs-hideMask:not(.blockbyte-bs-hover){width:calc(350px + 50px)}body>iframe#blockbyte-bs-overlay{width:100%;max-width:none;height:100%;z-index:2147483647;border:none;background:rgba(0,0,0,0.5) !important;transition:opacity 0.3s}
</style></head>

  <body class="remark-container">

<textarea id="source" style="display: none;">class: center, middle

# Big Data Technologies

## Master Mathematics and Informatics

.medium[Stphane Gaffas - Stphane Boucheron]

.center[
    &lt;img src="figs/lpsm.png" style="height: 160px;" /&gt;
    &lt;img src="" style="width: 30px;" /&gt;
    &lt;img src="figs/paris-diderot.png" style="height: 90px;" /&gt;
    &lt;img src="" style="width: 30px;" /&gt;
    &lt;img src="figs/uparis.png" style="height: 120px;" /&gt;
]

---

layout: true
class: top

---

class: center, middle, inverse

# 2. Apache Spark and RDDs

---

class: center, middle, inverse

# 2.1 Introduction

---

# Philosophy

`Spark` computing framework deals with many complex issues: fault tolerance, slow machines, big datasets, etc.

.stress["Here's an operation, run it on all the data."]

- I do not care where it runs
- Feel free to run it twice on different nodes

Jobs are divided in subtasks, that are executed by the workers

- How do we deal with **failure**? Launch .stress[another task]!
- How do we deal with **stragglers**? Launch .stress[another task]! &lt;br&gt; (and kill original task)

---

# API

An .stres[API] allows a user to interact with the software

`Spark` is implemented in **Scala**, runs on the **JVM** (Java Virtual Machine)

**Multiple** Application Programming Interfaces (APIs):

- `Scala` (JVM)
- `Java` (JVM)
- `Python`
- `R`

.stress[This course uses the Python API]. Easier to learn than `Scala` and `Java`

- About the `R` API: **still young** and outlying because of `R` syntax.

---

# Architecture

When you interact with `Spark` through its API, you **send instructions to the .stress[Driver]**


- The .stress[Driver] is the **central coordinator**
- It **communicates with distributed workers** called .stress[executors]
- Creates a **logical directed acyclic graph** (DAG) of operations
- **Merges operations** that can be merged
- **Splits** the operations in .stress[tasks] (smallest unit of work in Spark)
- **Schedules** the tasks and **send them to the executors**
- **Tracks** data and tasks

**Example**

- Example of DAG: `map(f) - map(g) - filter(h) - reduce(l)`
- `map(f o g)`

---

# SparkContext object

You interact with the **driver** through the `SparkContext` object. 



- **In the .stress[`Spark` interactive shell]** &lt;br&gt; `SparkContext` is automatically created in the and named `sc`

- **In a .stress[`jupyter notebook`]** &lt;br&gt; Create a `SparkContext` object using:

```python
from pyspark import SparkConf, SparkContext

conf = SparkConf().setAppName(appName).setMaster(master)
sc = SparkContext(conf=conf)
```

---

# RDDs and running model

Spark programs are written in terms of operations on **RDDs**

- .stress[RDD] = **Resilient Distributed Dataset** &lt;br&gt;

-  An **immutable distributed collection** of objects spread across the cluster disks or memory

- RDDs can contain any type of Python, Java, or Scala objects, including user-defined classes

- Parallel **transformations** and **actions** can be applied to RDDs

- RDDs are automatically rebuilt on machine failure

---

# Creating a RDD

From an iterable object `iterator` (e.g. a `Python` `list`, etc.):

```python
lines = sc.parallelize(iterator)
```

From a text file:

```python
lines = sc.textFile("/path/to/file.txt")
```

where `lines` is the resulting RDD, and `sc` the spark context

**Remarks**

- `parallelize` not really used in practice
- In real life: **load data from external storage**
- External storage is often **HDFS** (Hadoop Distributed File System)
- Can read most formats (`json`, `csv`, `xml`, `parquet`, `orc`, etc.)

---

# Operations on RDD

**Two families of operations** can be performed on RDDs

- .stress[Transformations] &lt;br&gt; Operations on RDDs which return a new RDD &lt;br&gt; **Lazy evaluation**

- .stress[Actions] &lt;br&gt; Operations on RDDs that return some other data type &lt;br&gt; **Triggers computations**

**What is lazy evaluation ?** When a transformation is called on an RDD:
- The operation is .stress[not immediately performed]
- Spark internally **records that this operation has been requested**
- Computations are triggered only **if an action requires the result of this transformation** at some point


---

class: center, middle, inverse

# 2.2 Transformations

---

# Transformations

The most important transformation is `map`

.pure-table.pure-table-striped[
| transformation | description                                     |
| -------------: | -----------------------------------------------:|
| `map(f)`       | apply a function `f` to each element of the RDD |
]

Here is an example:

```python
&gt;&gt;&gt; rdd = sc.parallelize([2, 3, 4])
&gt;&gt;&gt; rdd.map(lambda x: list(range(1, x))).collect()
[[1], [1, 2], [1, 2, 3]]
```

- We need to call `collect` (an **action**) otherwise .stress[nothing happens]
- Once again, `map` is lazy-evaluated
- In `Python`, **three options for passing functions** into Spark
- For short functions: `lambda` expressions (anonymous functions)
- Otherwise: top-level functions or **locally defined functions** with `def`

---

# Transformations

About passing functions to `map`:

- Involves serialization with `pickle`
- `Spark` sends the **entire pickled function** to worker nodes

**Warning.** If the function is an **object method**:

- The **whole object is pickled** since the method contains references to the object (`self`) and references to attributes of the object
- The whole object can be **large** 
- The whole object **may not be serializable with `pickle`**

.footnote[[[Let's go to notebook05_sparkrdd.ipynb]](http://localhost:8888/notebooks/notebooks/notebook05_sparkrdd.ipynb)]

---

# Transformations

Then we have `flatMap`

.pure-table.pure-table-striped[
| transformation | description                      |
| -------------: | -------------------------------: |
| `flatMap(f)`   | apply `f` to each element of the RDD, then flattens the results |
]

Example

```python
&gt;&gt;&gt; rdd = sc.parallelize([2, 3, 4, 5])
&gt;&gt;&gt; rdd.flatMap(lambda x: range(1, x)).collect()
[1, 1, 2, 1, 2, 3, 1, 2, 3, 4]
```

---

# Transformations

`filter` allows to filter an RDD

.pure-table.pure-table-striped[
| transformation | description                      |
| -------------: | -------------------------------: |
| `filter(f)`    | Return an RDD consisting of only elements that pass the condition `f` passed to `filter()` |
]

Example

```python
&gt;&gt;&gt; rdd = sc.parallelize(range(10))
&gt;&gt;&gt; rdd.filter(lambda x: x % 2 == 0).collect()
[0, 2, 4, 6, 8]
```

---

# Transformations

About `distinct` and `sample`

.pure-table.pure-table-striped[
| transformation | description                      |
| -------------: | -------------------------------: |
| `distinct()`  | Removes duplicates |
| `sample(withReplacement, fraction, [seed])`  | Sample an RDD, with or without replacement |
]

Example

```python
&gt;&gt;&gt; rdd = sc.parallelize([1, 1, 4, 2, 1, 3, 3])
&gt;&gt;&gt; rdd.distinct().collect()
[1, 2, 3, 4]
```

---

# Transformations

We have also "pseudo set" operations

.pure-table.pure-table-striped[
| transformation | description                      |
| -------------: | -------------------------------: |
| `union(otherRdd)`  | Returns union with `otherRdd` |
| `instersection(otherRdd)`  | Returns intersection with `otherRdd` |
| `subtract(otherRdd)`  | Return each value in `self` that is not contained in `otherRdd`. |
]

- If if there are duplicates in the input RDD, the result of `union()` **will contain duplicates** (fixed with `distinct()`)
- `intersection()` removes all duplicates (including duplicates from a single RDD)
- Performance of `intersection()` is much worse than `union()` since it requires a **shuffle** to identify common elements
- `subtract` also requires a shuffle

---

# Transformations

We have also "pseudo set" operations

.pure-table.pure-table-striped[
| transformation | description                      |
| -------------: | -------------------------------: |
| `union(otherRdd)`  | Returns union with `otherRdd` |
| `instersection(otherRdd)`  | Returns intersection with `otherRdd` |
| `subtract(otherRdd)`  | Return each value in `self` that is not contained in `otherRdd`. |
]

Example with `union` and `distinct`

```python
&gt;&gt;&gt; rdd1 = sc.parallelize(range(5))
&gt;&gt;&gt; rdd2 = sc.parallelize(range(3, 9))
&gt;&gt;&gt; rdd3 = rdd1.union(rdd2)
&gt;&gt;&gt; rdd3.collect()
[0, 1, 2, 3, 4, 3, 4, 5, 6, 7, 8]
```

```python
&gt;&gt;&gt; rdd3.distinct().collect()
[0, 1, 2, 3, 4, 5, 6, 7, 8]
```

---

# About shuffles

- Certain operations trigger a .stress[shuffle]
- It is Sparks mechanism for .stress[re-distributing data] so that its grouped differently across partitions
- It involves **copying data across executors and machines**, making the shuffle a complex and costly operation
- We will discuss shuffles in detail later in the course

## Performance Impact

- A shuffle involves disk I/O, data serialization and network I/O. 
- To organize data for the shuffle, Spark generates sets of **tasks**
  - **map tasks** to organize the data
  - and a set of **reduce tasks** to aggregate it. This nomenclature comes from MapReduce and does not directly relate to Sparks map and reduce operations.

---

# Transformations

Another "pseudo set" operation

.pure-table.pure-table-striped[
| transformation | description                      |
| -------------: | -------------------------------: |
| `cartesian(otherRdd)`  | Return the Cartesian product of this RDD and another one |
]

Example

```python
&gt;&gt;&gt; rdd1 = sc.parallelize([1, 2])
&gt;&gt;&gt; rdd2 = sc.parallelize(["a", "b"])
&gt;&gt;&gt; rdd1.cartesian(rdd2).collect()
[(1, 'a'), (1, 'b'), (2, 'a'), (2, 'b')]
```

- `cartesian()` is **very expensive** for large RDDs

.footnote[[[Let's go to notebook05_sparkrdd.ipynb]](http://localhost:8888/notebooks/notebooks/notebook05_sparkrdd.ipynb)]

---

class: center, middle, inverse

# 2.3 Actions

---

# Actions

`collect` brings the `RDD` back to the driver

.pure-table.pure-table-striped[
| transformation | description                      |
| -------------: | -------------------------------: |
| `collect()`    | Return all elements from the RDD |
]

Example

```python
&gt;&gt;&gt; rdd = sc.parallelize([1, 2, 3, 3])
&gt;&gt;&gt; rdd.collect()
[1, 2, 3, 3]
```

**Remarks**

- Be sure that the .stress[retrieved data fits in the driver memory] !
- Useful when developping and working on small data for testing
- We'll use it a lot here, but **we don't use it in real-world problems**
---

# Actions

It's important to count !

.pure-table.pure-table-striped[
| transformation | description                      |
| -------------: | -------------------------------: |
| `count()`      | Return the number of elements in the RDD |
| `countByValue()` | Return the count of each unique value in the RDD as a dictionary of `{value: count}` pairs. |
]

Example

```python
&gt;&gt;&gt; rdd = sc.parallelize([1, 3, 1, 2, 2, 2])
&gt;&gt;&gt; rdd.count()
6
```

```python
&gt;&gt;&gt; rdd.countByValue()
defaultdict(int, {1: 2, 3: 1, 2: 3})
```

---

# Actions

How to get some values in an RDD ?

.pure-table.pure-table-striped[
| action         | description                      |
| -------------: | -------------------------------: |
| `take(n)`      | Return `n` elements from the RDD (deterministic)|
| `top(n)`       | Return first `n` elements from the RDD (decending order)|
| `takeOrdered(num, key=None)`    | Get the N elements from a RDD ordered in ascending order or as specified by the optional key function.|
]

**Remarks**
- `take(n)` returns n elements from the RDD and attempts to **minimize the number of partitions it accesses**
- So, it may represent a .stress[biased] collection
- `collect` and `take` may not return the elements in the order you might expect

---

# Actions

How to get some values in an RDD ?

.pure-table.pure-table-striped[
| action         | description                      |
| -------------: | -------------------------------: |
| `take(n)`      | Return `n` elements from the RDD (deterministic)|
| `top(n)`       | Return first `n` elements from the RDD (decending order)|
| `takeOrdered(num, key=None)`    | Get the N elements from a RDD ordered in ascending order or as specified by the optional key function.|
]

Example

```python
&gt;&gt;&gt; rdd = sc.parallelize([(3, 'a'), (1, 'b'), (2, 'd')])
&gt;&gt;&gt; rdd.takeOrdered(2)
[(1, 'b'), (2, 'd')]
```

```python
&gt;&gt;&gt; rdd.takeOrdered(2, key=lambda x: x[1])
[(3, 'a'), (1, 'b')]
```

---

# Actions

The `reduce` action

.pure-table.pure-table-striped[
| action         | description                      |
| -------------: | -------------------------------: |
| `reduce(f)`    | Reduces the elements of this RDD using the specified commutative and associative binary operator `f`. |
| `fold(zeroValue, op)`    | Same as reduce() but with the provided zero value. |
]

- `op(x, y)` is allowed to modify x and return it as its result value to avoid object allocation; however, it should not modify y.
- `reduce` applies some operation to pairs of elements until there is just one left. Throws an exception for empty collections.
- `fold` has initial zero-value: defined for empty collections.

---

# Actions

The `reduce` action

.pure-table.pure-table-striped[
| action         | description                      |
| -------------: | -------------------------------: |
| `reduce(f)`    | Reduces the elements of this RDD using the specified commutative and associative binary operator `f`. |
| `fold(zeroValue, op)`    | Same as reduce() but with the provided zero value. |
]

Example

```python
&gt;&gt;&gt; rdd = sc.parallelize([1, 2, 3])
&gt;&gt;&gt; rdd.reduce(lambda a, b: a + b)
6
```

```python
&gt;&gt;&gt; rdd.fold(0, lambda a, b: a + b)
6
```

---

# Actions

The `reduce` action

.pure-table.pure-table-striped[
| action         | description                      |
| -------------: | -------------------------------: |
| `reduce(f)`    | Reduces the elements of this RDD using the specified commutative and associative binary operator `f`. |
| `fold(zeroValue, op)`    | Same as reduce() but with the provided zero value. |
]

**Warning with `fold`.** Solutions can depend on the number of partitions

```python
&gt;&gt;&gt; rdd = sc.parallelize([1, 2, 4], 2) # RDD with 2 partitions
&gt;&gt;&gt; rdd.fold(2.5, lambda a, b: a + b)
14.5
```

- RDD has 2 partition: say [1, 2] and [4] 
- Sum in the partitions: 2.5 + (1 + 2) = 5.5  and  2.5 + (4) = 6.5
- Sum over partitions: 2.5 + (5.5 + 6.5) = 14.5

---

# Actions

The `reduce` action

.pure-table.pure-table-striped[
| action         | description                      |
| -------------: | -------------------------------: |
| `reduce(f)`    | Reduces the elements of this RDD using the specified commutative and associative binary operator `f`. |
| `fold(zeroValue, op)`    | Same as reduce() but with the provided zero value. |
]

**Warning with `fold`.** Solutions can depend on the number of partitions

```python
&gt;&gt;&gt; rdd = sc.parallelize([1, 2, 3], 5) # RDD with 5 partitions
&gt;&gt;&gt; rdd.fold(2, lambda a, b: a + b)
???
```

.footnote[[[Let's go to notebook05_sparkrdd.ipynb]](http://localhost:8888/notebooks/notebooks/notebook05_sparkrdd.ipynb)]

---

# Actions

The `reduce` action

.pure-table.pure-table-striped[
| action         | description                      |
| -------------: | -------------------------------: |
| `reduce(f)`    | Reduces the elements of this RDD using the specified commutative and associative binary operator `f`. |
| `fold(zeroValue, op)`    | Same as reduce() but with the provided zero value. |
]

**Warning with `fold`.** Solutions can depend on the number of partitions

```python
&gt;&gt;&gt; rdd = sc.parallelize([1, 2, 3], 5) # RDD with 5 partitions
&gt;&gt;&gt; rdd.fold(2, lambda a, b: a + b)
18
```

- Yes, even if there is less partitions than elements !
- 18 = 2 * 5 + (1+2+3) + 2

---

# Actions

The `aggregate` action

.pure-table.pure-table-striped[
| action         | description                      |
| -------------: | -------------------------------: |
| `aggregate(zero, seqOp, combOp)` | Similar to reduce() but used to return a different type. |
]

Aggregates the elements of each partition, and then the results for all the partitions, given aggregation functions and zero value.

- `seqOp(acc, val)`: function to combine the elements of a partition from the RDD (`val`) with an accumulator (`acc`). 
It can return a different result type than the type of this `RDD`
- `combOp`: function that merges the accumulators of two partitions
- Once again, in both functions, the first argument can be modified while the second cannot
---

# Actions

The `aggregate` action

.pure-table.pure-table-striped[
| action         | description                      |
| -------------: | -------------------------------: |
| `aggregate(zero, seqOp, combOp)` | Similar to reduce() but used to return a different type. |
]

Example

```python
&gt;&gt;&gt; seqOp = lambda x, y: (x[0] + y, x[1] + 1)
&gt;&gt;&gt; combOp = lambda x, y: (x[0] + y[0], x[1] + y[1])
&gt;&gt;&gt; sc.parallelize([1, 2, 3, 4]).aggregate((0, 0), seqOp, combOp)
(10, 4)
```

```python
&gt;&gt;&gt; sc.parallelize([]).aggregate((0, 0), seqOp, combOp)
(0, 0)
```


.footnote[[[Let's go to notebook05_sparkrdd.ipynb]](http://localhost:8888/notebooks/notebooks/notebook05_sparkrdd.ipynb)]

---

# Actions

The `foreach` action

.pure-table.pure-table-striped[
| action         | description                      |
| -------------: | -------------------------------: |
| `foreach(f)` | Apply a function `f` to each element of a RDD |
]

- Performs an action on all of the elements in the RDD without returning any result to the driver.

- Example : insert records into a database with `f`

The `foreach()` action lets us perform computations on each element in the RDD without bringing it back locally

---
class: center, middle, inverse

# 2.4 Persistence

---

# Lazy evaluation and persistence

- Spark RDDs are **lazily evaluated**

- Each time an action is called on a RDD, this RDD and all its dependencies are .stress[recomputed]

- If you plan to reuse a RDD multiple times, you should use .stress[persistence]

**Remarks**
- Lazy evaluation helps `spark` to **reduce the number of passes** over the data it has to make by grouping operations together
- No substantial benefit to writing a single complex map instead of chaining together many simple operations
- Users are free to organize their program into **smaller**, more **manageable operations**

---

# Persistence

How to use persistence ?

.pure-table.pure-table-striped[
| method         | description                      |
| -------------: | -------------------------------: |
| `cache()`      | Persist the RDD in memory        |
| `persist(storageLevel)`      | Persist the RDD according to `storageLevel`  |
]

- These methods must be called .stress[before] the action, and do not trigger the computation

Usage of `storageLevel`

```python
pyspark.StorageLevel(
  useDisk, useMemory, useOffHeap, deserialized, replication=1
)
```

---

# Persistence

Options for persistence

.pure-table.pure-table-striped[
| argument        | description                      |
| -------------: | -------------------------------: |
| `useDisk`      | Allow caching to use disk if `True`  |
| `useMemory`    | Allow caching to use memory if `True`  |
| `useOffHeap`   | Store data outside of JVM heap if `True`. Useful if using some in-memory storage system (such a `Tachyon`) |
| `deserialized` | Cache data without serialization if `True` |
| `replication`  | Number of replications of the cached data  |
]

--

`replication`
- If you cache data that is quite slow to be recomputed, you can use replications. If a machine fails, data will not have to be recomputed.

---

# Persistence

Options for persistence

.pure-table.pure-table-striped[
| argument        | description                      |
| -------------: | -------------------------------: |
| `useDisk`      | Allow caching to use disk if `True`  |
| `useMemory`    | Allow caching to use memory if `True`  |
| `useOffHeap`   | Store data outside of JVM heap if `True`. Useful if using some in-memory storage system (such a `Tachyon`) |
| `deserialized` | Cache data without serialization if `True` |
| `replication`  | Number of replications of the cached data  |
]

`deserialized`

- Serialization is conversion of the data to a binary format
- To the best of our knowledge, `PySpark` only support serialized caching (using `pickle`) 

---

# Persistence

Options for persistence

.pure-table.pure-table-striped[
| argument        | description                      |
| -------------: | -------------------------------: |
| `useDisk`      | Allow caching to use disk if `True`  |
| `useMemory`    | Allow caching to use memory if `True`  |
| `useOffHeap`   | Store data outside of JVM heap if `True`. Useful if using some in-memory storage system (such a `Tachyon`) |
| `deserialized` | Cache data without serialization if `True` |
| `replication`  | Number of replications of the cached data  |
]

`useOffHeap`

- Data cached in the JVM heap by default
- Very interesting alternative in-memory solutions such as `tachyon`
- Don't forget that `spark` is `scala` running on the JVM

---

# Back to options for persistence

```python
StorageLevel(useDisk, useMemory, useOffHeap, deserialized, replication)
```

You can use these constants:
```python
DISK_ONLY = StorageLevel(True, False, False, False, 1)
DISK_ONLY_2 = StorageLevel(True, False, False, False, 2)
MEMORY_AND_DISK = StorageLevel(True, True, False, True, 1)
MEMORY_AND_DISK_2 = StorageLevel(True, True, False, True, 2)
MEMORY_AND_DISK_SER = StorageLevel(True, True, False, False, 1)
MEMORY_AND_DISK_SER_2 = StorageLevel(True, True, False, False, 2)
MEMORY_ONLY = StorageLevel(False, True, False, True, 1)
MEMORY_ONLY_2 = StorageLevel(False, True, False, True, 2)
MEMORY_ONLY_SER = StorageLevel(False, True, False, False, 1)
MEMORY_ONLY_SER_2 = StorageLevel(False, True, False, False, 2)
OFF_HEAP = StorageLevel(False, False, True, False, 1)
```
and simply call
for instance

```python
rdd.persist(MEMORY_AND_DISK)
```

---

# Persistence

What if you attempt to .stress[cache too much data to fit in memory ?]

Spark will automatically evict old partitions using a Least Recently Used (LRU) cache policy:
- For the **memory-only** storage levels, it will recompute these partitions the next time they are accessed

- For the **memory-and-disk** ones, it will write them out to disk

Use `unpersist()` to RDDs to **manually remove them** from the cache

---

# Reminder: about passing functions (again)

**Warning** 

- When passing functions, you can .stress[inadvertently serialize the object containing the function]. 

If you pass a function that:
-  is the member of an object
- contains references to fields in an object

then `Spark` sends the .stress[entire object to worker nodes], which can be **much larger** than the bit of information you need

- This can cause your .stress[program to fail], if your class contains objects that **Python can't pickle**

---

# About passing functions

Passing a function with field references (.stress[dont do this !])

```python
class SearchFunctions(object):
  
  def __init__(self, query):
      self.query = query

  def isMatch(self, s):
      return self.query in s

  def getMatchesFunctionReference(self, rdd):
      # Problem: references all of "self" in "self.isMatch"
      return rdd.filter(self.isMatch)

  def getMatchesMemberReference(self, rdd):
      # Problem: references all of "self" in "self.query"
      return rdd.filter(lambda x: self.query in x)
```

Instead, **just extract the fields you need** from your object into a local variable and pass that in

---

# About passing functions

Python function passing without field references

```python
class WordFunctions(object):
  ...

def getMatchesNoReference(self, rdd):
  # Safe: extract only the field we need into a local variable
  query = self.query
  return rdd.filter(lambda x: query in x)
```

Much better to do this instead

---

class: center, middle, inverse

# 2.5. Pair RDD: key-value pairs

---

# Pair RDD: key-value pairs

It's roughly an RDD where each element is a tuple with two elements: a key and a value

- For numerous tasks, such as aggregations tasks, storing information as `(key, value)` pairs into RDD is very convenient
- Such RDDs are called `PairRDD`
- Pair RDDs expose .stress[new operations] such as **grouping together** data with the same key, and **grouping together two different RDDs**

### Creating a pair RDD

Calling `map` with a function returning a `tuple` with two elements
```python
&gt;&gt;&gt; rdd = sc.parallelize([[1, "a", 7], [2, "b", 13], [2, "c", 17]])
&gt;&gt;&gt; rdd = rdd.map(lambda x: (x[0], x[1:]))
&gt;&gt;&gt; rdd.collect()
[(1, ['a', 7]), (2, ['b', 13]), (2, ['c', 17])]
```

---
# Warning

An element mut be tuples with two elements (the key and the value)
```python
&gt;&gt;&gt; rdd = sc.parallelize([[1, "a", 7], [2, "b", 13], [2, "c", 17]])
&gt;&gt;&gt; rdd.keys().collect()
[1, 2, 2]
&gt;&gt;&gt; rdd.values().collect()
['a', 'b', 'c']
```

For things to work as expected you **must** do
```python
&gt;&gt;&gt; rdd = sc.parallelize([[1, "a", 7], [2, "b", 13], [2, "c", 17]])\
      .map(lambda x: (x[0], x[1:]))
&gt;&gt;&gt; rdd.keys().collect()
[1, 2, 2]
&gt;&gt;&gt; rdd.values().collect()
[['a', 7], ['b', 13], ['c', 17]]
```

---

# Transformations for a single `PairRDD`

.pure-table.pure-table-striped[
| transformation | description                      |
| -------------: | -------------------------------: |
| `keys()`       | Return an RDD containing the keys. |
| `values()`     | Return an RDD containing the values. |
| `sortByKey()`  | Return an RDD sorted by the key. |
| `mapValues(f)`  | Apply a function `f` to each value of a pair RDD without changing the key. |
]

Example with `mapValues`

```python
&gt;&gt;&gt; rdd = sc.parallelize([("a", "x y z"), ("b", "p r")])
&gt;&gt;&gt; rdd.mapValues(lambda v: v.split(' ')).collect()
[('a', ['x', 'y', 'z']), ('b', ['p', 'r'])]
```

---

# Transformations for a single `PairRDD`

.pure-table.pure-table-striped[
| transformation | description                      |
| -------------: | -------------------------------: |
| `flatMapValues(f)` | Pass each value in the key-value pair RDD through a flatMap function `f` without changing the keys. |
]

Example with `flatMapValues`

```python
&gt;&gt;&gt; texts = sc.parallelize([("a", "x y z"), ("b", "p r")])
&gt;&gt;&gt; tokenize = lambda x: x.split(" ")
&gt;&gt;&gt; texts.flatMapValues(tokenize).collect()
[('a', 'x'), ('a', 'y'), ('a', 'z'), ('b', 'p'), ('b', 'r')]
```


---

# Transformations for a single `PairRDD`

.pure-table.pure-table-striped[
| transformation | description                      |
| -------------: | -------------------------------: |
| `groupByKey()` | Group values with the same key |
]

Example with `groupByKey`

```python
&gt;&gt;&gt; rdd = sc.parallelize([
  ("a", 1), ("b", 1), ("a", 1), 
  ("b", 3), ("c", 42)
  ])
&gt;&gt;&gt; rdd.groupByKey().mapValues(list).collect()
[('c', [42]), ('b', [1, 3]), ('a', [1, 1])]
```

---

.center[&lt;img src="figs/group_by.png"&gt;]

---

# Transformations for a single `PairRDD`

.pure-table.pure-table-striped[
| transformation | description                      |
| -------------: | -------------------------------: |
| `reduceByKey(f)` | Merge the values for each key using an associative reduce function `f`. |
| `foldByKey(f)` | Merge the values for each key using an associative reduce function `f`. |
]

Example with `reduceByKey`

```python
&gt;&gt;&gt; rdd = sc.parallelize([("a", 1), ("b", 1), ("a", 1)])
&gt;&gt;&gt; rdd.reduceByKey(lambda a, b: a + b).collect()
[('a', 2), ('b', 1)]
```

- The reducing occurs first **locally** (within partitions)
- Then, a shuffle is performed with the local results to reduce globally

---

.center[&lt;img src="figs/reduce_by.png"&gt;]

---

# Transformations for a single `PairRDD`

.pure-table.pure-table-striped[
| transformation | description                      |
| -------------: | -------------------------------: |
| `combineByKey(createCombiner, mergeValue, mergeCombiners, [partitioner])` | Generic function to combine the elements for each key using a custom set of aggregation functions. |
]

- Transforms an `RDD[(K, V)]` into another RDD of type `RDD[(K, C)]` for a "combined" type `C` that can be different from `V`

The user must define
- `createCombiner` : which turns a `V` into a `C`
- `mergeValue` : to merge a `V` into a `C`
- `mergeCombiners` : to combine two `C`s into a single one

---

# Transformations for a single `PairRDD`

.pure-table.pure-table-striped[
| transformation | description                      |
| -------------: | -------------------------------: |
| `combineByKey(createCombiner, mergeValue, mergeCombiners, [partitioner])` | Generic function to combine the elements for each key using a custom set of aggregation functions. |
]

In this example

- `createCombiner` : converts the value to `str`
- `mergeValue` : concatenates two `str`
- `mergeCombiners` : concatenates two `str`



```python
&gt;&gt;&gt; rdd = sc.parallelize([('a', 1), ('b', 2), ('a', 13)])
&gt;&gt;&gt; def add(a, b): 
&gt;&gt;&gt;     return a + str(b)
&gt;&gt;&gt; rdd.combineByKey(str, add, add).collect()
[('a', '113'), ('b', '2')]
```

---

# Transformations for two `PairRDD`

.pure-table.pure-table-striped[
| transformation | description                      |
| -------------: | -------------------------------: |
| `subtractByKey(other)` | Remove elements with a key present in the `other` RDD. |
| `join(other)` | Inner join with `other` RDD. |
| `rightOuterJoin(other)` | Right join with `other` RDD. |
| `leftOuterJoin(other)` | Left join with `other` RDD. |
]

- Right join: the key must be present in the first RDD
- Left join: the key must be present in the `other` RDD

.center[&lt;img width='600px' src="figs/join-types.png"&gt;]

---

# Transformations for two `PairRDD`

- Join operations are mainly used through the high-level API: `DataFrame` objects and the `spark.sql` API 

- We will use them a lot with the high-level API (`DataFrame` from `spark.sql`)

.footnote[[[Let's go to notebook05_sparkrdd.ipynb]](http://localhost:8888/notebooks/notebooks/notebook05_sparkrdd.ipynb)]


---

# Actions for two `PairRDD`

.pure-table.pure-table-striped[
| action         | description                      |
| -------------: | -------------------------------: |
| `countByKey()` | Count the number of elements for each key. |
| `lookup(key)`  | Return all the values associated with the provided `key`. |
| `collectAsMap()` | Return the key-value pairs in this RDD to the master as a Python dictionary. |
]

.footnote[[[Let's go to notebook05_sparkrdd.ipynb]](http://localhost:8888/notebooks/notebooks/notebook05_sparkrdd.ipynb)]


---

# Data partitionning

- Some operations on `PairRDD`s, such as `join`, require to scan the data **more than once**

- Partitionning the RDDs **in advance** can reduce network communications

- When a key-oriented dataset is reused multiple times, partitionning can lead to performance increase

- In `Spark`: you can .stress[choose which keys will appear on the same node], but no explicit control of which worker node each key goes to.

---

# Data partitionning

In practice, you can specify the number of partitions with

```python
rdd.partitionBy(100)
```

You can also use a custom partition function `hash` such that `hash(key)` returns a hash

```python
import urlparse

&gt;&gt;&gt; def hash_domain(url):
&gt;&gt;&gt;     # Returns a hash associated to the domain of a website
&gt;&gt;&gt;     return hash(urlparse.urlparse(url).netloc)

rdd.partitionBy(20, hash_domain) # Create 20 partitions
```

To have finer control on partitionning, you must use the Scala API.

---

class: center, middle, inverse

# Thank you !

</textarea>

  <script src="./Remark3_files/remark-latest.min.js"></script>
  <!-- <script>mermaid.initialize({startOnLoad:true});</script>  -->
    <script>
      var hljs = remark.highlighter.engine;
    </script>
   <script>
      var slideshow = remark.create({
          /* sourceUrl: './slides.md', */
          highlightLanguage: 'remark',
          highlightLines: true 
        });
    </script><div class="remark-notes-area">
  <div class="remark-top-area">
    <div class="remark-toolbar">
      <a class="remark-toolbar-link" href="https://stephanegaiffas.github.io/big_data_course/slides/slides03_sparkrdd.html#increase">+</a>
      <a class="remark-toolbar-link" href="https://stephanegaiffas.github.io/big_data_course/slides/slides03_sparkrdd.html#decrease">-</a>
      <span class="remark-toolbar-timer">0:00:00</span>
    </div>
  </div>
  <div class="remark-bottom-area">
    <div class="remark-notes-current-area">
      <div class="remark-toggle">Notes for current slide</div>
      <div class="remark-notes"></div>
    </div>
    <div class="remark-notes-preview-area">
      <div class="remark-toggle">Notes for next slide</div>
      <div class="remark-notes-preview"></div>
    </div>
  </div>
</div>
<div class="remark-slides-area"><div class="remark-slide-container remark-visible"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content center middle hljs-default"><h1 id="big-data-technologies">Big Data Technologies</h1>
<h2 id="master-mathematics-and-informatics">Master Mathematics and Informatics</h2>
<p><span class="medium">Stphane Gaffas - Stphane Boucheron</span></p>
<div class="center"><p><img src="./Remark3_files/lpsm.png" style="height: 160px;">
    <img src="https://stephanegaiffas.github.io/big_data_course/slides/slides03_sparkrdd.html" style="width: 30px;">
    <img src="./Remark3_files/paris-diderot.png" style="height: 90px;">
    <img src="https://stephanegaiffas.github.io/big_data_course/slides/slides03_sparkrdd.html" style="width: 30px;">
    <img src="./Remark3_files/uparis.png" style="height: 120px;"></p>
</div><div class="remark-slide-number">1 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top center middle inverse hljs-default"><h1 id="2-apache-spark-and-rdds">2. Apache Spark and RDDs</h1><div class="remark-slide-number">2 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top center middle inverse hljs-default"><h1 id="2-1-introduction">2.1 Introduction</h1><div class="remark-slide-number">3 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="philosophy">Philosophy</h1>
<p><code class="remark remark-inline-code">Spark</code> computing framework deals with many complex issues: fault tolerance, slow machines, big datasets, etc.</p>
<p><span class="stress">"Here's an operation, run it on all the data."</span></p>
<ul>
<li>I do not care where it runs</li>
<li>Feel free to run it twice on different nodes</li>
</ul>
<p>Jobs are divided in subtasks, that are executed by the workers</p>
<ul>
<li>How do we deal with <strong>failure</strong>? Launch <span class="stress">another task</span>!</li>
<li>How do we deal with <strong>stragglers</strong>? Launch <span class="stress">another task</span>! <br> (and kill original task)</li>
</ul><div class="remark-slide-number">4 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="api">API</h1>
<p>An <span class="stres">API</span> allows a user to interact with the software</p>
<p><code class="remark remark-inline-code">Spark</code> is implemented in <strong>Scala</strong>, runs on the <strong>JVM</strong> (Java Virtual Machine)</p>
<p><strong>Multiple</strong> Application Programming Interfaces (APIs):</p>
<ul>
<li><code class="remark remark-inline-code">Scala</code> (JVM)</li>
<li><code class="remark remark-inline-code">Java</code> (JVM)</li>
<li><code class="remark remark-inline-code">Python</code></li>
<li><code class="remark remark-inline-code">R</code></li>
</ul>
<p><span class="stress">This course uses the Python API</span>. Easier to learn than <code class="remark remark-inline-code">Scala</code> and <code class="remark remark-inline-code">Java</code></p>
<ul>
<li>About the <code class="remark remark-inline-code">R</code> API: <strong>still young</strong> and outlying because of <code class="remark remark-inline-code">R</code> syntax.</li>
</ul><div class="remark-slide-number">5 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="architecture">Architecture</h1>
<p>When you interact with <code class="remark remark-inline-code">Spark</code> through its API, you <strong>send instructions to the <span class="stress">Driver</span></strong></p>
<ul>
<li>The <span class="stress">Driver</span> is the <strong>central coordinator</strong></li>
<li>It <strong>communicates with distributed workers</strong> called <span class="stress">executors</span></li>
<li>Creates a <strong>logical directed acyclic graph</strong> (DAG) of operations</li>
<li><strong>Merges operations</strong> that can be merged</li>
<li><strong>Splits</strong> the operations in <span class="stress">tasks</span> (smallest unit of work in Spark)</li>
<li><strong>Schedules</strong> the tasks and <strong>send them to the executors</strong></li>
<li><strong>Tracks</strong> data and tasks</li>
</ul>
<p><strong>Example</strong></p>
<ul>
<li>Example of DAG: <code class="remark remark-inline-code">map(f) - map(g) - filter(h) - reduce(l)</code></li>
<li><code class="remark remark-inline-code">map(f o g)</code></li>
</ul><div class="remark-slide-number">6 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="sparkcontext-object">SparkContext object</h1>
<p>You interact with the <strong>driver</strong> through the <code class="remark remark-inline-code">SparkContext</code> object. </p>
<ul>
<li><p><strong>In the <span class="stress"><code class="remark remark-inline-code">Spark</code> interactive shell</span></strong> <br> <code class="remark remark-inline-code">SparkContext</code> is automatically created in the and named <code class="remark remark-inline-code">sc</code></p>
</li>
<li><p><strong>In a <span class="stress"><code class="remark remark-inline-code">jupyter notebook</code></span></strong> <br> Create a <code class="remark remark-inline-code">SparkContext</code> object using:</p>
</li>
</ul>
<pre><code class="python hljs remark-code"><div class="remark-code-line"><span class="hljs-keyword">from</span> pyspark <span class="hljs-keyword">import</span> SparkConf, SparkContext</div><div class="remark-code-line"></div><div class="remark-code-line">conf = SparkConf().setAppName(appName).setMaster(master)</div><div class="remark-code-line">sc = SparkContext(conf=conf)</div></code></pre><div class="remark-slide-number">7 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="rdds-and-running-model">RDDs and running model</h1>
<p>Spark programs are written in terms of operations on <strong>RDDs</strong></p>
<ul>
<li><p><span class="stress">RDD</span> = <strong>Resilient Distributed Dataset</strong> <br></p>
</li>
<li><p>An <strong>immutable distributed collection</strong> of objects spread across the cluster disks or memory</p>
</li>
<li><p>RDDs can contain any type of Python, Java, or Scala objects, including user-defined classes</p>
</li>
<li><p>Parallel <strong>transformations</strong> and <strong>actions</strong> can be applied to RDDs</p>
</li>
<li><p>RDDs are automatically rebuilt on machine failure</p>
</li>
</ul><div class="remark-slide-number">8 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="creating-a-rdd">Creating a RDD</h1>
<p>From an iterable object <code class="remark remark-inline-code">iterator</code> (e.g. a <code class="remark remark-inline-code">Python</code> <code class="remark remark-inline-code">list</code>, etc.):</p>
<pre><code class="python hljs remark-code"><div class="remark-code-line">lines = sc.parallelize(iterator)</div></code></pre>
<p>From a text file:</p>
<pre><code class="python hljs remark-code"><div class="remark-code-line">lines = sc.textFile(<span class="hljs-string">"/path/to/file.txt"</span>)</div></code></pre>
<p>where <code class="remark remark-inline-code">lines</code> is the resulting RDD, and <code class="remark remark-inline-code">sc</code> the spark context</p>
<p><strong>Remarks</strong></p>
<ul>
<li><code class="remark remark-inline-code">parallelize</code> not really used in practice</li>
<li>In real life: <strong>load data from external storage</strong></li>
<li>External storage is often <strong>HDFS</strong> (Hadoop Distributed File System)</li>
<li>Can read most formats (<code class="remark remark-inline-code">json</code>, <code class="remark remark-inline-code">csv</code>, <code class="remark remark-inline-code">xml</code>, <code class="remark remark-inline-code">parquet</code>, <code class="remark remark-inline-code">orc</code>, etc.)</li>
</ul><div class="remark-slide-number">9 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="operations-on-rdd">Operations on RDD</h1>
<p><strong>Two families of operations</strong> can be performed on RDDs</p>
<ul>
<li><p><span class="stress">Transformations</span> <br> Operations on RDDs which return a new RDD <br> <strong>Lazy evaluation</strong></p>
</li>
<li><p><span class="stress">Actions</span> <br> Operations on RDDs that return some other data type <br> <strong>Triggers computations</strong></p>
</li>
</ul>
<p><strong>What is lazy evaluation ?</strong> When a transformation is called on an RDD:</p>
<ul>
<li>The operation is <span class="stress">not immediately performed</span></li>
<li>Spark internally <strong>records that this operation has been requested</strong></li>
<li>Computations are triggered only <strong>if an action requires the result of this transformation</strong> at some point</li>
</ul><div class="remark-slide-number">10 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top center middle inverse hljs-default"><h1 id="2-2-transformations">2.2 Transformations</h1><div class="remark-slide-number">11 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="transformations">Transformations</h1>
<p>The most important transformation is <code class="remark remark-inline-code">map</code></p>
<div class="pure-table pure-table-striped"><table>
<thead>
<tr>
<th style="text-align:right">transformation</th>
<th style="text-align:right">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">map(f)</code></td>
<td style="text-align:right">apply a function <code class="remark remark-inline-code">f</code> to each element of the RDD</td>
</tr>
</tbody>
</table>
</div>

<p>Here is an example:</p>
<pre><code class="python hljs remark-code"><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd = sc.parallelize([<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>])</div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd.map(<span class="hljs-keyword">lambda</span> x: list(range(<span class="hljs-number">1</span>, x))).collect()</div><div class="remark-code-line">[[<span class="hljs-number">1</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]]</div></code></pre>
<ul>
<li>We need to call <code class="remark remark-inline-code">collect</code> (an <strong>action</strong>) otherwise <span class="stress">nothing happens</span></li>
<li>Once again, <code class="remark remark-inline-code">map</code> is lazy-evaluated</li>
<li>In <code class="remark remark-inline-code">Python</code>, <strong>three options for passing functions</strong> into Spark</li>
<li>For short functions: <code class="remark remark-inline-code">lambda</code> expressions (anonymous functions)</li>
<li>Otherwise: top-level functions or <strong>locally defined functions</strong> with <code class="remark remark-inline-code">def</code></li>
</ul><div class="remark-slide-number">12 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="transformations">Transformations</h1>
<p>About passing functions to <code class="remark remark-inline-code">map</code>:</p>
<ul>
<li>Involves serialization with <code class="remark remark-inline-code">pickle</code></li>
<li><code class="remark remark-inline-code">Spark</code> sends the <strong>entire pickled function</strong> to worker nodes</li>
</ul>
<p><strong>Warning.</strong> If the function is an <strong>object method</strong>:</p>
<ul>
<li>The <strong>whole object is pickled</strong> since the method contains references to the object (<code class="remark remark-inline-code">self</code>) and references to attributes of the object</li>
<li>The whole object can be <strong>large</strong> </li>
<li>The whole object <strong>may not be serializable with <code class="remark remark-inline-code">pickle</code></strong></li>
</ul>
<p><span class="footnote"><a href="http://localhost:8888/notebooks/notebooks/notebook05_sparkrdd.ipynb">[Let's go to notebook05_sparkrdd.ipynb]</a></span></p><div class="remark-slide-number">13 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="transformations">Transformations</h1>
<p>Then we have <code class="remark remark-inline-code">flatMap</code></p>
<div class="pure-table pure-table-striped"><table>
<thead>
<tr>
<th style="text-align:right">transformation</th>
<th style="text-align:right">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">flatMap(f)</code></td>
<td style="text-align:right">apply <code class="remark remark-inline-code">f</code> to each element of the RDD, then flattens the results</td>
</tr>
</tbody>
</table>
</div>

<p>Example</p>
<pre><code class="python hljs remark-code"><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd = sc.parallelize([<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>])</div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd.flatMap(<span class="hljs-keyword">lambda</span> x: range(<span class="hljs-number">1</span>, x)).collect()</div><div class="remark-code-line">[<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]</div></code></pre><div class="remark-slide-number">14 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="transformations">Transformations</h1>
<p><code class="remark remark-inline-code">filter</code> allows to filter an RDD</p>
<div class="pure-table pure-table-striped"><table>
<thead>
<tr>
<th style="text-align:right">transformation</th>
<th style="text-align:right">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">filter(f)</code></td>
<td style="text-align:right">Return an RDD consisting of only elements that pass the condition <code class="remark remark-inline-code">f</code> passed to <code class="remark remark-inline-code">filter()</code></td>
</tr>
</tbody>
</table>
</div>

<p>Example</p>
<pre><code class="python hljs remark-code"><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd = sc.parallelize(range(<span class="hljs-number">10</span>))</div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd.filter(<span class="hljs-keyword">lambda</span> x: x % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>).collect()</div><div class="remark-code-line">[<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>]</div></code></pre><div class="remark-slide-number">15 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="transformations">Transformations</h1>
<p>About <code class="remark remark-inline-code">distinct</code> and <code class="remark remark-inline-code">sample</code></p>
<div class="pure-table pure-table-striped"><table>
<thead>
<tr>
<th style="text-align:right">transformation</th>
<th style="text-align:right">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">distinct()</code></td>
<td style="text-align:right">Removes duplicates</td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">sample(withReplacement, fraction, [seed])</code></td>
<td style="text-align:right">Sample an RDD, with or without replacement</td>
</tr>
</tbody>
</table>
</div>

<p>Example</p>
<pre><code class="python hljs remark-code"><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd = sc.parallelize([<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>])</div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd.distinct().collect()</div><div class="remark-code-line">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]</div></code></pre><div class="remark-slide-number">16 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="transformations">Transformations</h1>
<p>We have also "pseudo set" operations</p>
<div class="pure-table pure-table-striped"><table>
<thead>
<tr>
<th style="text-align:right">transformation</th>
<th style="text-align:right">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">union(otherRdd)</code></td>
<td style="text-align:right">Returns union with <code class="remark remark-inline-code">otherRdd</code></td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">instersection(otherRdd)</code></td>
<td style="text-align:right">Returns intersection with <code class="remark remark-inline-code">otherRdd</code></td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">subtract(otherRdd)</code></td>
<td style="text-align:right">Return each value in <code class="remark remark-inline-code">self</code> that is not contained in <code class="remark remark-inline-code">otherRdd</code>.</td>
</tr>
</tbody>
</table>
</div>

<ul>
<li>If if there are duplicates in the input RDD, the result of <code class="remark remark-inline-code">union()</code> <strong>will contain duplicates</strong> (fixed with <code class="remark remark-inline-code">distinct()</code>)</li>
<li><code class="remark remark-inline-code">intersection()</code> removes all duplicates (including duplicates from a single RDD)</li>
<li>Performance of <code class="remark remark-inline-code">intersection()</code> is much worse than <code class="remark remark-inline-code">union()</code> since it requires a <strong>shuffle</strong> to identify common elements</li>
<li><code class="remark remark-inline-code">subtract</code> also requires a shuffle</li>
</ul><div class="remark-slide-number">17 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="transformations">Transformations</h1>
<p>We have also "pseudo set" operations</p>
<div class="pure-table pure-table-striped"><table>
<thead>
<tr>
<th style="text-align:right">transformation</th>
<th style="text-align:right">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">union(otherRdd)</code></td>
<td style="text-align:right">Returns union with <code class="remark remark-inline-code">otherRdd</code></td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">instersection(otherRdd)</code></td>
<td style="text-align:right">Returns intersection with <code class="remark remark-inline-code">otherRdd</code></td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">subtract(otherRdd)</code></td>
<td style="text-align:right">Return each value in <code class="remark remark-inline-code">self</code> that is not contained in <code class="remark remark-inline-code">otherRdd</code>.</td>
</tr>
</tbody>
</table>
</div>

<p>Example with <code class="remark remark-inline-code">union</code> and <code class="remark remark-inline-code">distinct</code></p>
<pre><code class="python hljs remark-code"><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd1 = sc.parallelize(range(<span class="hljs-number">5</span>))</div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd2 = sc.parallelize(range(<span class="hljs-number">3</span>, <span class="hljs-number">9</span>))</div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd3 = rdd1.union(rdd2)</div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd3.collect()</div><div class="remark-code-line">[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>]</div></code></pre>
<pre><code class="python hljs remark-code"><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd3.distinct().collect()</div><div class="remark-code-line">[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>]</div></code></pre><div class="remark-slide-number">18 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="about-shuffles">About shuffles</h1>
<ul>
<li>Certain operations trigger a <span class="stress">shuffle</span></li>
<li>It is Sparks mechanism for <span class="stress">re-distributing data</span> so that its grouped differently across partitions</li>
<li>It involves <strong>copying data across executors and machines</strong>, making the shuffle a complex and costly operation</li>
<li>We will discuss shuffles in detail later in the course</li>
</ul>
<h2 id="performance-impact">Performance Impact</h2>
<ul>
<li>A shuffle involves disk I/O, data serialization and network I/O. </li>
<li>To organize data for the shuffle, Spark generates sets of <strong>tasks</strong><ul>
<li><strong>map tasks</strong> to organize the data</li>
<li>and a set of <strong>reduce tasks</strong> to aggregate it. This nomenclature comes from MapReduce and does not directly relate to Sparks map and reduce operations.</li>
</ul>
</li>
</ul><div class="remark-slide-number">19 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="transformations">Transformations</h1>
<p>Another "pseudo set" operation</p>
<div class="pure-table pure-table-striped"><table>
<thead>
<tr>
<th style="text-align:right">transformation</th>
<th style="text-align:right">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">cartesian(otherRdd)</code></td>
<td style="text-align:right">Return the Cartesian product of this RDD and another one</td>
</tr>
</tbody>
</table>
</div>

<p>Example</p>
<pre><code class="python hljs remark-code"><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd1 = sc.parallelize([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>])</div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd2 = sc.parallelize([<span class="hljs-string">"a"</span>, <span class="hljs-string">"b"</span>])</div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd1.cartesian(rdd2).collect()</div><div class="remark-code-line">[(<span class="hljs-number">1</span>, <span class="hljs-string">'a'</span>), (<span class="hljs-number">1</span>, <span class="hljs-string">'b'</span>), (<span class="hljs-number">2</span>, <span class="hljs-string">'a'</span>), (<span class="hljs-number">2</span>, <span class="hljs-string">'b'</span>)]</div></code></pre>
<ul>
<li><code class="remark remark-inline-code">cartesian()</code> is <strong>very expensive</strong> for large RDDs</li>
</ul>
<p><span class="footnote"><a href="http://localhost:8888/notebooks/notebooks/notebook05_sparkrdd.ipynb">[Let's go to notebook05_sparkrdd.ipynb]</a></span></p><div class="remark-slide-number">20 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top center middle inverse hljs-default"><h1 id="2-3-actions">2.3 Actions</h1><div class="remark-slide-number">21 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="actions">Actions</h1>
<p><code class="remark remark-inline-code">collect</code> brings the <code class="remark remark-inline-code">RDD</code> back to the driver</p>
<div class="pure-table pure-table-striped"><table>
<thead>
<tr>
<th style="text-align:right">transformation</th>
<th style="text-align:right">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">collect()</code></td>
<td style="text-align:right">Return all elements from the RDD</td>
</tr>
</tbody>
</table>
</div>

<p>Example</p>
<pre><code class="python hljs remark-code"><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd = sc.parallelize([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>])</div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd.collect()</div><div class="remark-code-line">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>]</div></code></pre>
<p><strong>Remarks</strong></p>
<ul>
<li>Be sure that the <span class="stress">retrieved data fits in the driver memory</span> !</li>
<li>Useful when developping and working on small data for testing</li>
<li>We'll use it a lot here, but <strong>we don't use it in real-world problems</strong></li>
</ul><div class="remark-slide-number">22 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="actions">Actions</h1>
<p>It's important to count !</p>
<div class="pure-table pure-table-striped"><table>
<thead>
<tr>
<th style="text-align:right">transformation</th>
<th style="text-align:right">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">count()</code></td>
<td style="text-align:right">Return the number of elements in the RDD</td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">countByValue()</code></td>
<td style="text-align:right">Return the count of each unique value in the RDD as a dictionary of <code class="remark remark-inline-code">{value: count}</code> pairs.</td>
</tr>
</tbody>
</table>
</div>

<p>Example</p>
<pre><code class="python hljs remark-code"><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd = sc.parallelize([<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>])</div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd.count()</div><div class="remark-code-line"><span class="hljs-number">6</span></div></code></pre>
<pre><code class="python hljs remark-code"><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd.countByValue()</div><div class="remark-code-line">defaultdict(int, {<span class="hljs-number">1</span>: <span class="hljs-number">2</span>, <span class="hljs-number">3</span>: <span class="hljs-number">1</span>, <span class="hljs-number">2</span>: <span class="hljs-number">3</span>})</div></code></pre><div class="remark-slide-number">23 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="actions">Actions</h1>
<p>How to get some values in an RDD ?</p>
<div class="pure-table pure-table-striped"><table>
<thead>
<tr>
<th style="text-align:right">action</th>
<th style="text-align:right">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">take(n)</code></td>
<td style="text-align:right">Return <code class="remark remark-inline-code">n</code> elements from the RDD (deterministic)</td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">top(n)</code></td>
<td style="text-align:right">Return first <code class="remark remark-inline-code">n</code> elements from the RDD (decending order)</td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">takeOrdered(num, key=None)</code></td>
<td style="text-align:right">Get the N elements from a RDD ordered in ascending order or as specified by the optional key function.</td>
</tr>
</tbody>
</table>
</div>

<p><strong>Remarks</strong></p>
<ul>
<li><code class="remark remark-inline-code">take(n)</code> returns n elements from the RDD and attempts to <strong>minimize the number of partitions it accesses</strong></li>
<li>So, it may represent a <span class="stress">biased</span> collection</li>
<li><code class="remark remark-inline-code">collect</code> and <code class="remark remark-inline-code">take</code> may not return the elements in the order you might expect</li>
</ul><div class="remark-slide-number">24 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="actions">Actions</h1>
<p>How to get some values in an RDD ?</p>
<div class="pure-table pure-table-striped"><table>
<thead>
<tr>
<th style="text-align:right">action</th>
<th style="text-align:right">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">take(n)</code></td>
<td style="text-align:right">Return <code class="remark remark-inline-code">n</code> elements from the RDD (deterministic)</td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">top(n)</code></td>
<td style="text-align:right">Return first <code class="remark remark-inline-code">n</code> elements from the RDD (decending order)</td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">takeOrdered(num, key=None)</code></td>
<td style="text-align:right">Get the N elements from a RDD ordered in ascending order or as specified by the optional key function.</td>
</tr>
</tbody>
</table>
</div>

<p>Example</p>
<pre><code class="python hljs remark-code"><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd = sc.parallelize([(<span class="hljs-number">3</span>, <span class="hljs-string">'a'</span>), (<span class="hljs-number">1</span>, <span class="hljs-string">'b'</span>), (<span class="hljs-number">2</span>, <span class="hljs-string">'d'</span>)])</div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd.takeOrdered(<span class="hljs-number">2</span>)</div><div class="remark-code-line">[(<span class="hljs-number">1</span>, <span class="hljs-string">'b'</span>), (<span class="hljs-number">2</span>, <span class="hljs-string">'d'</span>)]</div></code></pre>
<pre><code class="python hljs remark-code"><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd.takeOrdered(<span class="hljs-number">2</span>, key=<span class="hljs-keyword">lambda</span> x: x[<span class="hljs-number">1</span>])</div><div class="remark-code-line">[(<span class="hljs-number">3</span>, <span class="hljs-string">'a'</span>), (<span class="hljs-number">1</span>, <span class="hljs-string">'b'</span>)]</div></code></pre><div class="remark-slide-number">25 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="actions">Actions</h1>
<p>The <code class="remark remark-inline-code">reduce</code> action</p>
<div class="pure-table pure-table-striped"><table>
<thead>
<tr>
<th style="text-align:right">action</th>
<th style="text-align:right">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">reduce(f)</code></td>
<td style="text-align:right">Reduces the elements of this RDD using the specified commutative and associative binary operator <code class="remark remark-inline-code">f</code>.</td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">fold(zeroValue, op)</code></td>
<td style="text-align:right">Same as reduce() but with the provided zero value.</td>
</tr>
</tbody>
</table>
</div>

<ul>
<li><code class="remark remark-inline-code">op(x, y)</code> is allowed to modify x and return it as its result value to avoid object allocation; however, it should not modify y.</li>
<li><code class="remark remark-inline-code">reduce</code> applies some operation to pairs of elements until there is just one left. Throws an exception for empty collections.</li>
<li><code class="remark remark-inline-code">fold</code> has initial zero-value: defined for empty collections.</li>
</ul><div class="remark-slide-number">26 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="actions">Actions</h1>
<p>The <code class="remark remark-inline-code">reduce</code> action</p>
<div class="pure-table pure-table-striped"><table>
<thead>
<tr>
<th style="text-align:right">action</th>
<th style="text-align:right">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">reduce(f)</code></td>
<td style="text-align:right">Reduces the elements of this RDD using the specified commutative and associative binary operator <code class="remark remark-inline-code">f</code>.</td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">fold(zeroValue, op)</code></td>
<td style="text-align:right">Same as reduce() but with the provided zero value.</td>
</tr>
</tbody>
</table>
</div>

<p>Example</p>
<pre><code class="python hljs remark-code"><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd = sc.parallelize([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])</div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd.reduce(<span class="hljs-keyword">lambda</span> a, b: a + b)</div><div class="remark-code-line"><span class="hljs-number">6</span></div></code></pre>
<pre><code class="python hljs remark-code"><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd.fold(<span class="hljs-number">0</span>, <span class="hljs-keyword">lambda</span> a, b: a + b)</div><div class="remark-code-line"><span class="hljs-number">6</span></div></code></pre><div class="remark-slide-number">27 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="actions">Actions</h1>
<p>The <code class="remark remark-inline-code">reduce</code> action</p>
<div class="pure-table pure-table-striped"><table>
<thead>
<tr>
<th style="text-align:right">action</th>
<th style="text-align:right">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">reduce(f)</code></td>
<td style="text-align:right">Reduces the elements of this RDD using the specified commutative and associative binary operator <code class="remark remark-inline-code">f</code>.</td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">fold(zeroValue, op)</code></td>
<td style="text-align:right">Same as reduce() but with the provided zero value.</td>
</tr>
</tbody>
</table>
</div>

<p><strong>Warning with <code class="remark remark-inline-code">fold</code>.</strong> Solutions can depend on the number of partitions</p>
<pre><code class="python hljs remark-code"><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd = sc.parallelize([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>], <span class="hljs-number">2</span>) <span class="hljs-comment"># RDD with 2 partitions</span></div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd.fold(<span class="hljs-number">2.5</span>, <span class="hljs-keyword">lambda</span> a, b: a + b)</div><div class="remark-code-line"><span class="hljs-number">14.5</span></div></code></pre>
<ul>
<li>RDD has 2 partition: say [1, 2] and [4] </li>
<li>Sum in the partitions: 2.5 + (1 + 2) = 5.5  and  2.5 + (4) = 6.5</li>
<li>Sum over partitions: 2.5 + (5.5 + 6.5) = 14.5</li>
</ul><div class="remark-slide-number">28 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="actions">Actions</h1>
<p>The <code class="remark remark-inline-code">reduce</code> action</p>
<div class="pure-table pure-table-striped"><table>
<thead>
<tr>
<th style="text-align:right">action</th>
<th style="text-align:right">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">reduce(f)</code></td>
<td style="text-align:right">Reduces the elements of this RDD using the specified commutative and associative binary operator <code class="remark remark-inline-code">f</code>.</td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">fold(zeroValue, op)</code></td>
<td style="text-align:right">Same as reduce() but with the provided zero value.</td>
</tr>
</tbody>
</table>
</div>

<p><strong>Warning with <code class="remark remark-inline-code">fold</code>.</strong> Solutions can depend on the number of partitions</p>
<pre><code class="python hljs remark-code"><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd = sc.parallelize([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], <span class="hljs-number">5</span>) <span class="hljs-comment"># RDD with 5 partitions</span></div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd.fold(<span class="hljs-number">2</span>, <span class="hljs-keyword">lambda</span> a, b: a + b)</div><div class="remark-code-line">???</div></code></pre>
<p><span class="footnote"><a href="http://localhost:8888/notebooks/notebooks/notebook05_sparkrdd.ipynb">[Let's go to notebook05_sparkrdd.ipynb]</a></span></p><div class="remark-slide-number">29 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="actions">Actions</h1>
<p>The <code class="remark remark-inline-code">reduce</code> action</p>
<div class="pure-table pure-table-striped"><table>
<thead>
<tr>
<th style="text-align:right">action</th>
<th style="text-align:right">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">reduce(f)</code></td>
<td style="text-align:right">Reduces the elements of this RDD using the specified commutative and associative binary operator <code class="remark remark-inline-code">f</code>.</td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">fold(zeroValue, op)</code></td>
<td style="text-align:right">Same as reduce() but with the provided zero value.</td>
</tr>
</tbody>
</table>
</div>

<p><strong>Warning with <code class="remark remark-inline-code">fold</code>.</strong> Solutions can depend on the number of partitions</p>
<pre><code class="python hljs remark-code"><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd = sc.parallelize([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], <span class="hljs-number">5</span>) <span class="hljs-comment"># RDD with 5 partitions</span></div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd.fold(<span class="hljs-number">2</span>, <span class="hljs-keyword">lambda</span> a, b: a + b)</div><div class="remark-code-line"><span class="hljs-number">18</span></div></code></pre>
<ul>
<li>Yes, even if there is less partitions than elements !</li>
<li>18 = 2 * 5 + (1+2+3) + 2</li>
</ul><div class="remark-slide-number">30 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="actions">Actions</h1>
<p>The <code class="remark remark-inline-code">aggregate</code> action</p>
<div class="pure-table pure-table-striped"><table>
<thead>
<tr>
<th style="text-align:right">action</th>
<th style="text-align:right">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">aggregate(zero, seqOp, combOp)</code></td>
<td style="text-align:right">Similar to reduce() but used to return a different type.</td>
</tr>
</tbody>
</table>
</div>

<p>Aggregates the elements of each partition, and then the results for all the partitions, given aggregation functions and zero value.</p>
<ul>
<li><code class="remark remark-inline-code">seqOp(acc, val)</code>: function to combine the elements of a partition from the RDD (<code class="remark remark-inline-code">val</code>) with an accumulator (<code class="remark remark-inline-code">acc</code>). 
It can return a different result type than the type of this <code class="remark remark-inline-code">RDD</code></li>
<li><code class="remark remark-inline-code">combOp</code>: function that merges the accumulators of two partitions</li>
<li>Once again, in both functions, the first argument can be modified while the second cannot</li>
</ul><div class="remark-slide-number">31 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="actions">Actions</h1>
<p>The <code class="remark remark-inline-code">aggregate</code> action</p>
<div class="pure-table pure-table-striped"><table>
<thead>
<tr>
<th style="text-align:right">action</th>
<th style="text-align:right">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">aggregate(zero, seqOp, combOp)</code></td>
<td style="text-align:right">Similar to reduce() but used to return a different type.</td>
</tr>
</tbody>
</table>
</div>

<p>Example</p>
<pre><code class="python hljs remark-code"><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>seqOp = <span class="hljs-keyword">lambda</span> x, y: (x[<span class="hljs-number">0</span>] + y, x[<span class="hljs-number">1</span>] + <span class="hljs-number">1</span>)</div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>combOp = <span class="hljs-keyword">lambda</span> x, y: (x[<span class="hljs-number">0</span>] + y[<span class="hljs-number">0</span>], x[<span class="hljs-number">1</span>] + y[<span class="hljs-number">1</span>])</div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>sc.parallelize([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]).aggregate((<span class="hljs-number">0</span>, <span class="hljs-number">0</span>), seqOp, combOp)</div><div class="remark-code-line">(<span class="hljs-number">10</span>, <span class="hljs-number">4</span>)</div></code></pre>
<pre><code class="python hljs remark-code"><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>sc.parallelize([]).aggregate((<span class="hljs-number">0</span>, <span class="hljs-number">0</span>), seqOp, combOp)</div><div class="remark-code-line">(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>)</div></code></pre>
<p><span class="footnote"><a href="http://localhost:8888/notebooks/notebooks/notebook05_sparkrdd.ipynb">[Let's go to notebook05_sparkrdd.ipynb]</a></span></p><div class="remark-slide-number">32 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="actions">Actions</h1>
<p>The <code class="remark remark-inline-code">foreach</code> action</p>
<div class="pure-table pure-table-striped"><table>
<thead>
<tr>
<th style="text-align:right">action</th>
<th style="text-align:right">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">foreach(f)</code></td>
<td style="text-align:right">Apply a function <code class="remark remark-inline-code">f</code> to each element of a RDD</td>
</tr>
</tbody>
</table>
</div>

<ul>
<li><p>Performs an action on all of the elements in the RDD without returning any result to the driver.</p>
</li>
<li><p>Example : insert records into a database with <code class="remark remark-inline-code">f</code></p>
</li>
</ul>
<p>The <code class="remark remark-inline-code">foreach()</code> action lets us perform computations on each element in the RDD without bringing it back locally</p><div class="remark-slide-number">33 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top center middle inverse hljs-default"><h1 id="2-4-persistence">2.4 Persistence</h1><div class="remark-slide-number">34 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="lazy-evaluation-and-persistence">Lazy evaluation and persistence</h1>
<ul>
<li><p>Spark RDDs are <strong>lazily evaluated</strong></p>
</li>
<li><p>Each time an action is called on a RDD, this RDD and all its dependencies are <span class="stress">recomputed</span></p>
</li>
<li><p>If you plan to reuse a RDD multiple times, you should use <span class="stress">persistence</span></p>
</li>
</ul>
<p><strong>Remarks</strong></p>
<ul>
<li>Lazy evaluation helps <code class="remark remark-inline-code">spark</code> to <strong>reduce the number of passes</strong> over the data it has to make by grouping operations together</li>
<li>No substantial benefit to writing a single complex map instead of chaining together many simple operations</li>
<li>Users are free to organize their program into <strong>smaller</strong>, more <strong>manageable operations</strong></li>
</ul><div class="remark-slide-number">35 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="persistence">Persistence</h1>
<p>How to use persistence ?</p>
<div class="pure-table pure-table-striped"><table>
<thead>
<tr>
<th style="text-align:right">method</th>
<th style="text-align:right">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">cache()</code></td>
<td style="text-align:right">Persist the RDD in memory</td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">persist(storageLevel)</code></td>
<td style="text-align:right">Persist the RDD according to <code class="remark remark-inline-code">storageLevel</code></td>
</tr>
</tbody>
</table>
</div>

<ul>
<li>These methods must be called <span class="stress">before</span> the action, and do not trigger the computation</li>
</ul>
<p>Usage of <code class="remark remark-inline-code">storageLevel</code></p>
<pre><code class="python hljs remark-code"><div class="remark-code-line">pyspark.StorageLevel(</div><div class="remark-code-line">  useDisk, useMemory, useOffHeap, deserialized, replication=<span class="hljs-number">1</span></div><div class="remark-code-line">)</div></code></pre><div class="remark-slide-number">36 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="persistence">Persistence</h1>
<p>Options for persistence</p>
<div class="pure-table pure-table-striped"><table>
<thead>
<tr>
<th style="text-align:right">argument</th>
<th style="text-align:right">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">useDisk</code></td>
<td style="text-align:right">Allow caching to use disk if <code class="remark remark-inline-code">True</code></td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">useMemory</code></td>
<td style="text-align:right">Allow caching to use memory if <code class="remark remark-inline-code">True</code></td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">useOffHeap</code></td>
<td style="text-align:right">Store data outside of JVM heap if <code class="remark remark-inline-code">True</code>. Useful if using some in-memory storage system (such a <code class="remark remark-inline-code">Tachyon</code>)</td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">deserialized</code></td>
<td style="text-align:right">Cache data without serialization if <code class="remark remark-inline-code">True</code></td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">replication</code></td>
<td style="text-align:right">Number of replications of the cached data</td>
</tr>
</tbody>
</table>
</div><div class="remark-slide-number">37 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="persistence">Persistence</h1>
<p>Options for persistence</p>
<div class="pure-table pure-table-striped"><table>
<thead>
<tr>
<th style="text-align:right">argument</th>
<th style="text-align:right">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">useDisk</code></td>
<td style="text-align:right">Allow caching to use disk if <code class="remark remark-inline-code">True</code></td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">useMemory</code></td>
<td style="text-align:right">Allow caching to use memory if <code class="remark remark-inline-code">True</code></td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">useOffHeap</code></td>
<td style="text-align:right">Store data outside of JVM heap if <code class="remark remark-inline-code">True</code>. Useful if using some in-memory storage system (such a <code class="remark remark-inline-code">Tachyon</code>)</td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">deserialized</code></td>
<td style="text-align:right">Cache data without serialization if <code class="remark remark-inline-code">True</code></td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">replication</code></td>
<td style="text-align:right">Number of replications of the cached data</td>
</tr>
</tbody>
</table>
</div>

<p><code class="remark remark-inline-code">replication</code></p>
<ul>
<li>If you cache data that is quite slow to be recomputed, you can use replications. If a machine fails, data will not have to be recomputed.</li>
</ul><div class="remark-slide-number">38 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="persistence">Persistence</h1>
<p>Options for persistence</p>
<div class="pure-table pure-table-striped"><table>
<thead>
<tr>
<th style="text-align:right">argument</th>
<th style="text-align:right">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">useDisk</code></td>
<td style="text-align:right">Allow caching to use disk if <code class="remark remark-inline-code">True</code></td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">useMemory</code></td>
<td style="text-align:right">Allow caching to use memory if <code class="remark remark-inline-code">True</code></td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">useOffHeap</code></td>
<td style="text-align:right">Store data outside of JVM heap if <code class="remark remark-inline-code">True</code>. Useful if using some in-memory storage system (such a <code class="remark remark-inline-code">Tachyon</code>)</td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">deserialized</code></td>
<td style="text-align:right">Cache data without serialization if <code class="remark remark-inline-code">True</code></td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">replication</code></td>
<td style="text-align:right">Number of replications of the cached data</td>
</tr>
</tbody>
</table>
</div>

<p><code class="remark remark-inline-code">deserialized</code></p>
<ul>
<li>Serialization is conversion of the data to a binary format</li>
<li>To the best of our knowledge, <code class="remark remark-inline-code">PySpark</code> only support serialized caching (using <code class="remark remark-inline-code">pickle</code>) </li>
</ul><div class="remark-slide-number">39 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="persistence">Persistence</h1>
<p>Options for persistence</p>
<div class="pure-table pure-table-striped"><table>
<thead>
<tr>
<th style="text-align:right">argument</th>
<th style="text-align:right">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">useDisk</code></td>
<td style="text-align:right">Allow caching to use disk if <code class="remark remark-inline-code">True</code></td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">useMemory</code></td>
<td style="text-align:right">Allow caching to use memory if <code class="remark remark-inline-code">True</code></td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">useOffHeap</code></td>
<td style="text-align:right">Store data outside of JVM heap if <code class="remark remark-inline-code">True</code>. Useful if using some in-memory storage system (such a <code class="remark remark-inline-code">Tachyon</code>)</td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">deserialized</code></td>
<td style="text-align:right">Cache data without serialization if <code class="remark remark-inline-code">True</code></td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">replication</code></td>
<td style="text-align:right">Number of replications of the cached data</td>
</tr>
</tbody>
</table>
</div>

<p><code class="remark remark-inline-code">useOffHeap</code></p>
<ul>
<li>Data cached in the JVM heap by default</li>
<li>Very interesting alternative in-memory solutions such as <code class="remark remark-inline-code">tachyon</code></li>
<li>Don't forget that <code class="remark remark-inline-code">spark</code> is <code class="remark remark-inline-code">scala</code> running on the JVM</li>
</ul><div class="remark-slide-number">40 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="back-to-options-for-persistence">Back to options for persistence</h1>
<pre><code class="python hljs remark-code"><div class="remark-code-line">StorageLevel(useDisk, useMemory, useOffHeap, deserialized, replication)</div></code></pre>
<p>You can use these constants:</p>
<pre><code class="python hljs remark-code"><div class="remark-code-line">DISK_ONLY = StorageLevel(<span class="hljs-keyword">True</span>, <span class="hljs-keyword">False</span>, <span class="hljs-keyword">False</span>, <span class="hljs-keyword">False</span>, <span class="hljs-number">1</span>)</div><div class="remark-code-line">DISK_ONLY_2 = StorageLevel(<span class="hljs-keyword">True</span>, <span class="hljs-keyword">False</span>, <span class="hljs-keyword">False</span>, <span class="hljs-keyword">False</span>, <span class="hljs-number">2</span>)</div><div class="remark-code-line">MEMORY_AND_DISK = StorageLevel(<span class="hljs-keyword">True</span>, <span class="hljs-keyword">True</span>, <span class="hljs-keyword">False</span>, <span class="hljs-keyword">True</span>, <span class="hljs-number">1</span>)</div><div class="remark-code-line">MEMORY_AND_DISK_2 = StorageLevel(<span class="hljs-keyword">True</span>, <span class="hljs-keyword">True</span>, <span class="hljs-keyword">False</span>, <span class="hljs-keyword">True</span>, <span class="hljs-number">2</span>)</div><div class="remark-code-line">MEMORY_AND_DISK_SER = StorageLevel(<span class="hljs-keyword">True</span>, <span class="hljs-keyword">True</span>, <span class="hljs-keyword">False</span>, <span class="hljs-keyword">False</span>, <span class="hljs-number">1</span>)</div><div class="remark-code-line">MEMORY_AND_DISK_SER_2 = StorageLevel(<span class="hljs-keyword">True</span>, <span class="hljs-keyword">True</span>, <span class="hljs-keyword">False</span>, <span class="hljs-keyword">False</span>, <span class="hljs-number">2</span>)</div><div class="remark-code-line">MEMORY_ONLY = StorageLevel(<span class="hljs-keyword">False</span>, <span class="hljs-keyword">True</span>, <span class="hljs-keyword">False</span>, <span class="hljs-keyword">True</span>, <span class="hljs-number">1</span>)</div><div class="remark-code-line">MEMORY_ONLY_2 = StorageLevel(<span class="hljs-keyword">False</span>, <span class="hljs-keyword">True</span>, <span class="hljs-keyword">False</span>, <span class="hljs-keyword">True</span>, <span class="hljs-number">2</span>)</div><div class="remark-code-line">MEMORY_ONLY_SER = StorageLevel(<span class="hljs-keyword">False</span>, <span class="hljs-keyword">True</span>, <span class="hljs-keyword">False</span>, <span class="hljs-keyword">False</span>, <span class="hljs-number">1</span>)</div><div class="remark-code-line">MEMORY_ONLY_SER_2 = StorageLevel(<span class="hljs-keyword">False</span>, <span class="hljs-keyword">True</span>, <span class="hljs-keyword">False</span>, <span class="hljs-keyword">False</span>, <span class="hljs-number">2</span>)</div><div class="remark-code-line">OFF_HEAP = StorageLevel(<span class="hljs-keyword">False</span>, <span class="hljs-keyword">False</span>, <span class="hljs-keyword">True</span>, <span class="hljs-keyword">False</span>, <span class="hljs-number">1</span>)</div></code></pre>
<p>and simply call
for instance</p>
<pre><code class="python hljs remark-code"><div class="remark-code-line">rdd.persist(MEMORY_AND_DISK)</div></code></pre><div class="remark-slide-number">41 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="persistence">Persistence</h1>
<p>What if you attempt to <span class="stress">cache too much data to fit in memory ?</span></p>
<p>Spark will automatically evict old partitions using a Least Recently Used (LRU) cache policy:</p>
<ul>
<li><p>For the <strong>memory-only</strong> storage levels, it will recompute these partitions the next time they are accessed</p>
</li>
<li><p>For the <strong>memory-and-disk</strong> ones, it will write them out to disk</p>
</li>
</ul>
<p>Use <code class="remark remark-inline-code">unpersist()</code> to RDDs to <strong>manually remove them</strong> from the cache</p><div class="remark-slide-number">42 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="reminder-about-passing-functions-again-">Reminder: about passing functions (again)</h1>
<p><strong>Warning</strong> </p>
<ul>
<li>When passing functions, you can <span class="stress">inadvertently serialize the object containing the function</span>. </li>
</ul>
<p>If you pass a function that:</p>
<ul>
<li>is the member of an object</li>
<li>contains references to fields in an object</li>
</ul>
<p>then <code class="remark remark-inline-code">Spark</code> sends the <span class="stress">entire object to worker nodes</span>, which can be <strong>much larger</strong> than the bit of information you need</p>
<ul>
<li>This can cause your <span class="stress">program to fail</span>, if your class contains objects that <strong>Python can't pickle</strong></li>
</ul><div class="remark-slide-number">43 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="about-passing-functions">About passing functions</h1>
<p>Passing a function with field references (<span class="stress">dont do this !</span>)</p>
<pre><code class="python hljs remark-code"><div class="remark-code-line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SearchFunctions</span><span class="hljs-params">(object)</span>:</span></div><div class="remark-code-line"></div><div class="remark-code-line">  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, query)</span>:</span></div><div class="remark-code-line">      self.query = query</div><div class="remark-code-line"></div><div class="remark-code-line">  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">isMatch</span><span class="hljs-params">(self, s)</span>:</span></div><div class="remark-code-line">      <span class="hljs-keyword">return</span> self.query <span class="hljs-keyword">in</span> s</div><div class="remark-code-line"></div><div class="remark-code-line">  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getMatchesFunctionReference</span><span class="hljs-params">(self, rdd)</span>:</span></div><div class="remark-code-line">      <span class="hljs-comment"># Problem: references all of "self" in "self.isMatch"</span></div><div class="remark-code-line">      <span class="hljs-keyword">return</span> rdd.filter(self.isMatch)</div><div class="remark-code-line"></div><div class="remark-code-line">  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getMatchesMemberReference</span><span class="hljs-params">(self, rdd)</span>:</span></div><div class="remark-code-line">      <span class="hljs-comment"># Problem: references all of "self" in "self.query"</span></div><div class="remark-code-line">      <span class="hljs-keyword">return</span> rdd.filter(<span class="hljs-keyword">lambda</span> x: self.query <span class="hljs-keyword">in</span> x)</div></code></pre>
<p>Instead, <strong>just extract the fields you need</strong> from your object into a local variable and pass that in</p><div class="remark-slide-number">44 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="about-passing-functions">About passing functions</h1>
<p>Python function passing without field references</p>
<pre><code class="python hljs remark-code"><div class="remark-code-line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">WordFunctions</span><span class="hljs-params">(object)</span>:</span></div><div class="remark-code-line">  ...</div><div class="remark-code-line"></div><div class="remark-code-line"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getMatchesNoReference</span><span class="hljs-params">(self, rdd)</span>:</span></div><div class="remark-code-line">  <span class="hljs-comment"># Safe: extract only the field we need into a local variable</span></div><div class="remark-code-line">  query = self.query</div><div class="remark-code-line">  <span class="hljs-keyword">return</span> rdd.filter(<span class="hljs-keyword">lambda</span> x: query <span class="hljs-keyword">in</span> x)</div></code></pre>
<p>Much better to do this instead</p><div class="remark-slide-number">45 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top center middle inverse hljs-default"><h1 id="2-5-pair-rdd-key-value-pairs">2.5. Pair RDD: key-value pairs</h1><div class="remark-slide-number">46 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="pair-rdd-key-value-pairs">Pair RDD: key-value pairs</h1>
<p>It's roughly an RDD where each element is a tuple with two elements: a key and a value</p>
<ul>
<li>For numerous tasks, such as aggregations tasks, storing information as <code class="remark remark-inline-code">(key, value)</code> pairs into RDD is very convenient</li>
<li>Such RDDs are called <code class="remark remark-inline-code">PairRDD</code></li>
<li>Pair RDDs expose <span class="stress">new operations</span> such as <strong>grouping together</strong> data with the same key, and <strong>grouping together two different RDDs</strong></li>
</ul>
<h3 id="creating-a-pair-rdd">Creating a pair RDD</h3>
<p>Calling <code class="remark remark-inline-code">map</code> with a function returning a <code class="remark remark-inline-code">tuple</code> with two elements</p>
<pre><code class="python hljs remark-code"><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd = sc.parallelize([[<span class="hljs-number">1</span>, <span class="hljs-string">"a"</span>, <span class="hljs-number">7</span>], [<span class="hljs-number">2</span>, <span class="hljs-string">"b"</span>, <span class="hljs-number">13</span>], [<span class="hljs-number">2</span>, <span class="hljs-string">"c"</span>, <span class="hljs-number">17</span>]])</div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd = rdd.map(<span class="hljs-keyword">lambda</span> x: (x[<span class="hljs-number">0</span>], x[<span class="hljs-number">1</span>:]))</div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd.collect()</div><div class="remark-code-line">[(<span class="hljs-number">1</span>, [<span class="hljs-string">'a'</span>, <span class="hljs-number">7</span>]), (<span class="hljs-number">2</span>, [<span class="hljs-string">'b'</span>, <span class="hljs-number">13</span>]), (<span class="hljs-number">2</span>, [<span class="hljs-string">'c'</span>, <span class="hljs-number">17</span>])]</div></code></pre><div class="remark-slide-number">47 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="warning">Warning</h1>
<p>An element mut be tuples with two elements (the key and the value)</p>
<pre><code class="python hljs remark-code"><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd = sc.parallelize([[<span class="hljs-number">1</span>, <span class="hljs-string">"a"</span>, <span class="hljs-number">7</span>], [<span class="hljs-number">2</span>, <span class="hljs-string">"b"</span>, <span class="hljs-number">13</span>], [<span class="hljs-number">2</span>, <span class="hljs-string">"c"</span>, <span class="hljs-number">17</span>]])</div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd.keys().collect()</div><div class="remark-code-line">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>]</div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd.values().collect()</div><div class="remark-code-line">[<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>]</div></code></pre>
<p>For things to work as expected you <strong>must</strong> do</p>
<pre><code class="python hljs remark-code"><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd = sc.parallelize([[<span class="hljs-number">1</span>, <span class="hljs-string">"a"</span>, <span class="hljs-number">7</span>], [<span class="hljs-number">2</span>, <span class="hljs-string">"b"</span>, <span class="hljs-number">13</span>], [<span class="hljs-number">2</span>, <span class="hljs-string">"c"</span>, <span class="hljs-number">17</span>]])\</div><div class="remark-code-line">      .map(<span class="hljs-keyword">lambda</span> x: (x[<span class="hljs-number">0</span>], x[<span class="hljs-number">1</span>:]))</div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd.keys().collect()</div><div class="remark-code-line">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>]</div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd.values().collect()</div><div class="remark-code-line">[[<span class="hljs-string">'a'</span>, <span class="hljs-number">7</span>], [<span class="hljs-string">'b'</span>, <span class="hljs-number">13</span>], [<span class="hljs-string">'c'</span>, <span class="hljs-number">17</span>]]</div></code></pre><div class="remark-slide-number">48 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="transformations-for-a-single-pairrdd-">Transformations for a single <code class="remark remark-inline-code">PairRDD</code></h1>
<div class="pure-table pure-table-striped"><table>
<thead>
<tr>
<th style="text-align:right">transformation</th>
<th style="text-align:right">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">keys()</code></td>
<td style="text-align:right">Return an RDD containing the keys.</td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">values()</code></td>
<td style="text-align:right">Return an RDD containing the values.</td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">sortByKey()</code></td>
<td style="text-align:right">Return an RDD sorted by the key.</td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">mapValues(f)</code></td>
<td style="text-align:right">Apply a function <code class="remark remark-inline-code">f</code> to each value of a pair RDD without changing the key.</td>
</tr>
</tbody>
</table>
</div>

<p>Example with <code class="remark remark-inline-code">mapValues</code></p>
<pre><code class="python hljs remark-code"><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd = sc.parallelize([(<span class="hljs-string">"a"</span>, <span class="hljs-string">"x y z"</span>), (<span class="hljs-string">"b"</span>, <span class="hljs-string">"p r"</span>)])</div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd.mapValues(<span class="hljs-keyword">lambda</span> v: v.split(<span class="hljs-string">' '</span>)).collect()</div><div class="remark-code-line">[(<span class="hljs-string">'a'</span>, [<span class="hljs-string">'x'</span>, <span class="hljs-string">'y'</span>, <span class="hljs-string">'z'</span>]), (<span class="hljs-string">'b'</span>, [<span class="hljs-string">'p'</span>, <span class="hljs-string">'r'</span>])]</div></code></pre><div class="remark-slide-number">49 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="transformations-for-a-single-pairrdd-">Transformations for a single <code class="remark remark-inline-code">PairRDD</code></h1>
<div class="pure-table pure-table-striped"><table>
<thead>
<tr>
<th style="text-align:right">transformation</th>
<th style="text-align:right">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">flatMapValues(f)</code></td>
<td style="text-align:right">Pass each value in the key-value pair RDD through a flatMap function <code class="remark remark-inline-code">f</code> without changing the keys.</td>
</tr>
</tbody>
</table>
</div>

<p>Example with <code class="remark remark-inline-code">flatMapValues</code></p>
<pre><code class="python hljs remark-code"><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>texts = sc.parallelize([(<span class="hljs-string">"a"</span>, <span class="hljs-string">"x y z"</span>), (<span class="hljs-string">"b"</span>, <span class="hljs-string">"p r"</span>)])</div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>tokenize = <span class="hljs-keyword">lambda</span> x: x.split(<span class="hljs-string">" "</span>)</div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>texts.flatMapValues(tokenize).collect()</div><div class="remark-code-line">[(<span class="hljs-string">'a'</span>, <span class="hljs-string">'x'</span>), (<span class="hljs-string">'a'</span>, <span class="hljs-string">'y'</span>), (<span class="hljs-string">'a'</span>, <span class="hljs-string">'z'</span>), (<span class="hljs-string">'b'</span>, <span class="hljs-string">'p'</span>), (<span class="hljs-string">'b'</span>, <span class="hljs-string">'r'</span>)]</div></code></pre><div class="remark-slide-number">50 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="transformations-for-a-single-pairrdd-">Transformations for a single <code class="remark remark-inline-code">PairRDD</code></h1>
<div class="pure-table pure-table-striped"><table>
<thead>
<tr>
<th style="text-align:right">transformation</th>
<th style="text-align:right">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">groupByKey()</code></td>
<td style="text-align:right">Group values with the same key</td>
</tr>
</tbody>
</table>
</div>

<p>Example with <code class="remark remark-inline-code">groupByKey</code></p>
<pre><code class="python hljs remark-code"><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd = sc.parallelize([</div><div class="remark-code-line">  (<span class="hljs-string">"a"</span>, <span class="hljs-number">1</span>), (<span class="hljs-string">"b"</span>, <span class="hljs-number">1</span>), (<span class="hljs-string">"a"</span>, <span class="hljs-number">1</span>), </div><div class="remark-code-line">  (<span class="hljs-string">"b"</span>, <span class="hljs-number">3</span>), (<span class="hljs-string">"c"</span>, <span class="hljs-number">42</span>)</div><div class="remark-code-line">  ])</div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd.groupByKey().mapValues(list).collect()</div><div class="remark-code-line">[(<span class="hljs-string">'c'</span>, [<span class="hljs-number">42</span>]), (<span class="hljs-string">'b'</span>, [<span class="hljs-number">1</span>, <span class="hljs-number">3</span>]), (<span class="hljs-string">'a'</span>, [<span class="hljs-number">1</span>, <span class="hljs-number">1</span>])]</div></code></pre><div class="remark-slide-number">51 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><p><span class="center"><img src="./Remark3_files/group_by.png"></span></p><div class="remark-slide-number">52 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="transformations-for-a-single-pairrdd-">Transformations for a single <code class="remark remark-inline-code">PairRDD</code></h1>
<div class="pure-table pure-table-striped"><table>
<thead>
<tr>
<th style="text-align:right">transformation</th>
<th style="text-align:right">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">reduceByKey(f)</code></td>
<td style="text-align:right">Merge the values for each key using an associative reduce function <code class="remark remark-inline-code">f</code>.</td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">foldByKey(f)</code></td>
<td style="text-align:right">Merge the values for each key using an associative reduce function <code class="remark remark-inline-code">f</code>.</td>
</tr>
</tbody>
</table>
</div>

<p>Example with <code class="remark remark-inline-code">reduceByKey</code></p>
<pre><code class="python hljs remark-code"><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd = sc.parallelize([(<span class="hljs-string">"a"</span>, <span class="hljs-number">1</span>), (<span class="hljs-string">"b"</span>, <span class="hljs-number">1</span>), (<span class="hljs-string">"a"</span>, <span class="hljs-number">1</span>)])</div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd.reduceByKey(<span class="hljs-keyword">lambda</span> a, b: a + b).collect()</div><div class="remark-code-line">[(<span class="hljs-string">'a'</span>, <span class="hljs-number">2</span>), (<span class="hljs-string">'b'</span>, <span class="hljs-number">1</span>)]</div></code></pre>
<ul>
<li>The reducing occurs first <strong>locally</strong> (within partitions)</li>
<li>Then, a shuffle is performed with the local results to reduce globally</li>
</ul><div class="remark-slide-number">53 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><p><span class="center"><img src="./Remark3_files/reduce_by.png"></span></p><div class="remark-slide-number">54 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="transformations-for-a-single-pairrdd-">Transformations for a single <code class="remark remark-inline-code">PairRDD</code></h1>
<div class="pure-table pure-table-striped"><table>
<thead>
<tr>
<th style="text-align:right">transformation</th>
<th style="text-align:right">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">combineByKey(createCombiner, mergeValue, mergeCombiners, [partitioner])</code></td>
<td style="text-align:right">Generic function to combine the elements for each key using a custom set of aggregation functions.</td>
</tr>
</tbody>
</table>
</div>

<ul>
<li>Transforms an <code class="remark remark-inline-code">RDD[(K, V)]</code> into another RDD of type <code class="remark remark-inline-code">RDD[(K, C)]</code> for a "combined" type <code class="remark remark-inline-code">C</code> that can be different from <code class="remark remark-inline-code">V</code></li>
</ul>
<p>The user must define</p>
<ul>
<li><code class="remark remark-inline-code">createCombiner</code> : which turns a <code class="remark remark-inline-code">V</code> into a <code class="remark remark-inline-code">C</code></li>
<li><code class="remark remark-inline-code">mergeValue</code> : to merge a <code class="remark remark-inline-code">V</code> into a <code class="remark remark-inline-code">C</code></li>
<li><code class="remark remark-inline-code">mergeCombiners</code> : to combine two <code class="remark remark-inline-code">C</code>s into a single one</li>
</ul><div class="remark-slide-number">55 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="transformations-for-a-single-pairrdd-">Transformations for a single <code class="remark remark-inline-code">PairRDD</code></h1>
<div class="pure-table pure-table-striped"><table>
<thead>
<tr>
<th style="text-align:right">transformation</th>
<th style="text-align:right">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">combineByKey(createCombiner, mergeValue, mergeCombiners, [partitioner])</code></td>
<td style="text-align:right">Generic function to combine the elements for each key using a custom set of aggregation functions.</td>
</tr>
</tbody>
</table>
</div>

<p>In this example</p>
<ul>
<li><code class="remark remark-inline-code">createCombiner</code> : converts the value to <code class="remark remark-inline-code">str</code></li>
<li><code class="remark remark-inline-code">mergeValue</code> : concatenates two <code class="remark remark-inline-code">str</code></li>
<li><code class="remark remark-inline-code">mergeCombiners</code> : concatenates two <code class="remark remark-inline-code">str</code></li>
</ul>
<pre><code class="python hljs remark-code"><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd = sc.parallelize([(<span class="hljs-string">'a'</span>, <span class="hljs-number">1</span>), (<span class="hljs-string">'b'</span>, <span class="hljs-number">2</span>), (<span class="hljs-string">'a'</span>, <span class="hljs-number">13</span>)])</div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">add</span><span class="hljs-params">(a, b)</span>:</span> </div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>    <span class="hljs-keyword">return</span> a + str(b)</div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>rdd.combineByKey(str, add, add).collect()</div><div class="remark-code-line">[(<span class="hljs-string">'a'</span>, <span class="hljs-string">'113'</span>), (<span class="hljs-string">'b'</span>, <span class="hljs-string">'2'</span>)]</div></code></pre><div class="remark-slide-number">56 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="transformations-for-two-pairrdd-">Transformations for two <code class="remark remark-inline-code">PairRDD</code></h1>
<div class="pure-table pure-table-striped"><table>
<thead>
<tr>
<th style="text-align:right">transformation</th>
<th style="text-align:right">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">subtractByKey(other)</code></td>
<td style="text-align:right">Remove elements with a key present in the <code class="remark remark-inline-code">other</code> RDD.</td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">join(other)</code></td>
<td style="text-align:right">Inner join with <code class="remark remark-inline-code">other</code> RDD.</td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">rightOuterJoin(other)</code></td>
<td style="text-align:right">Right join with <code class="remark remark-inline-code">other</code> RDD.</td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">leftOuterJoin(other)</code></td>
<td style="text-align:right">Left join with <code class="remark remark-inline-code">other</code> RDD.</td>
</tr>
</tbody>
</table>
</div>

<ul>
<li>Right join: the key must be present in the first RDD</li>
<li>Left join: the key must be present in the <code class="remark remark-inline-code">other</code> RDD</li>
</ul>
<p><span class="center"><img width="600px" src="./Remark3_files/join-types.png"></span></p><div class="remark-slide-number">57 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="transformations-for-two-pairrdd-">Transformations for two <code class="remark remark-inline-code">PairRDD</code></h1>
<ul>
<li><p>Join operations are mainly used through the high-level API: <code class="remark remark-inline-code">DataFrame</code> objects and the <code class="remark remark-inline-code">spark.sql</code> API </p>
</li>
<li><p>We will use them a lot with the high-level API (<code class="remark remark-inline-code">DataFrame</code> from <code class="remark remark-inline-code">spark.sql</code>)</p>
</li>
</ul>
<p><span class="footnote"><a href="http://localhost:8888/notebooks/notebooks/notebook05_sparkrdd.ipynb">[Let's go to notebook05_sparkrdd.ipynb]</a></span></p><div class="remark-slide-number">58 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="actions-for-two-pairrdd-">Actions for two <code class="remark remark-inline-code">PairRDD</code></h1>
<div class="pure-table pure-table-striped"><table>
<thead>
<tr>
<th style="text-align:right">action</th>
<th style="text-align:right">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">countByKey()</code></td>
<td style="text-align:right">Count the number of elements for each key.</td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">lookup(key)</code></td>
<td style="text-align:right">Return all the values associated with the provided <code class="remark remark-inline-code">key</code>.</td>
</tr>
<tr>
<td style="text-align:right"><code class="remark remark-inline-code">collectAsMap()</code></td>
<td style="text-align:right">Return the key-value pairs in this RDD to the master as a Python dictionary.</td>
</tr>
</tbody>
</table>
</div>

<p><span class="footnote"><a href="http://localhost:8888/notebooks/notebooks/notebook05_sparkrdd.ipynb">[Let's go to notebook05_sparkrdd.ipynb]</a></span></p><div class="remark-slide-number">59 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="data-partitionning">Data partitionning</h1>
<ul>
<li><p>Some operations on <code class="remark remark-inline-code">PairRDD</code>s, such as <code class="remark remark-inline-code">join</code>, require to scan the data <strong>more than once</strong></p>
</li>
<li><p>Partitionning the RDDs <strong>in advance</strong> can reduce network communications</p>
</li>
<li><p>When a key-oriented dataset is reused multiple times, partitionning can lead to performance increase</p>
</li>
<li><p>In <code class="remark remark-inline-code">Spark</code>: you can <span class="stress">choose which keys will appear on the same node</span>, but no explicit control of which worker node each key goes to.</p>
</li>
</ul><div class="remark-slide-number">60 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top hljs-default"><h1 id="data-partitionning">Data partitionning</h1>
<p>In practice, you can specify the number of partitions with</p>
<pre><code class="python hljs remark-code"><div class="remark-code-line">rdd.partitionBy(<span class="hljs-number">100</span>)</div></code></pre>
<p>You can also use a custom partition function <code class="remark remark-inline-code">hash</code> such that <code class="remark remark-inline-code">hash(key)</code> returns a hash</p>
<pre><code class="python hljs remark-code"><div class="remark-code-line"><span class="hljs-keyword">import</span> urlparse</div><div class="remark-code-line"></div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">hash_domain</span><span class="hljs-params">(url)</span>:</span></div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>    <span class="hljs-comment"># Returns a hash associated to the domain of a website</span></div><div class="remark-code-line"><span class="hljs-meta">&gt;&gt;&gt; </span>    <span class="hljs-keyword">return</span> hash(urlparse.urlparse(url).netloc)</div><div class="remark-code-line"></div><div class="remark-code-line">rdd.partitionBy(<span class="hljs-number">20</span>, hash_domain) <span class="hljs-comment"># Create 20 partitions</span></div></code></pre>
<p>To have finer control on partitionning, you must use the Scala API.</p><div class="remark-slide-number">61 / 62</div></div></div></div><div class="remark-slide-notes"></div></div><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top center middle inverse hljs-default"><h1 id="thank-you-">Thank you !</h1><div class="remark-slide-number">62 / 62</div></div></div></div><div class="remark-slide-notes"></div></div></div>
<div class="remark-preview-area"><div class="remark-slide-container"><div class="remark-slide-scaler" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;"><div class="remark-slide"><div class="remark-slide-content top center middle inverse hljs-default"><h1 id="2-apache-spark-and-rdds">2. Apache Spark and RDDs</h1><div class="remark-slide-number">2 / 62</div></div></div></div><div class="remark-slide-notes"></div></div></div>
<div class="remark-backdrop"></div>
<div class="remark-pause" style="transform: scale(1.09692); left: 277px; top: 0px;">
  <div class="remark-pause-lozenge">
    <span>Paused</span>
  </div>
</div>
<div class="remark-help" style="width: 908px; height: 681px; transform: scale(1.09692); left: 277px; top: 0px;">
  <div class="remark-help-content">
    <h1>Help</h1>
    <p><b>Keyboard shortcuts</b></p>
    <table class="light-keys">
      <tbody><tr>
        <td>
          <span class="key"><b></b></span>,
          <span class="key"><b></b></span>,
          <span class="key">Pg Up</span>,
          <span class="key">k</span>
        </td>
        <td>Go to previous slide</td>
      </tr>
      <tr>
        <td>
          <span class="key"><b></b></span>,
          <span class="key"><b></b></span>,
          <span class="key">Pg Dn</span>,
          <span class="key">Space</span>,
          <span class="key">j</span>
        </td>
        <td>Go to next slide</td>
      </tr>
      <tr>
        <td>
          <span class="key">Home</span>
        </td>
        <td>Go to first slide</td>
      </tr>
      <tr>
        <td>
          <span class="key">End</span>
        </td>
        <td>Go to last slide</td>
      </tr>
      <tr>
        <td>
          Number + <span class="key">Return</span>
        </td>
        <td>Go to specific slide</td>
      </tr>
      <tr>
        <td>
          <span class="key">b</span>&nbsp;/
          <span class="key">m</span>&nbsp;/
          <span class="key">f</span>
        </td>
        <td>Toggle blackout / mirrored / fullscreen mode</td>
      </tr>
      <tr>
        <td>
          <span class="key">c</span>
        </td>
        <td>Clone slideshow</td>
      </tr>
      <tr>
        <td>
          <span class="key">p</span>
        </td>
        <td>Toggle presenter mode</td>
      </tr>
      <tr>
        <td>
          <span class="key">t</span>
        </td>
        <td>Restart the presentation timer</td>
      </tr>
      <tr>
        <td>
          <span class="key">?</span>,
          <span class="key">h</span>
        </td>
        <td>Toggle this help</td>
      </tr>
    </tbody></table>
  </div>
  <div class="content dismiss">
    <table class="light-keys">
      <tbody><tr>
        <td>
          <span class="key">Esc</span>
        </td>
        <td>Back to slideshow</td>
      </tr>
    </tbody></table>
  </div>
</div>

	<script type="text/x-mathjax-config">
	  MathJax.Hub.Config({
	    extensions: ["tex2jax.js", "AMSmath.js", "AMSsymbols.js", "autobold.js"],
	    jax: ["input/TeX", "output/HTML-CSS"],
	    tex2jax: {
	    	skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
	      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
	      displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
	      processEscapes: true
	    },
	    "HTML-CSS": { availableFonts: ["TeX"] }
	  });
	</script>
	<script type="text/javascript" src="./Remark3_files/MathJax.js">
	</script>

  <link rel="stylesheet" href="./Remark3_files/pure-min.css">
  <style>
  .smaller-font { font-size:15.65px } 
  </style>
  



<iframe id="blockbyte-bs-sidebar" class="notranslate" data-pos="right" src="./Remark3_files/saved_resource.html"></iframe><div id="blockbyte-bs-indicator" class="blockbyte-bs-fullHeight blockbyte-bs-visible" data-pos="right" style="width: 1px; height: 100%; top: 0%;"><div><span></span></div></div></body></html>